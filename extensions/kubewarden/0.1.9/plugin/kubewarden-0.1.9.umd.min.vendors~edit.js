(("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_0_1_9"]=("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_0_1_9"]||[]).push([[26],{"0020":function(e,t,r){"use strict";r("ba49")},"0059":function(e,t,r){"use strict";r.d(t,"b",(function(){return d})),r.d(t,"a",(function(){return p}));var a=r("090b");class n{gcStartIntervals(e){const{enabled:t,interval:r}=a["a"].gcEnabledInterval(e);a["a"].gcEnabledSetting(e)&&t&&(this.gcInterval||(this.gcInterval=setInterval(()=>{e.dispatch("garbageCollect")},1e3*r)))}gcStopIntervals(){this.gcInterval&&(clearInterval(this.gcInterval),delete this.gcInterval)}}const s=new n;var o=s;function i(e){var t;let r=null===(t=e.params)||void 0===t?void 0:t.resource;if(!r){var a;const t=null===(a=e.name)||void 0===a?void 0:a.match(/^c-cluster-([^-]+)/);t&&(r=t[2])}return r}class l{gcRouteChanged(e,t){if(a["a"].gcUpdateRouteChanged(),!a["a"].gcEnabledSetting(e)||!a["a"].gcEnabledRoute(e)||"auth-logout"===t.name)return;const r=i(t),n=r?{[r]:!0}:{};e.dispatch("garbageCollect",n)}}const c=new l;var u=c;const d={gcStores(e){return Object.entries(e).filter(([e,t])=>{if("object"===typeof t&&a["a"].gcEnabledForStore(t))return!0})}},p={gcPreferencesUpdated({dispatch:e},{previouslyEnabled:t,newPreferences:r}){e("gcStopIntervals",{root:!0}),r.enabled?e("gcStartIntervals",{root:!0}):t&&e("gcResetStores",{root:!0})},gcRouteChanged(e,t){u.gcRouteChanged(e,t)},gcStartIntervals(e){o.gcStartIntervals(e)},gcStopIntervals(e){o.gcStopIntervals()},gcResetStores({dispatch:e,getters:t}){t.gcStores.forEach(([t,r])=>{e(t+"/gcResetStore")})},garbageCollect({rootState:e,dispatch:t,getters:r},n){a["a"].gcEnabledSetting({rootState:e})&&r.gcStores.forEach(([e,r])=>{t(e+"/garbageCollect",n)})}}},"01ae":function(e,t,r){"use strict";e.exports=o;var a=r("c186"),n=Object.create(r("6b5c"));function s(e,t){var r=this._transformState;r.transforming=!1;var a=r.writecb;if(!a)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),a(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);a.call(this,e),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",i)}function i(){var e=this;"function"===typeof this._flush?this._flush((function(t,r){l(e,t,r)})):l(this,null,null)}function l(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}n.inherits=r("a96d"),n.inherits(o,a),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,r){var a=this._transformState;if(a.writecb=r,a.writechunk=e,a.writeencoding=t,!a.transforming){var n=this._readableState;(a.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var r=this;a.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},"0374":function(e,t,r){"use strict";r("8c60")},"090b":function(e,t,r){"use strict";var a=r("8535"),n=r("907c"),s=r("66fb");class o{constructor(){this.cachedGcPrefs=s["a"],this.cachedGcPrefsStamp="",this.debugLog=(...e)=>{o.ENABLE_DEBUG_LOGGING&&console.debug("GC",...e)},this.gcLastRun=0,this.getUiPerfGarbageCollection=e=>{const t=e.management.types[n["m"].SETTING].list.find(e=>e.id===a["b"].UI_PERFORMANCE);if(!t||!t.value)return;const r=`${t.metadata.generation}-${t.metadata.resourceVersion}`;if(this.cachedGcPrefsStamp!==r){this.debugLog(`Updating ${a["b"].UI_PERFORMANCE} cache`),this.cachedGcPrefsStamp=r;const e=JSON.parse(t.value);this.cachedGcPrefs=e.garbageCollection}return this.cachedGcPrefs},this.lastAccessedCache={},this.lastRouteChange=0}gcEnabledAll(e,t){return this.gcEnabledForStore(e.state)&&this.gcEnabledSetting(e)&&this.gcEnabledForType(e,t)}gcEnabledSetting(e){const{rootState:t}=e,r=this.getUiPerfGarbageCollection(t);return null===r||void 0===r?void 0:r.enabled}gcEnabledForStore(e){var t;return null===e||void 0===e||null===(t=e.config)||void 0===t?void 0:t.supportsGc}gcEnabledForType(e,t){const{getters:r}=e;return!(!t||r.gcIgnoreTypes[t])}gcEnabledInterval(e){const{rootState:t}=e,r=this.getUiPerfGarbageCollection(t);return{enabled:null===r||void 0===r?void 0:r.enabledInterval,interval:(null===r||void 0===r?void 0:r.interval)||0}}gcEnabledRoute(e){const{rootState:t}=e,r=this.getUiPerfGarbageCollection(t);return null===r||void 0===r?void 0:r.enabledOnNavigate}garbageCollect(e,t={}){const r=(new Date).getTime();if(null===this.gcLastRun||r-this.gcLastRun<o.GC_RE_RUN_GAP)return void this.debugLog("Skipping (running or recently run)",this.gcLastRun?new Date(this.gcLastRun):"running");this.gcLastRun=null;const a={};try{const{getters:s,rootState:o,dispatch:i}=e;if(!o.clusterReady)return this.debugLog("Skipping (cluster not ready)"),void(this.gcLastRun=(new Date).getTime());this.debugLog("------ Started ------");const l=this.getUiPerfGarbageCollection(o);if(!l)return;const c=1e3*l.ageThreshold,u=l.countThreshold;this.debugLog(`Max Age: ${c}. Max Count: ${u}`);const d=e.state.config.namespace;Object.entries(this.lastAccessedCache[d]||{}).forEach(([o,l])=>{var d;if(!l)return void this.debugLog(o+": Skipping (no accessed time)");if(!this.gcEnabledForType(e,o))return void this.debugLog(o+": Skipping (type ignored by store)");if(t[o])return void this.debugLog(o+": Skipping (navigating to type)");if(r-l<=c)return void this.debugLog(o+": Skipping (recently accessed)");if(void 0!==this.lastRouteChange&&this.lastRouteChange<l)return void this.debugLog(o+": Skipping (used in current route/page)");const p=null===(d=s.all(n["d"])[0].counts[o])||void 0===d?void 0:d.summary.count,h=null!==p&&void 0!==p?p:0;void 0===h||h<u?this.debugLog(o+": Skipping (too few of resource)"):(this.debugLog(o+": Removing from store"),i("forgetType",o),a[o]=h)}),this.gcLastRun=(new Date).getTime()}catch(s){this.debugLog(": Error",s),this.gcLastRun=(new Date).getTime()}Object.keys(a).length>0&&console.info("Garbage Collected Resources",a),this.debugLog("------ Finished ------")}gcUpdateLastAccessed(e,t){if(!this.gcEnabledAll(e,t))return;const r=e.state.config.namespace;this.lastAccessedCache[r]||(this.lastAccessedCache[r]={}),this.lastAccessedCache[r][t]=(new Date).getTime()}gcUpdateRouteChanged(){this.lastRouteChange=(new Date).getTime()}gcResetStore(e){const t=e.config.namespace;delete this.lastAccessedCache[t],this.debugLog("Forgetting Store:",t)}gcResetType(e,t){const r=e.config.namespace;this.lastAccessedCache[r]&&(delete this.lastAccessedCache[r][t],this.debugLog("Forgetting Type:",r,t))}}o.ENABLE_DEBUG_LOGGING=!1,o.GC_RE_RUN_GAP=5e3;const i=new o;t["a"]=i},"0a93":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"title"},[r("h3",[e._v(e._s(e.t("monitoring.prometheus.title")))])]),e.filteredWorkloads&&e.warnUser?r("Banner",{attrs:{color:"warning"},scopedSlots:e._u([{key:"default",fn:function(){return[r("t",{attrs:{k:"monitoring.prometheus.warningInstalled",raw:!0}}),e._l(e.filteredWorkloads,(function(t){return r("div",{key:t.id,staticClass:"mt-10"},[r("nuxt-link",{staticClass:"btn role-tertiary",attrs:{to:t.link}},[e._v(" "+e._s(t.label)+" ")])],1)}))]},proxy:!0}],null,!1,1007101933)}):e._e(),r("div",{staticClass:"prometheus-config"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6 col-full-height"},[r("Checkbox",{attrs:{label:e.t("monitoring.prometheus.config.adminApi")},model:{value:e.value.prometheus.prometheusSpec.enableAdminAPI,callback:function(t){e.$set(e.value.prometheus.prometheusSpec,"enableAdminAPI",t)},expression:"value.prometheus.prometheusSpec.enableAdminAPI"}})],1),r("div",{staticClass:"col span-6 col-full-height"},[r("RadioGroup",{attrs:{mode:e.mode,name:"ignoreNamespaceSelectors","label-key":"monitoring.prometheus.config.ignoreNamespaceSelectors.label",tooltip:e.t("monitoring.prometheus.config.ignoreNamespaceSelectors.help",{},!0),labels:[e.t("monitoring.prometheus.config.ignoreNamespaceSelectors.radio.enforced"),e.t("monitoring.prometheus.config.ignoreNamespaceSelectors.radio.ignored")],options:[!1,!0]},model:{value:e.value.prometheus.prometheusSpec.ignoreNamespaceSelectors,callback:function(t){e.$set(e.value.prometheus.prometheusSpec,"ignoreNamespaceSelectors",t)},expression:"value.prometheus.prometheusSpec.ignoreNamespaceSelectors"}})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.scrape"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.scrapeInterval,callback:function(t){e.$set(e.value.prometheus.prometheusSpec,"scrapeInterval",t)},expression:"value.prometheus.prometheusSpec.scrapeInterval"}})],1),r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.evaluation"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.evaluationInterval,callback:function(t){e.$set(e.value.prometheus.prometheusSpec,"evaluationInterval",t)},expression:"value.prometheus.prometheusSpec.evaluationInterval"}})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.retention"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.retention,callback:function(t){e.$set(e.value.prometheus.prometheusSpec,"retention",t)},expression:"value.prometheus.prometheusSpec.retention"}})],1),r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.retentionSize"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.retentionSize,callback:function(t){e.$set(e.value.prometheus.prometheusSpec,"retentionSize",t)},expression:"value.prometheus.prometheusSpec.retentionSize"}})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col span-12 mt-5"},[r("h4",{staticClass:"mb-0"},[e._v(" "+e._s(e.t("monitoring.prometheus.config.resourceLimits"))+" ")])])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.requests.cpu"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.resources.requests.cpu,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.resources.requests,"cpu",t)},expression:"value.prometheus.prometheusSpec.resources.requests.cpu"}})],1),r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.requests.memory"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.resources.requests.memory,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.resources.requests,"memory",t)},expression:"value.prometheus.prometheusSpec.resources.requests.memory"}})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.limits.cpu"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.resources.limits.cpu,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.resources.limits,"cpu",t)},expression:"value.prometheus.prometheusSpec.resources.limits.cpu"}})],1),r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.config.limits.memory"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.resources.limits.memory,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.resources.limits,"memory",t)},expression:"value.prometheus.prometheusSpec.resources.limits.memory"}})],1)]),r("div",{staticClass:"row row-full-height container-flex-center",staticStyle:{"min-height":"55px"}},[r("div",{staticClass:"col span-6"},[r("Checkbox",{attrs:{label:e.t("monitoring.prometheus.storage.label")},model:{value:e.enablePersistentStorage,callback:function(t){e.enablePersistentStorage=t},expression:"enablePersistentStorage"}})],1)]),e.enablePersistentStorage?[r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{label:e.t("monitoring.prometheus.storage.size"),mode:e.mode},model:{value:e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.resources.requests.storage,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.resources.requests,"storage",t)},expression:"value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.resources.requests.storage"}})],1),r("div",{staticClass:"col span-6"},[e.showStorageClasses?r("div",[r("StorageClassSelector",{attrs:{mode:e.mode,options:e.storageClasses,value:e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.storageClassName,label:e.t("monitoring.prometheus.storage.className")},on:{updateName:function(t){return e.$set(e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec,"storageClassName",t)}}})],1):e._e()])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("LabeledSelect",{attrs:{label:e.t("monitoring.prometheus.storage.mode"),"localized-label":!0,mode:e.mode,multiple:!0,options:e.accessModes,reduce:function(e){var t=e.id;return t}},model:{value:e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.accessModes,callback:function(t){e.$set(e.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec,"accessModes",t)},expression:"value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.accessModes"}})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col span-12"},[r("div",{staticClass:"mb-5 mt-5"},[r("h4",{staticClass:" mb-10"},[e._v(" "+e._s(e.t("monitoring.prometheus.storage.selector"))+" ")])]),r("Banner",{attrs:{color:"warning",label:e.t("monitoring.prometheus.storage.selectorWarning",{},!0)}}),r("MatchExpressions",{attrs:{"initial-empty-row":!1,mode:e.mode,value:e.matchExpressions,"show-remove":!1},on:{input:function(t){return e.matchChanged(t)}}})],1)])]:e._e()],2)],1)},n=[],s=r("330a"),o=r.n(s),i=r("9ce4"),l=r("6418"),c=r("0df0"),u=r("8e93"),d=r("466b"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.showRemove&&!e.isView?r("button",{staticClass:"btn role-link remove-expression",attrs:{type:"button"},on:{click:function(t){return e.$emit("remove")}}},[r("i",{staticClass:"icon icon-x"})]):e._e(),e.rules.length?r("div",{staticClass:"match-expression-header",class:{view:e.isView}},[r("label",[e._v(" "+e._s(e.t("workload.scheduling.affinity.matchExpressions.key"))+" ")]),r("label",[e._v(" "+e._s(e.t("workload.scheduling.affinity.matchExpressions.operator"))+" ")]),r("label",[e._v(" "+e._s(e.t("workload.scheduling.affinity.matchExpressions.value"))+" ")]),r("span")]):e._e(),e._l(e.rules,(function(t,a){return r("div",{key:t.id,staticClass:"match-expression-row",class:{view:e.isView,"mb-10":a!==e.rules.length-1}},[r("div",{attrs:{"data-testid":"input-match-expression-key-"+a}},[e.isView?r("div",[e._v(" "+e._s(t.key)+" ")]):e.hasKeySelectOptions?r("LabeledSelect",{attrs:{mode:e.mode,options:e.keysSelectOptions},model:{value:t.key,callback:function(r){e.$set(t,"key",r)},expression:"row.key"}}):r("input",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"row.key"}],attrs:{mode:e.mode},domProps:{value:t.key},on:{input:[function(r){r.target.composing||e.$set(t,"key",r.target.value)},e.update]}})],1),r("div",{attrs:{"data-testid":"input-match-expression-operator-"+a}},[e.isView?r("div",[e._v(" "+e._s(t.operator)+" ")]):r("Select",{staticClass:"operator single",attrs:{options:e.ops,clearable:!1,reduce:function(e){return e.value},mode:e.mode},on:{input:e.update},model:{value:t.operator,callback:function(r){e.$set(t,"operator",r)},expression:"row.operator"}})],1),"Exists"===t.operator||"DoesNotExist"===t.operator?r("div",{staticClass:"no-value"},[r("label",{staticClass:"text-muted"},[e._v("â€¦")])]):r("div",{attrs:{"data-testid":"input-match-expression-values-"+a}},[e.isView?r("div",[e._v(" "+e._s(t.values)+" ")]):r("input",{directives:[{name:"model",rawName:"v-model",value:t.values,expression:"row.values"}],attrs:{mode:e.mode,disabled:"Exists"===t.operator||"DoesNotExist"===t.operator},domProps:{value:t.values},on:{input:[function(r){r.target.composing||e.$set(t,"values",r.target.value)},e.update]}})]),r("div",{staticClass:"remove-container"},[e.isView?e._e():r("button",{staticClass:"btn role-link",style:{padding:"0px"},attrs:{type:"button",disabled:"view"===e.mode},on:{click:function(r){return e.removeRule(t)}}},[r("t",{attrs:{k:"generic.remove"}})],1)])])})),e.isView?e._e():r("div",{staticClass:"mt-20"},[r("button",{staticClass:"btn role-tertiary add",attrs:{type:"button"},on:{click:e.addRule}},[r("t",{attrs:{k:"workload.scheduling.affinity.matchExpressions.addRule"}})],1)])],2)},h=[],f=r("907c"),m=r("47ab"),v=r("bddd"),b=r("e24b"),g=r("2879"),y={components:{Select:m["a"],LabeledSelect:d["a"]},props:{value:{type:[Array,Object],default:()=>[]},mode:{type:String,default:"edit"},type:{type:String,default:f["q"]},initialEmptyRow:{type:Boolean,default:!1},showRemove:{type:Boolean,default:!0},keysSelectOptions:{type:Array,default:()=>[]}},data(){const e=this.$store.getters["i18n/t"],t=[{label:e("workload.scheduling.affinity.matchExpressions.in"),value:"In"},{label:e("workload.scheduling.affinity.matchExpressions.notIn"),value:"NotIn"},{label:e("workload.scheduling.affinity.matchExpressions.exists"),value:"Exists"},{label:e("workload.scheduling.affinity.matchExpressions.doesNotExist"),value:"DoesNotExist"}],r=[{label:e("workload.scheduling.affinity.matchExpressions.in"),value:"In"},{label:e("workload.scheduling.affinity.matchExpressions.notIn"),value:"NotIn"},{label:e("workload.scheduling.affinity.matchExpressions.exists"),value:"Exists"},{label:e("workload.scheduling.affinity.matchExpressions.doesNotExist"),value:"DoesNotExist"},{label:e("workload.scheduling.affinity.matchExpressions.lessThan"),value:"Lt"},{label:e("workload.scheduling.affinity.matchExpressions.greaterThan"),value:"Gt"}],a=this.type===f["q"]?r:t;let n;return n=Object(v["g"])(this.value)?[...this.value]:Object(g["a"])(this.value.matchLabels,this.value.matchExpressions),n=n.map(e=>{const t=Object(b["e"])(e);return t.values&&"string"!==typeof t.values&&(t.values=t.values.join(", ")),t}),n.length||!this.initialEmptyRow||this.isView||n.push({key:"",operator:"In",values:""}),{ops:a,rules:n,custom:[]}},computed:{isView(){return"view"===this.mode},node(){return f["q"]},pod(){return f["s"]},hasKeySelectOptions(){var e;return!(null===(e=this.keysSelectOptions)||void 0===e||!e.length)},...Object(i["a"])({t:"i18n/t"})},methods:{removeRule(e){Object(v["i"])(this.rules,e),this.update()},addRule(){this.rules.push({key:"",operator:"In",values:""})},update(){this.$nextTick(()=>{const e=this.rules.map(e=>{const t={key:e.key,operator:e.operator};let r=(e.values||"").trim();if("Exists"===e.operator||"DoesNotExist"===e.operator)r=null;else if(!r)return;return null!==r&&(t.values=r.split(/\s*,\s*/).filter(e=>!!e)),t}).filter(e=>!!e);Object(v["g"])(this.value)?this.$emit("input",e):this.$emit("input",Object(g["c"])(e))})}}},w=y,x=(r("3d13"),r("d802")),S=Object(x["a"])(w,p,h,!1,null,"023a82e3",null),E=S.exports,k=r("3e15"),C=r("e143"),_={components:{Banner:l["a"],Checkbox:c["a"],LabeledInput:u["a"],LabeledSelect:d["a"],MatchExpressions:E,RadioGroup:C["a"],StorageClassSelector:k["default"]},props:{accessModes:{type:Array,required:!0},mode:{type:String,default:"create"},prometheusPods:{type:Array,default:()=>[]},storageClasses:{type:Array,default:()=>[]},value:{type:Object,default:()=>({})},workloads:{type:Array,default:()=>[]}},data(){var e,t,r,a,n;return{enablePersistentStorage:!(null===(e=this.value)||void 0===e||null===(t=e.prometheus)||void 0===t||null===(r=t.prometheusSpec)||void 0===r||null===(a=r.storageSpec)||void 0===a||null===(n=a.volumeClaimTemplate)||void 0===n||!n.spec),warnUser:!1}},computed:{...Object(i["a"])(["currentCluster"]),matchExpressions:{get(){var e,t,r,a,n,s;const o=null===(e=this.value)||void 0===e||null===(t=e.prometheus)||void 0===t||null===(r=t.prometheusSpec)||void 0===r||null===(a=r.storageSpec)||void 0===a||null===(n=a.volumeClaimTemplate)||void 0===n||null===(s=n.spec)||void 0===s?void 0:s.selector;let i;return o&&null!==o&&void 0!==o&&o.matchExpressions?(i=Object(g["a"])((null===o||void 0===o?void 0:o.matchLabels)||{},o.matchExpressions),i):[]}},filteredWorkloads(){let{workloads:e}=this;const{existing:t=!1}=this.$attrs;return t||(e=e.filter(e=>{var t,r,a;if(!o()(null===e||void 0===e||null===(t=e.spec)||void 0===t||null===(r=t.template)||void 0===r||null===(a=r.spec)||void 0===a?void 0:a.containers)&&e.spec.template.spec.containers.find(e=>e.image.includes("quay.io/coreos/prometheus-operator")||e.image.includes("rancher/coreos-prometheus-operator")))return this.warnUser||(this.warnUser=!0),e})),e.map(e=>({label:e.id,link:{name:"c-cluster-product-resource-namespace-id",params:{cluster:this.currentCluster.id,product:"explorer",resource:e.type,namespace:e.metadata.namespace,id:e.metadata.name}}}))},podsAndNamespaces(){const{prometheusPods:e}=this,t=[];return e.forEach(e=>{t.push({label:e.id,link:{name:"c-cluster-product-resource-namespace-id",params:{cluster:this.currentCluster.id,product:"explorer",resource:f["s"],namespace:e.metadata.namespace,id:e.metadata.name}}})}),t},showStorageClasses(){const{storageClasses:e}=this;return(e||[]).length>=1}},watch:{enablePersistentStorage(e){e?this.$set(this.value.prometheus.prometheusSpec.storageSpec,"volumeClaimTemplate",{spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"50Gi"}},selector:{matchExpressions:[],matchLabels:{}}}}):this.$delete(this.value.prometheus.prometheusSpec.storageSpec,"volumeClaimTemplate")}},methods:{set:b["i"],matchChanged(e){const{matchLabels:t,matchExpressions:r}=Object(g["c"])(e),a=this.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec;null!==a&&void 0!==a&&a.selector||(a["selector"]={matchExpressions:[],matchLabels:{}}),this.$set(a.selector,"matchLabels",t),this.$set(a.selector,"matchExpressions",r)}}},O=_,T=(r("46ee"),Object(x["a"])(O,a,n,!1,null,null,null));t["default"]=T.exports},"0cb2":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:{"side-tabs":!!e.sideTabs,"tabs-only":e.tabsOnly}},[r("ul",{ref:"tablist",staticClass:"tabs",class:{clearfix:!e.sideTabs,vertical:e.sideTabs,horizontal:!e.sideTabs},attrs:{role:"tablist",tabindex:"0"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:(t.preventDefault(),e.selectNext(1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:(t.preventDefault(),e.selectNext(-1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.selectNext(1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.selectNext(-1))}]}},[e._l(e.sortedTabs,(function(t){return r("li",{key:t.name,class:{tab:!0,active:t.active,disabled:t.disabled,error:t.error},attrs:{id:t.name,role:"presentation"}},[r("a",{attrs:{"aria-controls":"#"+t.name,"aria-selected":t.active,role:"tab"},on:{click:function(r){return r.preventDefault(),e.select(t.name,r)}}},[r("span",[e._v(e._s(t.labelDisplay))]),t.badge?r("span",{staticClass:"tab-badge"},[e._v(e._s(t.badge))]):e._e(),e.hasIcon(t)?r("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.t("validation.tab"),expression:"t('validation.tab')"}],staticClass:"conditions-alert-icon icon-error icon-lg"}):e._e()])])})),e.sideTabs&&!e.sortedTabs.length?r("li",{staticClass:"tab disabled"},[r("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault()}}},[e._v("(None)")])]):e._e(),e.sideTabs&&e.showTabsAddRemove?r("ul",{staticClass:"tab-list-footer"},[r("li",[r("button",{staticClass:"btn bg-transparent",attrs:{type:"button"},on:{click:e.tabAddClicked}},[r("i",{staticClass:"icon icon-plus icon-lg"})]),r("button",{staticClass:"btn bg-transparent",attrs:{type:"button",disabled:!e.sortedTabs.length},on:{click:e.tabRemoveClicked}},[r("i",{staticClass:"icon icon-minus icon-lg"})])])]):e._e(),e._t("tab-row-extras")],2),r("div",{class:{"tab-container":!!e.tabs.length||!!e.sideTabs,"no-content":e.noContent,"tab-container--flat":!!e.flat}},[e._t("default")],2)])},n=[],s=r("a1d8"),o=r.n(s),i=r("330a"),l=r.n(i),c=r("bddd"),u=r("1d19"),d=r("1659"),p=r.n(d),h={name:"Tabbed",props:{defaultTab:{type:String,default:null},sideTabs:{type:Boolean,default:!1},showTabsAddRemove:{type:Boolean,default:!1},scrollOnChange:{type:Boolean,default:!1},useHash:{type:Boolean,default:!0},noContent:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},tabsOnly:{type:Boolean,default:!1}},provide(){const e=this.tabs;return{sideTabs:this.sideTabs,addTab(t){const r=Object(c["e"])(e,"name",t.name);r&&Object(c["i"])(e,r),Object(c["a"])(e,t)},removeTab(t){Object(c["i"])(e,t)}}},data(){return{tabs:[],activeTabName:null}},computed:{sortedTabs(){return Object(u["a"])(this.tabs,["weight:desc","labelDisplay","name"])}},watch:{sortedTabs(e){const{defaultTab:t,useHash:r,$route:{hash:a}}=this,n=e.find(e=>e.active),s=a.slice(1),i=e.find(e=>e.name===s&&!e.active),c=o()(e)||null;l()(n)?r&&!l()(i)?this.select(i.name):l()(t)||l()(e.find(e=>e.name===t))?null!==c&&void 0!==c&&c.name&&this.select(c.name):this.select(t):r&&(null===n||void 0===n?void 0:n.name)===s&&this.select(n.name)}},mounted(){this.useHash&&window.addEventListener("hashchange",this.hashChange)},unmounted(){this.useHash&&window.removeEventListener("hashchange",this.hashChange)},methods:{hasIcon(e){return e.displayAlertIcon||e.error&&!e.active},hashChange(){if(!this.scrollOnChange){const e=document.getElementsByTagName("main")[0];e&&(e.scrollTop=0)}this.select(this.$route.hash)},find(e){return this.sortedTabs.find(t=>t.name===e)},select(e){const{sortedTabs:t,$route:{hash:r},$router:{currentRoute:a}}=this,n=this.find(e),s="#"+e;if(n&&!n.disabled){if(this.useHash&&r!==s){const e={...a};e.hash=s,this.$router.replace(e)}for(const e of t)e.active=e.name===n.name;this.$emit("changed",{tab:n,selectedName:n.name}),this.activeTabName=n.name}},selectNext(e){const{sortedTabs:t}=this,r=t.findIndex(e=>e.active),a=s(r,e,t.length),n=t[a].name;function s(e,t,r){const a=e+t;return a>=r?0:a<=0?r-1:a}this.select(n),this.$nextTick(()=>{this.$refs.tablist.focus()})},tabAddClicked(){const e=p()(this.tabs,e=>e.active);this.$emit("addTab",e)},tabRemoveClicked(){const e=p()(this.tabs,e=>e.active);this.$emit("removeTab",e)}}},f=h,m=(r("31b6"),r("d802")),v=Object(m["a"])(f,a,n,!1,null,"6298ebdc",null);t["a"]=v.exports},"0f95":function(e,t,r){"use strict";var a=r("907c"),n=r("2879"),s=r("c5e6"),o=r("2cb5"),i=r("9c09");i["c"];function l(e){return e.startsWith("array[")?["array",...l(e.slice(6,-1))]:e.startsWith("map[")?["map",...l(e.slice(4,-1))]:[e]}var c=r("f3d3"),u=r("0788"),d=r("72f9"),p=r("090b");t["a"]={all:(e,t,r)=>a=>(a=t.normalizeType(a),t.typeRegistered(a)||(console.warn(`All of ${a} is not loaded yet`),c["a"].registerType(e,a)),p["a"].gcUpdateLastAccessed({state:e,getters:t,rootState:r},a),e.types[a].list),matching:(e,t,r)=>(a,s,o)=>{let i=t["all"](a);return o&&(i=i.filter(e=>e.namespace===o)),p["a"].gcUpdateLastAccessed({state:e,getters:t,rootState:r},a),i.filter(e=>Object(n["b"])(e,s))},byId:(e,t,r)=>(a,n)=>{a=t.normalizeType(a);const s=e.types[a];if(s)return p["a"].gcUpdateLastAccessed({state:e,getters:t,rootState:r},a),s.map.get(n)},pathExistsInSchema:(e,t)=>(e,r)=>{let a=t.schemaFor(e);const n=Object(o["n"])(r);while(n.length){var s,i;const r=n.shift();if(e=null===(s=a.resourceFields)||void 0===s||null===(i=s[r])||void 0===i?void 0:i.type,!e)return!1;if(n.length&&(e=l(e).pop(),a=t.schemaFor(e),!a))return!1}return!0},schema:(e,t)=>r=>{r=t.normalizeType(r);const n=e.types[a["y"]],s=t.keyFieldForType(a["y"]);return n.list.find(e=>{const a=t.normalizeType(e[s]);return a===r||a.endsWith("."+r)})},schemaName:(e,t)=>r=>{r=t.normalizeType(r);const n=e.types[a["y"]],s=t.keyFieldForType(a["y"]),o=n.list.find(e=>{const a=t.normalizeType(e[s]);return a===r||a.endsWith("."+r)});if(!o)return;const i=Array.isArray(o)?o:[o],l=i.map(e=>e[s]).sort((e,t)=>e.length-t.length);return l[0]?l[0]:r},schemaFor:(e,t)=>(r,n=!1,s=!0)=>{const o=e.types[a["y"]];if(r=t.normalizeType(r),!o){if(s)throw new Error("Schemas aren't loaded yet");return null}const i=o.map.get(r);if(!i&&n){const e=t.schemaName(r);if(e)return t.schemaFor(e)}return i},defaultFor:(e,t)=>e=>{const r=t["schemaFor"](e);if(!r)return null;const a={};for(const n in r.resourceFields){const e=r.resourceFields[n];if(!e)continue;const o=Object(s["d"])(e.type),i=Object(s["e"])("map",o),l=Object(s["e"])("array",o),c=Object(s["e"])("reference",o);i||"map"===o||"json"===o?a[n]=t.defaultFor(o):l||"array"===o?a[n]=[]:c?a[n]=void 0:s["a"].includes(o)?"undefined"===typeof e["default"]?a[n]=void 0:a[n]=e["default"]:a[n]=t.defaultFor(o)}return a},canList:(e,t)=>e=>{const r=t.schemaFor(e);return r&&r.hasLink("collection")},typeRegistered:(e,t)=>r=>(r=t.normalizeType(r),!!e.types[r]),typeEntry:(e,t)=>r=>(r=t.normalizeType(r),e.types[r]),haveAll:(e,t)=>r=>{r=t.normalizeType(r);const a=e.types[r];return a&&a.haveAll||!1},haveSelector:(e,t)=>(r,a)=>{r=t.normalizeType(r);const n=e.types[r];return n&&n.haveSelector[a]||!1},normalizeType:()=>e=>Object(u["c"])(e),keyFieldForType:()=>e=>Object(u["b"])(e),urlFor:(e,t)=>(r,a,n)=>{n=n||{},r=t.normalizeType(r);let s=n.url;if(!s){const e=t.schemaFor(r);if(!e)throw new Error("Unknown schema for type: "+r);if(s=e.links.collection,!s)throw new Error("You don't have permission to list this type: "+r);a&&(s+="/"+a)}if(!s.startsWith("/")&&!s.startsWith("http")){const t=e.config.baseUrl.replace(/\/$/,"");s=`${t}/${s}`}return s=t.urlOptions(s,n),s},urlOptions:()=>(e,t)=>e,storeName:e=>e.config.namespace,defaultModel:()=>()=>{},classify:(e,t,r)=>t=>{var a;return Object(d["a"])(e.config.namespace,null===t||void 0===t?void 0:t.type,null===t||void 0===t||null===(a=t.metadata)||void 0===a?void 0:a.name,r)||i["c"]},cleanResource:()=>(e,t)=>t,isClusterStore:e=>e.config.isClusterStore,loadCounter:(e,t)=>r=>(r=t.normalizeType(r),e.types[r]?e.types[r].loadCounter:0),gcIgnoreTypes:()=>({})}},"11f5":function(e,t,r){"use strict";var a=r("ab7f"),n=r("b3e9");function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=x,t.resolve=E,t.resolveObject=k,t.format=S,t.Url=s;var o=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["<",">",'"',"`"," ","\r","\n","\t"],u=["{","}","|","\\","^","`"].concat(c),d=["'"].concat(u),p=["%","/","?",";","#"].concat(d),h=["/","?","#"],f=255,m=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},w=r("a6b0");function x(e,t,r){if(e&&n.isObject(e)&&e instanceof s)return e;var a=new s;return a.parse(e,t,r),a}function S(e){return n.isString(e)&&(e=x(e)),e instanceof s?e.format():s.prototype.format.call(e)}function E(e,t){return x(e,!1,!0).resolve(t)}function k(e,t){return e?x(e,!1,!0).resolveObject(t):t}s.prototype.parse=function(e,t,r){if(!n.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),i=-1!==s&&s<e.indexOf("#")?"?":"#",c=e.split(i),u=/\\/g;c[0]=c[0].replace(u,"/"),e=c.join(i);var x=e;if(x=x.trim(),!r&&1===e.split("#").length){var S=l.exec(x);if(S)return this.path=x,this.href=x,this.pathname=S[1],S[2]?(this.search=S[2],this.query=t?w.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var E=o.exec(x);if(E){E=E[0];var k=E.toLowerCase();this.protocol=k,x=x.substr(E.length)}if(r||E||x.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===x.substr(0,2);!C||E&&g[E]||(x=x.substr(2),this.slashes=!0)}if(!g[E]&&(C||E&&!y[E])){for(var _,O,T=-1,R=0;R<h.length;R++){var N=x.indexOf(h[R]);-1!==N&&(-1===T||N<T)&&(T=N)}O=-1===T?x.lastIndexOf("@"):x.lastIndexOf("@",T),-1!==O&&(_=x.slice(0,O),x=x.slice(O+1),this.auth=decodeURIComponent(_)),T=-1;for(R=0;R<p.length;R++){N=x.indexOf(p[R]);-1!==N&&(-1===T||N<T)&&(T=N)}-1===T&&(T=x.length),this.host=x.slice(0,T),x=x.slice(T),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var A=this.hostname.split(/\./),L=(R=0,A.length);R<L;R++){var j=A[R];if(j&&!j.match(m)){for(var M="",$=0,P=j.length;$<P;$++)j.charCodeAt($)>127?M+="x":M+=j[$];if(!M.match(m)){var F=A.slice(0,R),D=A.slice(R+1),q=j.match(v);q&&(F.push(q[1]),D.unshift(q[2])),D.length&&(x="/"+D.join(".")+x),this.hostname=F.join(".");break}}}this.hostname.length>f?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=a.toASCII(this.hostname));var B=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+B,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==x[0]&&(x="/"+x))}if(!b[k])for(R=0,L=d.length;R<L;R++){var z=d[R];if(-1!==x.indexOf(z)){var V=encodeURIComponent(z);V===z&&(V=escape(z)),x=x.split(z).join(V)}}var G=x.indexOf("#");-1!==G&&(this.hash=x.substr(G),x=x.slice(0,G));var W=x.indexOf("?");if(-1!==W?(this.search=x.substr(W),this.query=x.substr(W+1),t&&(this.query=w.parse(this.query)),x=x.slice(0,W)):t&&(this.search="",this.query={}),x&&(this.pathname=x),y[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var H=this.search||"";this.path=B+H}return this.href=this.format(),this},s.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",a=this.hash||"",s=!1,o="";this.host?s=e+this.host:this.hostname&&(s=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(o=w.stringify(this.query));var i=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==s?(s="//"+(s||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):s||(s=""),a&&"#"!==a.charAt(0)&&(a="#"+a),i&&"?"!==i.charAt(0)&&(i="?"+i),r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})),i=i.replace("#","%23"),t+s+r+i+a},s.prototype.resolve=function(e){return this.resolveObject(x(e,!1,!0)).format()},s.prototype.resolveObject=function(e){if(n.isString(e)){var t=new s;t.parse(e,!1,!0),e=t}for(var r=new s,a=Object.keys(this),o=0;o<a.length;o++){var i=a[o];r[i]=this[i]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(r[u]=e[u])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var d=Object.keys(e),p=0;p<d.length;p++){var h=d[p];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||g[e.protocol])r.pathname=e.pathname;else{var f=(e.pathname||"").split("/");while(f.length&&!(e.host=f.shift()));e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",v=r.search||"";r.path=m+v}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=w||b||r.host&&e.pathname,S=x,E=r.pathname&&r.pathname.split("/")||[],k=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(k&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),x=x&&(""===f[0]||""===E[0])),w)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,E=f;else if(f.length)E||(E=[]),E.pop(),E=E.concat(f),r.search=e.search,r.query=e.query;else if(!n.isNullOrUndefined(e.search)){if(k){r.hostname=r.host=E.shift();var C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");C&&(r.auth=C.shift(),r.host=r.hostname=C.shift())}return r.search=e.search,r.query=e.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var _=E.slice(-1)[0],O=(r.host||e.host||E.length>1)&&("."===_||".."===_)||""===_,T=0,R=E.length;R>=0;R--)_=E[R],"."===_?E.splice(R,1):".."===_?(E.splice(R,1),T++):T&&(E.splice(R,1),T--);if(!x&&!S)for(;T--;T)E.unshift("..");!x||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),O&&"/"!==E.join("/").substr(-1)&&E.push("");var N=""===E[0]||E[0]&&"/"===E[0].charAt(0);if(k){r.hostname=r.host=N?"":E.length?E.shift():"";C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");C&&(r.auth=C.shift(),r.host=r.hostname=C.shift())}return x=x||r.host&&E.length,x&&!N&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},s.prototype.parseHost=function(){var e=this.host,t=i.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},"12f4":function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var a=r("bddd"),n=r("3f01"),s=r("72f9"),o=r("907c"),i=r("640c"),l=r("09d4"),c=r("4ac6"),u=r("7fd6"),d=r.n(u),p=r("8bbf"),h=r.n(p),f=r("2cb5"),m=r("9c09");class v extends m["c"]{setLabels(e){const t=this.labels||{},r=d()(t,(e,t)=>Object(f["j"])(t,c["h"]));h.a.set(this,"labels",{...r,...e})}setLabel(e,t){t?(this.labels||(this.labels={}),h.a.set(this.labels,e,t)):this.labels&&(h.a.set(this.labels,e,void 0),delete this.labels[e])}setAnnotations(e){const t=this.annotations||{},r=d()(t,(e,t)=>Object(f["j"])(t,c["b"]));h.a.set(this,"annotations",{...r,...e})}setAnnotation(e,t){t?(this.annotations||(this.annotations={}),h.a.set(this.annotations,e,t)):this.annotations&&(h.a.set(this.annotations,e,void 0),delete this.annotations[e])}setResourceQuotas(e){const t=["resourceQuota","namespaceDefaultResourceQuota"];t.forEach(t=>{h.a.set(this,t,{...e[t]})})}}const b={NORMAN:"norman",STEVE:"steve",BY_TYPE:"byType"},g={[o["d"]]:!0,[o["o"]]:!0,[o["y"]]:!0,[o["E"].NAV_LINK]:!0};t["b"]={urlOptions:()=>(e,t)=>{if(t=t||{},t.filter){const r=Object.keys(t.filter);r.forEach(r=>{let n=t.filter[r];Object(a["g"])(n)||(n=[n]),n.forEach(t=>{e+=`${(e.includes("?")?"&":"?")+encodeURIComponent(r)}=${encodeURIComponent(t)}`})})}const r=t.limit;r&&(e+=`${e.includes("?")?"&":"?"}limit=${r}`);const n=t.sortBy;n&&(e+=`${e.includes("?")?"&":"?"}sort=${encodeURIComponent(n)}`);const s=t.sortOrder;return s&&(e+=`${e.includes("?")?"&":"?"}order=${encodeURIComponent(s)}`),e},defaultModel:e=>t=>{const r=e.config.modelBaseClass||b.BY_TYPE.STEVE;var a,n;return r===b.BY_TYPE?null!==t&&void 0!==t&&null!==(a=t.type)&&void 0!==a&&a.startsWith("management.cattle.io.")||null!==t&&void 0!==t&&null!==(n=t.type)&&void 0!==n&&n.startsWith("project.cattle.io.")?l["b"]:i["a"]:r===b.NORMAN?v:i["a"]},classify:(e,t,r)=>t=>{var a;const o=Object(s["a"])(e.config.namespace,null===t||void 0===t?void 0:t.type,null===t||void 0===t||null===(a=t.metadata)||void 0===a?void 0:a.name,r);if(o)return o;const c=e.config.modelBaseClass||n["a"];var u,d;return c===n["a"]?null!==t&&void 0!==t&&null!==(u=t.type)&&void 0!==u&&u.startsWith("management.cattle.io.")||null!==t&&void 0!==t&&null!==(d=t.type)&&void 0!==d&&d.startsWith("project.cattle.io.")?l["b"]:i["a"]:c===b.NORMAN?v:i["a"]},cleanResource:()=>(e,t)=>{var r;const a=null===(r=Object.getPrototypeOf(Object.getPrototypeOf(e)))||void 0===r?void 0:r.constructor;return a===l["b"]?Object(l["a"])(t):t},podsByNamespace:e=>t=>{const r=e.podsByNamespace[t];return(null===r||void 0===r?void 0:r.list)||[]},gcIgnoreTypes:()=>g}},"16d6":function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=r("8879").Buffer,s=r(2);function o(e,t,r){e.copy(t,r)}e.exports=function(){function e(){a(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";var t=this.head,r=""+t.data;while(t=t.next)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;var t=n.allocUnsafe(e>>>0),r=this.head,a=0;while(r)o(r.data,t,a),a+=r.data.length,r=r.next;return t},e}(),s&&s.inspect&&s.inspect.custom&&(e.exports.prototype[s.inspect.custom]=function(){var e=s.inspect({length:this.length});return this.constructor.name+" "+e})},"18ab":function(e,t){e.exports=a;var r=Object.prototype.hasOwnProperty;function a(){for(var e={},t=0;t<arguments.length;t++){var a=arguments[t];for(var n in a)r.call(a,n)&&(e[n]=a[n])}return e}},"1be9":function(e,t,r){t=e.exports=r("ab0e"),t.Stream=t,t.Readable=t,t.Writable=r("c37d"),t.Duplex=r("c186"),t.Transform=r("01ae"),t.PassThrough=r("bc5f")},"1c3e":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.$fetchState.pending?r("Loading",{attrs:{mode:"relative"}}):r("div",{staticClass:"config-monitoring-container"},[r("Tab",{attrs:{name:"general",label:e.t("monitoring.tabs.general"),weight:99}},[r("div",[r("div",{staticClass:"row mb-20"},[r("ClusterSelector",{attrs:{value:e.value,mode:e.mode},on:{onClusterTypeChanged:function(t){e.clusterType=t}}})],1),"managed"===e.clusterType.group?r("div",{staticClass:"row mb-20"},[r("Checkbox",{attrs:{"label-key":"monitoring.hostNetwork.label",tooltip:e.t("monitoring.hostNetwork.tip",{},!0)},model:{value:e.value.prometheusOperator.hostNetwork,callback:function(t){e.$set(e.value.prometheusOperator,"hostNetwork",t)},expression:"value.prometheusOperator.hostNetwork"}})],1):e._e(),r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("Checkbox",{attrs:{"label-key":"monitoring.createDefaultRoles.label",tooltip:e.t("monitoring.createDefaultRoles.tip",{},!0)},model:{value:e.value.global.rbac.userRoles.create,callback:function(t){e.$set(e.value.global.rbac.userRoles,"create",t)},expression:"value.global.rbac.userRoles.create"}})],1),r("div",{staticClass:"col span-6"},[r("Checkbox",{attrs:{"label-key":"monitoring.aggregateDefaultRoles.label",tooltip:{content:e.t("monitoring.aggregateDefaultRoles.tip",{},!0),autoHide:!1},disabled:e.disableAggregateRoles},model:{value:e.value.global.rbac.userRoles.aggregateToDefaultRoles,callback:function(t){e.$set(e.value.global.rbac.userRoles,"aggregateToDefaultRoles",t)},expression:"value.global.rbac.userRoles.aggregateToDefaultRoles"}})],1)]),"rke"===e.provider&&e.value.rkeEtcd?r("div",{staticClass:"row mt-20"},[r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{label:e.t("monitoring.etcdNodeDirectory.label"),tooltip:e.t("monitoring.etcdNodeDirectory.tooltip",{},!0),"hover-tooltip":!0,mode:e.mode},model:{value:e.value.rkeEtcd.clients.https.certDir,callback:function(t){e.$set(e.value.rkeEtcd.clients.https,"certDir",t)},expression:"value.rkeEtcd.clients.https.certDir"}})],1)]):e._e()])]),r("Tab",{attrs:{name:"prometheus",label:e.t("monitoring.tabs.prometheus"),weight:98}},[r("div",[r("Prometheus",e._b({attrs:{"access-modes":e.accessModes,mode:e.mode,"storage-classes":e.storageClasses,"prometheus-pods":e.prometheusResources,workloads:e.workloads},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"Prometheus",e.$attrs,!1))],1)]),r("Tab",{attrs:{name:"alerting",label:e.t("monitoring.tabs.alerting"),weight:97}},[r("div",[r("Alerting",{attrs:{mode:e.mode,secrets:e.secrets},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)]),r("Tab",{attrs:{name:"grafana",label:e.t("monitoring.tabs.grafana"),weight:96}},[r("div",[r("Grafana",{attrs:{"access-modes":e.accessModes,mode:e.mode,pvcs:e.pvcs,"storage-classes":e.storageClasses},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)])],1)},n=[],s=r("330a"),o=r.n(s),i=r("1fcb"),l=r.n(i),c=r("9ce4"),u=r("72af"),d=r("0df0"),p=r("9d63"),h=r("28b8"),f=r("8e93"),m=r("15ca"),v=r("0a93"),b=r("38de"),g=r("a8b9"),y=r("907c"),w={components:{Alerting:u["default"],Checkbox:d["a"],ClusterSelector:p["default"],Grafana:h["default"],LabeledInput:f["a"],Loading:m["a"],Prometheus:v["default"],Tab:b["a"]},hasTabs:!0,props:{chart:{type:Object,default:()=>({})},mode:{type:String,default:"create"},value:{type:Object,default:()=>({})}},async fetch(){const{$store:e}=this,t=await Object(g["a"])({namespaces:e.getters["namespaces"](),pvcs:e.dispatch("cluster/findAll",{type:y["v"]}),secrets:e.dispatch("cluster/findAll",{type:y["z"]}),storageClasses:e.dispatch("cluster/findAll",{type:y["D"]})});await Promise.all(Object.values(y["I"]).map(e=>this.$store.dispatch("cluster/findAll",{type:e}))),this.targetNamespace=t.namespaces[this.chart.targetNamespace]||!1,o()(t.storageClasses)||(this.storageClasses=t.storageClasses),o()(t.pvcs)||(this.pvcs=t.pvcs),o()(t.secrets)||(this.secrets=t.secrets)},data(){return{accessModes:[{id:"ReadWriteOnce",label:"monitoring.accessModes.once"},{id:"ReadOnlyMany",label:"monitoring.accessModes.readOnlyMany"},{id:"ReadWriteMany",label:"monitoring.accessModes.many"}],clusterType:{},disableAggregateRoles:!1,prometheusResources:[],pvcs:[],secrets:[],storageClasses:[],targetNamespace:null}},computed:{...Object(c["a"])(["currentCluster"]),provider(){return this.currentCluster.status.provider.toLowerCase()},workloads(){return Object.values(y["I"]).flatMap(e=>this.$store.getters["cluster/all"](e))}},watch:{"value.global.rbac.userRoles.create"(e){e?this.disableAggregateRoles=!1:(this.value.global.rbac.userRoles.aggregateToDefaultRoles=!1,this.disableAggregateRoles=!0)}},created(){if("create"===this.mode){var e,t,r,a,n,s,o,i,c,u,d,p,h,f,m,v,b,g,y,w,x,S,E;const k={global:{rbac:{userRoles:{create:this.mergeValue(null===(e=this.value)||void 0===e||null===(t=e.global)||void 0===t||null===(r=t.rbac)||void 0===r||null===(a=r.userRoles)||void 0===a?void 0:a.create,!0),aggregateToDefaultRoles:this.mergeValue(null===(n=this.value)||void 0===n||null===(s=n.global)||void 0===s||null===(o=s.rbac)||void 0===o||null===(i=o.userRoles)||void 0===i?void 0:i.aggregateToDefaultRoles,!0)}}},prometheus:{prometheusSpec:{scrapeInterval:this.mergeValue(null===(c=this.value)||void 0===c||null===(u=c.prometheus)||void 0===u||null===(d=u.prometheusSpec)||void 0===d?void 0:d.scrapeInterval,"1m"),evaluationInterval:this.mergeValue(null===(p=this.value)||void 0===p||null===(h=p.prometheus)||void 0===h||null===(f=h.prometheusSpec)||void 0===f?void 0:f.evaluationInterval,"1m"),retention:this.mergeValue(null===(m=this.value)||void 0===m||null===(v=m.prometheus)||void 0===v||null===(b=v.prometheusSpec)||void 0===b?void 0:b.retention,"10d"),retentionSize:this.mergeValue(null===(g=this.value)||void 0===g||null===(y=g.prometheus)||void 0===y||null===(w=y.prometheusSpec)||void 0===w?void 0:w.retentionSize,"50GiB"),enableAdminAPI:this.mergeValue(null===(x=this.value)||void 0===x||null===(S=x.prometheus)||void 0===S||null===(E=S.prometheusSpec)||void 0===E?void 0:E.enableAdminAPI,!1)}}};l()(this.value,k),this.provider.startsWith("rke2")?(this.$set(this.value.rke2IngressNginx,"enabled",!0),this.$set(this.value.rke2Etcd,"enabled",!0),this.$set(this.value.rkeEtcd,"enabled",!1)):this.provider.startsWith("rke")?(this.$set(this.value,"ingressNginx",this.value.ingressNginx||{}),this.$set(this.value.ingressNginx,"enabled",!0)):this.$set(this.value.rkeEtcd,"enabled",!1)}this.$emit("register-before-hook",this.willSave,"willSave")},methods:{willSave(){var e,t,r;const{prometheusSpec:a}=this.value.prometheus,n=null===a||void 0===a||null===(e=a.storageSpec)||void 0===e||null===(t=e.volumeClaimTemplate)||void 0===t||null===(r=t.spec)||void 0===r?void 0:r.selector;n&&o()(n.matchExpressions)&&o()(n.matchLabels)&&delete this.value.prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.selector},mergeValue(e,t){return void 0===e||"string"===typeof e&&!e.length?t:e}}},x=w,S=r("d802"),E=Object(S["a"])(x,a,n,!1,null,null,null);t["default"]=E.exports},"1eac":function(e,t,r){"use strict";(function(e){r.d(t,"b",(function(){return b})),r.d(t,"d",(function(){return g})),r.d(t,"a",(function(){return S})),r.d(t,"e",(function(){return E})),r.d(t,"c",(function(){return k}));var a=r("bddd"),n=r("e24b"),s=r("907c"),o=r("e42d"),i=r("98e3"),l=r("0788"),c=r("050d"),u=r.n(c),d=r("5000"),p=r("2cb5"),h=r("d85a");const f="NO_WATCH",m="NO_SCHEMA",v=3e3;function b(e,t){const{getters:r}=t,a=r.storeName;if(e.$workers=e.$workers||{},"cluster"!==a)return;const n={load:e=>{w(t,e,!0,"Change")},destroyWorker:()=>{e.$workers&&delete e.$workers[a]}};if(!e.$workers[a]){const t=new h["default"];e.$workers[a]=t,t.postMessage({initWorker:{storeName:a}}),e.$workers[a].onmessage=e=>{const t=Object.keys(null===e||void 0===e?void 0:e.data);t.forEach(t=>{n[t](null===e||void 0===e?void 0:e.data[t])})}}}function g({resourceType:e,type:t,namespace:r,id:a,selector:n}={}){return`${e||t||""}/${r||""}/${a||""}/${n||""}`}function y(e,t){return e.type===t.type&&((e.id===t.id||!e.id&&!t.id)&&((e.namespace===t.namespace||!e.namespace&&!t.namespace)&&(e.selector===t.selector||!e.selector&&!t.selector)))}function w({getters:e,state:t},{data:r,revision:a},n,o){const i=e.normalizeType(r.type),l=e.typeEntry(i);if(l)if(l.revision=Math.max(l.revision,parseInt(a,10)),n)t.queue.push({action:"dispatch",event:"load",body:r});else{const a=e.byId(r.type,r.id);a&&t.queue.push({action:"commit",event:"remove",body:a}),i===s["y"]&&t.queue.push({action:"commit",event:"forgetType",body:r.id})}}function x(e){var t;return null===(t=Object(o["a"])(e))||void 0===t?void 0:t.disableWebsocketNotification}const S={subscribe(t,r){var a;const{state:s,commit:o,dispatch:l,getters:c,rootGetters:u}=t;if(null!==(a=u["isSingleProduct"])&&void 0!==a&&a.disableSteveSockets)return;let d=s.socket;if(o("setWantSocket",!0),e.server)return;s.debugSocket&&console.info(`Subscribe [${c.storeName}]`);const p=s.config.baseUrl+"/subscribe";if(d)d.setAutoReconnect(!0),d.setUrl(p);else{const e=x(u)?null:3;d=new i["f"](s.config.baseUrl+"/subscribe",!0,null,null,e),o("setSocket",d),d.addEventListener(i["a"],e=>{l("opened",e)}),d.addEventListener(i["c"],e=>{l("closed",e)}),d.addEventListener(i["b"],e=>{l("error",e)}),d.addEventListener(i["d"],e=>{l("error",e)}),d.addEventListener(i["e"],e=>{const t=e.detail;if(t.data){const e=JSON.parse(t.data);e.name&&l("ws."+e.name,e)}})}d.connect(Object(n["g"])(r,"metadata"))},unsubscribe({commit:e,getters:t,state:r}){const a=r.socket,n=(this.$workers||{})[t.storeName];if(e("setWantSocket",!1),n&&n.postMessage({destroyWorker:!0}),a)return a.disconnect()},async flush({state:e,commit:t,dispatch:r,getters:a}){const n=e.queue;let s=[];if(!n.length)return;const o=(new Date).getTime();e.queue=[],e.debugSocket&&console.debug(`Subscribe Flush [${a.storeName}]`,n.length,"items");for(const{action:i,event:l,body:c}of n)if("dispatch"===i&&"load"===l)s.push(c);else if(s.length&&(await r("loadMulti",s),s=[]),"dispatch"===i)await r(l,c);else{if("commit"!==i)throw new Error("Invalid queued action");t(l,c)}s.length&&await r("loadMulti",s),e.debugSocket&&console.debug(`Subscribe Flush [${a.storeName}] finished`,(new Date).getTime()-o,"ms")},rehydrateSubscribe({state:t,dispatch:r}){e.client&&t.wantSocket&&!t.socket&&r("subscribe")},watch({state:e,dispatch:t,getters:r,rootGetters:a},n){e.debugSocket&&console.info(`Watch Request [${r.storeName}]`,JSON.stringify(n));let{type:s,selector:o,id:i,revision:l,namespace:c,stop:u,force:d}=n;if(s=r.normalizeType(s),a["type-map/isSpoofed"](s))return void(e.debugSocket&&console.info("Will not Watch (type is spoofed)",JSON.stringify(n)));if(!u&&!d&&!r.canWatch(n))return void console.error(`Cannot Watch [${r.storeName}]`,JSON.stringify(n));if(!u&&r.watchStarted({type:s,id:i,selector:o,namespace:c}))return void(e.debugSocket&&console.debug(`Already Watching [${r.storeName}]`,JSON.stringify(n)));"undefined"===typeof l&&(l=r.nextResourceVersion(s,i));const p={resourceType:s};return l&&(p.resourceVersion=""+l),c&&(p.namespace=c),u&&(p.stop=!0),i&&(p.id=i),o&&(p.selector=o),t("send",p)},reconnectWatches({state:e,getters:t,commit:r,dispatch:a}){const n=[];for(const s of e.started.slice())console.info(`Reconnect [${t.storeName}]`,JSON.stringify(s)),t.schemaFor(s.type)&&(r("setWatchStopped",s),delete s.revision,n.push(a("watch",s)));return Promise.all(n)},async resyncWatch({state:e,getters:t,dispatch:r,commit:a},n){const{resourceType:s,namespace:o,id:i,selector:l}=n;console.info(`Resync [${t.storeName}]`,n);const c={force:!0,forceWatch:!0};if(i)return await r("find",{type:s,id:i,opt:c}),void a("clearInError",n);let u,d;l?(u=t["matching"](s,l).slice(),d=await r("findMatching",{type:s,selector:l,opt:c})):(u=t["all"](s).slice(),o&&(u=u.filter(e=>{var t;return(null===(t=e.metadata)||void 0===t?void 0:t.namespace)===o})),d=await r("findAll",{type:s,watchNamespace:o,opt:c}));const p={};for(const h of d)p[h.id]=!0;for(const h of u)p[h.id]||(e.debugSocket&&console.info(`Remove stale [${t.storeName}]`,s,h.id),a("remove",h))},async opened({commit:t,dispatch:r,state:a,getters:n,rootGetters:s},o){var i;a.debugSocket&&console.info(`WebSocket Opened [${n.storeName}]`);const l=o.currentTarget,c=null===o||void 0===o||null===(i=o.detail)||void 0===i?void 0:i.tries,u=s["i18n/t"],d=x(s);if(this.$socket=l,a.queue||(a.queue=[]),a.queueTimer||(a.flushQueue=async()=>{a.queue.length&&await r("flush"),a.queueTimer=setTimeout(a.flushQueue,1e3)},a.flushQueue()),l.hasReconnected){await r("reconnectWatches");const e=s["growl/find"]({key:"url",val:l.url});e&&r("growl/remove",e.id,{root:!0}),c>1&&!d&&r("growl/success",{title:u("growl.reconnected.title"),message:u("growl.reconnected.message",{url:this.$socket.url,tries:c})},{root:!0})}if(!e.server)for(const e of a.pendingFrames.slice())t("dequeuePendingFrame",e),r("sendImmediate",e)},closed({state:e,getters:t}){e.debugSocket&&console.info(`WebSocket Closed [${t.storeName}]`),clearTimeout(e.queueTimer),e.queueTimer=null},error({getters:e,state:t,dispatch:r,rootGetters:a},n){clearTimeout(t.queueTimer),t.queueTimer=null;const s=x(a);if(!s){var o,l,c;const s=Object(p["f"])(a["prefs/get"](d["b"])),h=Object(p["f"])(a["prefs/get"](d["p"])),f=(null===n||void 0===n||null===(o=n.srcElement)||void 0===o?void 0:o.disconnectedAt)||Date.now(),m=""+u()(f).format(`${s} ${h}`),b=null===n||void 0===n||null===(l=n.srcElement)||void 0===l?void 0:l.url,g=null===t||void 0===t||null===(c=t.socket)||void 0===c?void 0:c.tries,y=a["i18n/t"],w=a["growl/find"]({key:"url",val:b});n.type===i["b"]?(w&&r("growl/remove",w.id,{root:!0}),r("growl/error",{title:y("growl.connectError.title"),message:y("growl.connectError.message",{url:b,time:m,tries:g},{raw:!0}),icon:"error",earliestClose:f+v,url:b},{root:!0})):n.type===i["d"]?(w&&r("growl/remove",w.id,{root:!0}),r("growl/error",{title:y("growl.disconnectError.title"),message:y("growl.disconnectError.message",{url:b,time:m,tries:g},{raw:!0}),icon:"error",earliestClose:f+v,url:b},{root:!0})):console.error(`WebSocket Connection Error [${e.storeName}]`,n.detail)}},send({state:e,commit:t},r){if(e.socket){const t=e.socket.send(JSON.stringify(r));if(t)return}t("enqueuePendingFrame",r)},sendImmediate({state:e},t){if(e.socket)return e.socket.send(JSON.stringify(t))},"ws.ping"({getters:e,dispatch:t},r){if("management"===e.storeName){var a;const n=(null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.version)||null;t("updateServerVersion",n,{root:!0}),console.info(`Ping [${e.storeName}] from ${n||"unknown version"}`)}},"ws.resource.start"({state:e,getters:t,commit:r},a){e.debugSocket&&console.info(`Resource start: [${t.storeName}]`,a),r("setWatchStarted",{type:a.resourceType,namespace:a.namespace,id:a.id,selector:a.selector})},"ws.resource.error"({getters:e,commit:t,dispatch:r},a){var n,s;console.warn(`Resource error [${e.storeName}]`,a.resourceType,":",a.data.error);const o=null===(n=a.data)||void 0===n||null===(s=n.error)||void 0===s?void 0:s.toLowerCase();o.includes("watch not allowed")?t("setInError",{type:a.resourceType,reason:f}):o.includes("failed to find schema")?t("setInError",{type:a.resourceType,reason:m}):o.includes("too old")&&r("resyncWatch",a)},"ws.resource.stop"({getters:e,commit:t,dispatch:r},a){const n=a.resourceType,s={type:n,id:a.id,namespace:a.namespace,selector:a.selector};e["schemaFor"](n)&&e["watchStarted"](s)&&(t("setWatchStopped",s),setTimeout(()=>{r("watch",s)},5e3))},"ws.resource.create"(e,t){w(e,t,!0,"Create")},"ws.resource.change"(e,t){var r;const a=t.data,n=a.type;if(n===s["d"]){const r=(this.$workers||{})[e.getters.storeName];if(r)return void r.postMessage({countsUpdate:t})}if(n===s["y"]){const t=(this.$workers||{})[e.getters.storeName];if(t)return void t.postMessage({updateSchema:a})}w(e,t,!0,"Change");const o=e.rootGetters["type-map/optionsFor"](n);if((null===o||void 0===o||null===(r=o.alias)||void 0===r?void 0:r.length)>0){const t=(null===o||void 0===o?void 0:o.alias)||[];t.map(t=>{e.state.queue.push({action:"dispatch",event:"load",body:{...a,type:t}})})}},"ws.resource.remove"(e,t){var r;const a=t.data,n=a.type;if(n===s["y"]){const t=(this.$workers||{})[e.getters.storeName];t&&t.postMessage({removeSchema:a.id})}w(e,t,!1,"Remove");const o=e.rootGetters["type-map/optionsFor"](n);if((null===o||void 0===o||null===(r=o.alias)||void 0===r?void 0:r.length)>0){const t=(null===o||void 0===o?void 0:o.alias)||[];t.map(t=>{const r=e.getters.byId(t,a.id);e.state.queue.push({action:"commit",event:"remove",body:r})})}}},E={setSocket(e,t){e.socket=t},setWantSocket(e,t){e.wantSocket=t},enqueuePendingFrame(e,t){e.pendingFrames.push(t)},dequeuePendingFrame(e,t){Object(a["i"])(e.pendingFrames,t)},setWatchStarted(e,t){const r=e.started.find(e=>y(t,e));r||Object(a["a"])(e.started,t),delete e.inError[g(t)]},setWatchStopped(e,t){const r=e.started.find(e=>y(t,e));r?Object(a["i"])(e.started,r):console.warn("Tried to remove a watch that doesn't exist",t)},setInError(e,t){const r=g(t);e.inError[r]=t.reason},clearInError(e,t){const r=g(t);delete e.inError[r]},debug(e,t){e.debugSocket=!1!==t},resetSubscriptions(e){Object(a["c"])(e.started),Object(a["c"])(e.pendingFrames),Object(a["c"])(e.queue),clearTimeout(e.queueTimer),e.deferredRequests={},e.queueTimer=null}},k={canWatch:e=>t=>!e.inError[g(t)],watchStarted:e=>t=>!!e.started.find(e=>y(t,e)),nextResourceVersion:(e,t)=>(r,a)=>{r=Object(l["c"])(r);let n=0;if(a){var s;const e=t["byId"](r,a);n=parseInt(null===e||void 0===e||null===(s=e.metadata)||void 0===s?void 0:s.resourceVersion,10)}if(!n){const t=e.types[r];if(!t)return null;n=t.revision;for(const e of t.list)if(e&&e.metadata){const t=parseInt(e.metadata.resourceVersion,10);n=Math.max(n,t)}}return n||null},currentGeneration:e=>t=>{t=Object(l["c"])(t);const r=e.types[t];return r?r.generation:null}}}).call(this,r("07d9"))},"1fcb":function(e,t,r){var a=r("3336"),n=r("c294"),s=n((function(e,t,r){a(e,t,r)}));e.exports=s},2230:function(e,t,r){var a=r("5eaa");t=a(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.cru-resource-footer{display:flex;justify-content:flex-end;margin-top:20px}.cru-resource-footer .btn{margin-left:20px}',""]),e.exports=t},2825:function(e,t,r){var a=r("5334");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("0ed3").default;n("75df55f2",a,!0,{sourceMap:!1,shadowMode:!1})},"283c":function(e,t,r){var a=r("5eaa");t=a(!1),t.push([e.i,'.clearfix[data-v-7fba262d]:after,.clearfix[data-v-7fba262d]:before{content:" ";display:table}.clearfix[data-v-7fba262d]:after{clear:both}.list-unstyled[data-v-7fba262d]{margin:0;padding:0;list-style-type:none}.no-select[data-v-7fba262d]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-7fba262d]{resize:none}.hand[data-v-7fba262d]{cursor:pointer;cursor:hand}.fixed[data-v-7fba262d]{table-layout:fixed}.clip[data-v-7fba262d]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-7fba262d],.force-wrap[data-v-7fba262d]{word-wrap:break-word}.force-wrap[data-v-7fba262d]{white-space:normal}.bordered-section[data-v-7fba262d]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-7fba262d]{margin-bottom:20px;margin-top:20px}.ca-controls[data-v-7fba262d]{display:flex}.ca-controls .ca-tooltip[data-v-7fba262d]{flex:1;margin-top:4px;text-align:right}.ca-controls .ca-tooltip>i[data-v-7fba262d]{font-size:16px}',""]),e.exports=t},2879:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return c}));var a=r("bddd");const n={},s={"=":"In","==":"In","!=":"NotIn","<":"Lt",">":"Gt"};function o(e){if(e=e.replace(/\+/g," "),n[e])return n[e];let t;const r=[],a=[];if(t=e.match(/\([^)]+\)/g),t&&t.length)for(const n of t){const t=n.replace(/^\s*\(\s*/,"").replace(/\s*\)\s*$/,"").split(/\s*,\s*/);a.push(t),e=e.replace(n,` @${a.length-1} `)}const o=e.split(/\s*,\s*/).filter(e=>!!e);for(let n of o)n=n.trim(),t=n.match(/^(.*?)\s+((not\s*)?in)\s+@(\d+)*$/i),t?r.push({key:t[1].trim(),operator:"notin"===t[2].toLowerCase().replace(/\s/g,"")?"NotIn":"In",values:a[t[4].trim()]}):(t=n.match(/^([^!=]*)\s*(\!=|=|==|>|<)\s*([^!=]*)$/),t?r.push({key:t[1].trim(),operator:s[t[2]],values:[t[3].trim()]}):n.startsWith("!")?r.push({key:n.substr(1).trim(),operator:"DoesNotExist"}):r.push({key:n.trim(),operator:"Exists"}));return n[e]=r,r}function i(e,t){const r=Object.keys(e||{}),n=t||[];for(const s of r){const t=e[s],r=Object(a["e"])(n,{key:s,operator:"In"});r?Object(a["a"])(r.values,t):n.push({key:s,operator:"In",values:[t]})}return n}function l(e){const t={},r=[],n=[],s={};for(const o of e)"In"===o.operator&&(s[o.key]?Object(a["a"])(n,o.key):s[o.key]=!0);for(const a of e)"In"!==a.operator||1!==a.values.length||n.includes(a.key)?r.push(Object.assign({},a)):t[a.key]=a.values[0];return{matchLabels:t,matchExpressions:r}}function c(e,t){var r;let n=[];if("string"===typeof t)n=o(t);else if(Object(a["g"])(t))n=t;else{if("object"!==typeof t||!t)return!1;n=i(t)}const s=(null===e||void 0===e||null===(r=e.metadata)||void 0===r?void 0:r.labels)||{};for(const a of n){const e=s[a.key],t=parseInt(e,10),r="undefined"!==typeof s[a.key];switch(a.operator){case"Exists":if(!r)return!1;break;case"DoesNotExist":if(r)return!1;break;case"In":if(!e||!a.values.length||!a.values.includes(e))return!1;break;case"NotIn":if(a.values.includes(e))return!1;break;case"Lt":if(isNaN(t)||t>=Math.min.apply(null,a.values))return!1;break;case"Gt":if(isNaN(t)||t<=Math.max.apply(null,a.values))return!1;break}}return!0}},"28b8":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"title"},[r("h3",[e._v(e._s(e.t("monitoring.grafana.title")))])]),r("div",{staticClass:"grafana-config"},[r("div",{staticClass:"row pt-10 pb-10"},[r("div",{staticClass:"col span-12 persistent-storage-config"},[r("RadioGroup",{attrs:{name:"persistentStorageType",label:e.t("monitoring.grafana.storage.label"),labels:e.persistentStorageTypeLabels,mode:e.mode,options:e.persistentStorageTypes},model:{value:e.persistentStorageType,callback:function(t){e.persistentStorageType=t},expression:"persistentStorageType"}})],1)]),"existing"===e.persistentStorageType?[r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("StorageClassSelector",{attrs:{value:e.value.grafana.persistence.existingClaim,mode:e.mode,options:e.pvcs,label:e.t("monitoring.grafana.storage.existingClaim")},on:{updateName:function(t){return e.$set(e.value.grafana.persistence,"existingClaim",t)}}})],1)])]:"pvc"===e.persistentStorageType?[r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{label:e.t("monitoring.grafana.storage.size"),mode:e.mode},model:{value:e.value.grafana.persistence.size,callback:function(t){e.$set(e.value.grafana.persistence,"size",t)},expression:"value.grafana.persistence.size"}})],1),r("div",{staticClass:"col span-6"},[e.showStorageClasses?r("div",[r("StorageClassSelector",{attrs:{value:e.value.grafana.persistence.storageClassName,mode:e.mode,options:e.storageClasses,label:e.t("monitoring.prometheus.storage.className")},on:{updateName:function(t){return e.$set(e.value.grafana.persistence,"storageClassName",t)}}})],1):e._e()])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("LabeledSelect",{attrs:{label:e.t("monitoring.grafana.storage.mode"),"localized-label":!0,mode:e.mode,multiple:!0,options:e.accessModes,reduce:function(e){var t=e.id;return t}},model:{value:e.value.grafana.persistence.accessModes,callback:function(t){e.$set(e.value.grafana.persistence,"accessModes",t)},expression:"value.grafana.persistence.accessModes"}})],1)]),r("div",{staticClass:"mt-20"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col span-12"},[r("KeyValue",{attrs:{mode:e.mode,protip:!0,"read-allowed":!1,title:e.t("monitoring.grafana.storage.annotations")},scopedSlots:e._u([{key:"title",fn:function(){return[r("h4",[e._v(e._s(e.t("monitoring.grafana.storage.annotations")))])]},proxy:!0}]),model:{value:e.value.grafana.persistence.annotations,callback:function(t){e.$set(e.value.grafana.persistence,"annotations",t)},expression:"value.grafana.persistence.annotations"}})],1)])]),r("div",{staticClass:"row mt-20"},[r("div",{staticClass:"col span-12"},[r("ArrayList",{attrs:{"table-class":"fixed",mode:e.mode,title:e.t("monitoring.grafana.storage.finalizers")},scopedSlots:e._u([{key:"title",fn:function(){return[r("h4",[e._v(e._s(e.t("monitoring.grafana.storage.finalizers")))])]},proxy:!0}]),model:{value:e.value.grafana.persistence.finalizers,callback:function(t){e.$set(e.value.grafana.persistence,"finalizers",t)},expression:"value.grafana.persistence.finalizers"}})],1)])]:"statefulset"===e.persistentStorageType?[r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{label:e.t("monitoring.grafana.storage.size"),mode:e.mode},model:{value:e.value.grafana.persistence.size,callback:function(t){e.$set(e.value.grafana.persistence,"size",t)},expression:"value.grafana.persistence.size"}})],1),r("div",{staticClass:"col span-6"},[e.showStorageClasses?r("div",[r("StorageClassSelector",{attrs:{value:e.value.grafana.persistence.storageClassName,mode:e.mode,options:e.storageClasses,label:e.t("monitoring.prometheus.storage.className")},on:{updateName:function(t){return e.$set(e.value.grafana.persistence,"storageClassName",t)}}})],1):e._e()])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("LabeledSelect",{attrs:{label:e.t("monitoring.grafana.storage.mode"),"localized-label":!0,mode:e.mode,multiple:!0,options:e.accessModes,reduce:function(e){var t=e.id;return t}},model:{value:e.value.grafana.persistence.accessModes,callback:function(t){e.$set(e.value.grafana.persistence,"accessModes",t)},expression:"value.grafana.persistence.accessModes"}})],1)])]:e._e()],2)])},n=[],s=r("e143"),o=r("8e93"),i=r("466b"),l=r("a232"),c=r("977f"),u=r("3e15"),d={components:{ArrayList:c["a"],KeyValue:l["a"],LabeledInput:o["a"],LabeledSelect:i["a"],RadioGroup:s["a"],StorageClassSelector:u["default"]},props:{accessModes:{type:Array,required:!0},mode:{type:String,default:"create"},storageClasses:{type:Array,default:()=>[]},pvcs:{type:Array,default:()=>[]},value:{type:Object,default:()=>({})}},data(){const e=["disabled","existing","pvc","statefulset"],t=[this.t("generic.disabled"),this.t("monitoring.grafana.storage.types.existing"),this.t("monitoring.grafana.storage.types.template"),this.t("monitoring.grafana.storage.types.statefulset")];this.pvcs.length<1&&(e.splice(1,1),t.splice(1,1));const{persistence:r={}}=this.value.grafana;let a;switch(r.type){case"pvc":a="pvc";break;case"statefulset":a="statefulset";break;default:a=r.existingClaim?"existing":"disabled"}return{persistentStorageTypes:e,persistentStorageTypeLabels:t,persistentStorageType:a}},computed:{showStorageClasses(){const{storageClasses:e}=this;return(e||[]).length>=1}},watch:{persistentStorageType(e,t){let r,a;switch(t){case"existing":a={existingClaim:null,subPath:null,type:null};break;case"pvc":a={accessModes:null,storageClassName:null,size:null,subPath:null,annotations:null,finalizers:null};break;case"statefulset":a={accessModes:null,storageClassName:null,size:null,subPath:null};break;default:break}switch(e){case"existing":r={existingClaim:null,subPath:null,type:null,enabled:!0};break;case"pvc":r={accessModes:null,storageClassName:null,size:null,subPath:null,type:"pvc",annotations:null,finalizers:null,enabled:!0};break;case"statefulset":r={accessModes:null,storageClassName:null,size:null,subPath:null,type:"statefulset",enabled:!0};break;default:this.$delete(this.value.grafana,"persistence");break}this.$set(this.value.grafana,"persistence",a),this.$set(this.value.grafana,"persistence",r)}}},p=d,h=(r("f89b"),r("d802")),f=Object(h["a"])(p,a,n,!1,null,null,null);t["default"]=f.exports},"28bc":function(e,t,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var a=r("f995"),n=a.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=a:(s(a,t),t.Buffer=o),o.prototype=Object.create(n.prototype),s(n,o),o.from=function(e,t,r){if("number"===typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!==typeof e)throw new TypeError("Argument must be a number");var a=n(e);return void 0!==t?"string"===typeof r?a.fill(t,r):a.fill(t):a.fill(0),a},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return a.SlowBuffer(e)}},"29af":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"v1-monitoring"},[e.haveV1Monitoring?[r("IconMessage",{staticClass:"mt-40 mb-20",attrs:{icon:"icon-warning",vertical:!0,"icon-state":"warning"},scopedSlots:e._u([{key:"message",fn:function(){return[r("p",[e._v(" "+e._s(e.t("monitoring.installSteps.uninstallV1.warning1"))+" ")]),r("p",{staticClass:"mt-10",domProps:{innerHTML:e._s(e.t("monitoring.installSteps.uninstallV1.warning2",{},!0))}})]},proxy:!0}],null,!1,429924177)}),r("AsyncButton",{attrs:{mode:"uninstall",delay:0},on:{click:e.uninstall}})]:r("IconMessage",{staticClass:"mt-40",attrs:{icon:"icon-checkmark",vertical:!0,"icon-state":"success"},scopedSlots:e._u([{key:"message",fn:function(){return[r("p",{},[e._v(" "+e._s(e.t("monitoring.installSteps.uninstallV1.success1"))+" ")]),r("p",{staticClass:"mt-10",domProps:{innerHTML:e._s(e.t("monitoring.installSteps.uninstallV1.success2"))}})]},proxy:!0}])})],2)},n=[],s=r("f390"),o=r("d709"),i=r("7b40");function l(e,t){return new Promise(r=>{setTimeout(r.bind(null,t),e)})}var c={label:"monitoring.installSteps.uninstallV1.stepTitle",subtext:"monitoring.installSteps.uninstallV1.stepSubtext",weight:100,components:{AsyncButton:o["b"],IconMessage:i["a"]},data(){return{haveV1Monitoring:!1,error:null}},mounted(){this.haveV1Monitoring=Object(s["a"])(this.$store.getters),this.$emit("update",{loading:!1,ready:!1,hidden:!this.haveV1Monitoring})},methods:{uninstall(e){this.$store.dispatch("cluster/promptModal",{component:"GenericPrompt",resources:{applyMode:"uninstall",applyAction:async e=>{await this.$store.getters["currentCluster"].doAction("disableMonitoring");for(let t=0;t<30;t++){const t=Object(s["a"])(this.$store.getters),r=await Object(s["b"])(this.$store);if(!t&&!r)return this.$emit("update",{ready:!0,hidden:!0}),this.haveV1Monitoring=!1,void e(!0);await l(1e3)}throw new Error("Failed to uninstall: timed out")},title:this.t("promptRemove.title",{},!0),body:this.t("monitoring.installSteps.uninstallV1.promptDescription",{},!0)}}),e(!0)}}},u=c,d=(r("a0ac"),r("d802")),p=Object(d["a"])(u,a,n,!1,null,"2d9e691d",null);t["default"]=p.exports},"29b4":function(e,t,r){(function(e,a,n){var s=r("b4fe"),o=r("a96d"),i=r("1be9"),l=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=t.IncomingMessage=function(t,r,o,l){var c=this;if(i.Readable.call(c),c._mode=o,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",(function(){e.nextTick((function(){c.emit("close")}))})),"fetch"===o){if(c._fetchResponse=r,c.url=r.url,c.statusCode=r.status,c.statusMessage=r.statusText,r.headers.forEach((function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)})),s.writableStream){var u=new WritableStream({write:function(e){return new Promise((function(t,r){c._destroyed?r():c.push(new a(e))?t():c._resumeFetch=t}))},close:function(){n.clearTimeout(l),c._destroyed||c.push(null)},abort:function(e){c._destroyed||c.emit("error",e)}});try{return void r.body.pipeTo(u).catch((function(e){n.clearTimeout(l),c._destroyed||c.emit("error",e)}))}catch(v){}}var d=r.body.getReader();function p(){d.read().then((function(e){if(!c._destroyed){if(e.done)return n.clearTimeout(l),void c.push(null);c.push(new a(e.value)),p()}})).catch((function(e){n.clearTimeout(l),c._destroyed||c.emit("error",e)}))}p()}else{c._xhr=t,c._pos=0,c.url=t.responseURL,c.statusCode=t.status,c.statusMessage=t.statusText;var h=t.getAllResponseHeaders().split(/\r?\n/);if(h.forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===c.headers[r]&&(c.headers[r]=[]),c.headers[r].push(t[2])):void 0!==c.headers[r]?c.headers[r]+=", "+t[2]:c.headers[r]=t[2],c.rawHeaders.push(t[1],t[2])}})),c._charset="x-user-defined",!s.overrideMimeType){var f=c.rawHeaders["mime-type"];if(f){var m=f.match(/;\s*charset=([^;])(;|$)/);m&&(c._charset=m[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};o(c,i.Readable),c.prototype._read=function(){var e=this,t=e._resumeFetch;t&&(e._resumeFetch=null,t())},c.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==l.DONE)break;try{r=new n.VBArray(t.responseBody).toArray()}catch(u){}if(null!==r){e.push(new a(r));break}case"text":try{r=t.responseText}catch(u){e._mode="text:vbarray";break}if(r.length>e._pos){var s=r.substr(e._pos);if("x-user-defined"===e._charset){for(var o=new a(s.length),i=0;i<s.length;i++)o[i]=255&s.charCodeAt(i);e.push(o)}else e.push(s,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==l.DONE||!t.response)break;r=t.response,e.push(new a(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==l.LOADING||!r)break;e.push(new a(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==l.LOADING)break;var c=new n.MSStreamReader;c.onprogress=function(){c.result.byteLength>e._pos&&(e.push(new a(new Uint8Array(c.result.slice(e._pos)))),e._pos=c.result.byteLength)},c.onload=function(){e.push(null)},c.readAsArrayBuffer(r);break}e._xhr.readyState===l.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,r("07d9"),r("f995").Buffer,r("7d15"))},"2a46":function(e,t,r){var a=r("0e19"),n=r("ff00"),s=r("b4b4"),o="[object Object]",i=Function.prototype,l=Object.prototype,c=i.toString,u=l.hasOwnProperty,d=c.call(Object);function p(e){if(!s(e)||a(e)!=o)return!1;var t=n(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==d}e.exports=p},"2cbd":function(e,t){function r(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}e.exports=r},"2f61":function(e,t,r){var a=r("a355"),n=r("11f5"),s=e.exports;for(var o in a)a.hasOwnProperty(o)&&(s[o]=a[o]);function i(e){if("string"===typeof e&&(e=n.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}s.request=function(e,t){return e=i(e),a.request.call(this,e,t)},s.get=function(e,t){return e=i(e),a.get.call(this,e,t)}},"305c":function(e,t,r){"use strict";var a=r("da25"),n=r("cd6d");t["a"]={...n["a"],props:{mode:{type:String,default:a["w"]},realMode:{type:String,default:a["w"]},as:{type:String,default:a["D"]},value:{type:Object,required:!0},initialValue:{type:Object,default:null},liveValue:{type:Object,default:null},doneEvent:{type:Boolean,default:!1}}}},"31b6":function(e,t,r){"use strict";r("6029")},3336:function(e,t,r){var a=r("1ec9"),n=r("6a68"),s=r("51db"),o=r("71bd"),i=r("b506"),l=r("cc7f"),c=r("2cbd");function u(e,t,r,d,p){e!==t&&s(t,(function(s,l){if(p||(p=new a),i(s))o(e,t,l,r,u,d,p);else{var h=d?d(c(e,l),s,l+"",e,t,p):void 0;void 0===h&&(h=s),n(e,l,h)}}),l)}e.exports=u},"33aa":function(e,t,r){var a=r("5eaa");t=a(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.prometheus-config>*{margin-top:10px}',""]),e.exports=t},3615:function(e,t,r){"use strict";var a=r("5f4e");function n(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return n||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||a.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(a.nextTick(o,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(e,t){e.emit("error",t)}e.exports={destroy:n,undestroy:s}},"39f3":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Tab",{attrs:{label:"Chart Options",name:"chartOptions"}},[r("Banner",{attrs:{color:"info",label:e.t("backupRestoreOperator.deployment.storage.tip")}}),r("RadioGroup",{staticClass:"mb-10",attrs:{name:"storageSource",label:e.t("backupRestoreOperator.deployment.storage.label"),options:e.radioOptions.options,labels:e.radioOptions.labels},model:{value:e.storageSource,callback:function(t){e.storageSource=t},expression:"storageSource"}}),"s3"===e.storageSource?r("S3",{attrs:{value:e.value.s3,secrets:e.secrets,mode:e.mode}}):[r("div",{staticClass:"row"},["pickSC"===e.storageSource?[r("div",{staticClass:"col span-6"},[r("LabeledSelect",{key:e.storageSource,attrs:{"get-option-label":function(e){return e.id||e},label:e.t("backupRestoreOperator.deployment.storage.storageClass.label"),tooltip:e.reclaimWarning?e.t("backupRestoreOperator.deployment.storage.warning",{type:"Storage Class"}):null,mode:e.mode,status:e.reclaimWarning?"warning":null,options:e.storageClasses,"hover-tooltip":!0},model:{value:e.storageClass,callback:function(t){e.storageClass=t},expression:"storageClass"}})],1),r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{mode:e.mode,label:e.t("backupRestoreOperator.deployment.size")},model:{value:e.value.persistence.size,callback:function(t){e.$set(e.value.persistence,"size",t)},expression:"value.persistence.size"}})],1)]:"pickPV"===e.storageSource?r("div",{staticClass:"col span-6"},[r("LabeledSelect",{key:e.storageSource,attrs:{"get-option-label":function(e){return e.id||e},label:e.t("backupRestoreOperator.deployment.storage.persistentVolume.label"),tooltip:e.reclaimWarning?e.t("backupRestoreOperator.deployment.storage.warning",{type:"Persistent Volume"}):null,mode:e.mode,status:e.reclaimWarning?"warning":null,options:e.availablePVs,"hover-tooltip":!0},model:{value:e.persistentVolume,callback:function(t){e.persistentVolume=t},expression:"persistentVolume"}})],1):e._e()],2)]],2)],1)},n=[],s=r("38de"),o=r("8b03"),i=r("e143"),l=r("466b"),c=r("8e93"),u=r("6418"),d=r("e24b"),p=r("a8b9"),h=r("907c"),f=r("9ce4"),m=r("4ac6"),v={components:{Tab:s["a"],RadioGroup:i["a"],S3:o["default"],LabeledInput:c["a"],LabeledSelect:l["a"],Banner:u["a"]},hasTabs:!0,props:{value:{type:Object,default:()=>({})},mode:{type:String,default:"create"}},async fetch(){const e=await Object(p["a"])({storageClasses:this.$store.dispatch("cluster/findAll",{type:h["D"]}),persistentVolumes:this.$store.dispatch("cluster/findAll",{type:h["u"]}),secrets:this.$store.dispatch("cluster/findAll",{type:h["z"]})});this.secrets=e.secrets,this.storageClasses=e.storageClasses,this.persistentVolumes=e.persistentVolumes,this.storageSource=this.getStorageSource(this.value)||"none"},data(){return{secrets:[],storageClasses:[],persistentVolumes:[],storageSource:null,storageClass:"",persistentVolume:"",reclaimWarning:!1}},computed:{defaultStorageClass(){return this.storageClasses.filter(e=>e.metadata.annotations[m["k"].DEFAULT_STORAGE_CLASS]&&"false"!==e.metadata.annotations[m["k"].DEFAULT_STORAGE_CLASS])[0]||""},availablePVs(){return this.persistentVolumes.filter(e=>"bound"!==e.status.phase.toLowerCase())},radioOptions(){const e=["none","s3","pickSC","pickPV"],t=[this.t("backupRestoreOperator.deployment.storage.options.none"),this.t("backupRestoreOperator.deployment.storage.options.s3"),this.t("backupRestoreOperator.deployment.storage.options.pickSC"),this.t("backupRestoreOperator.deployment.storage.options.pickPV")];return{options:e,labels:t}},...Object(f["a"])({t:"i18n/t"})},watch:{storageSource(e){var t;switch(e){case"pickSC":this.value.persistence.enabled=!0,this.value.s3.enabled=!1,!this.defaultStorageClass||this.value.persistence.storageClass&&"-"!==this.value.persistence.storageClass||(this.value.persistence.storageClass=this.defaultStorageClass.id,this.storageClass=this.defaultStorageClass),"Delete"===(null===(t=this.storageClass)||void 0===t?void 0:t.reclaimPolicy)&&(this.reclaimWarning=!0),delete this.value.persistence.volumeName;break;case"pickPV":this.value.persistence.enabled=!0,this.value.s3.enabled=!1,this.value.persistence.storageClass="-",this.reclaimWarning=!1;break;case"s3":this.value.persistence.enabled=!1,this.value.s3.enabled=!0;break;default:this.value.persistence.enabled=!1,this.value.s3.enabled=!1;break}},storageClass(e={}){this.value.persistence.storageClass=e.id,"Delete"===e.reclaimPolicy?this.reclaimWarning=!0:this.reclaimWarning=!1},persistentVolume(e){var t;this.value.persistence.volumeName=e.metadata.name,"Delete"===(null===(t=e.spec)||void 0===t?void 0:t.persistentVolumeReclaimPolicy)?this.reclaimWarning=!0:this.reclaimWarning=!1}},methods:{getStorageSource(){if(Object(d["g"])(this.value,"s3.enabled"))return"s3";if(Object(d["g"])(this.value,"persistence.enabled")){if(this.value.persistence.storageClass)return"pickSC";if(this.value.persistence.volumeName)return"pickPV"}return"none"}},get:d["g"]},b=v,g=(r("0374"),r("d802")),y=Object(g["a"])(b,a,n,!1,null,"d36a7882",null);t["default"]=y.exports},"3c13":function(e,t,r){var a=r("9afd");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("0ed3").default;n("6a11ffb8",a,!0,{sourceMap:!1,shadowMode:!1})},"3c69":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"logging"},["k3s"===e.provider?r("div",{staticClass:"row mb-20"},[r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{label:e.t("logging.install.k3sContainerEngine")},model:{value:e.value.additionalLoggingSources.k3s.container_engine,callback:function(t){e.$set(e.value.additionalLoggingSources.k3s,"container_engine",t)},expression:"value.additionalLoggingSources.k3s.container_engine"}})],1)]):e._e(),r("div",{staticClass:"row mb-20"},[r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{label:e.t("logging.install.dockerRootDirectory")},model:{value:e.value.global.dockerRootDirectory,callback:function(t){e.$set(e.value.global,"dockerRootDirectory",t)},expression:"value.global.dockerRootDirectory"}})],1)]),r("div",{staticClass:"row mb-20"},[r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{placeholder:e.t("logging.install.default"),label:e.t("logging.install.systemdLogPath"),tooltip:e.t("logging.install.tooltip",{},!0)},model:{value:e.value.systemdLogPath,callback:function(t){e.$set(e.value,"systemdLogPath",t)},expression:"value.systemdLogPath"}}),r("p",{staticClass:"mt-6",domProps:{innerHTML:e._s(e.t("logging.install.url",{},!0))}})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("Checkbox",{attrs:{label:e.t("logging.install.enableAdditionalLoggingSources")},model:{value:e.value.additionalLoggingSources[e.provider].enabled,callback:function(t){e.$set(e.value.additionalLoggingSources[e.provider],"enabled",t)},expression:"value.additionalLoggingSources[provider].enabled"}})],1)])])},n=[],s=r("9ce4"),o=r("8e93"),i=r("0df0"),l={components:{Checkbox:i["a"],LabeledInput:o["a"]},props:{value:{type:Object,default:()=>({})}},computed:{...Object(s["a"])(["currentCluster"]),provider(){return(this.currentCluster.status.provider||"").split(".")[0]}},created(){const e=this.provider;this.value._setSources||(Object.defineProperty(this.value,"_setSources",{enumerable:!1,value:!0}),this.$set(this.value,"additionalLoggingSources",this.value.additionalLoggingSources||{}),this.$set(this.value.additionalLoggingSources,e,this.value.additionalLoggingSources[e]||{}),this.$set(this.value.additionalLoggingSources[e],"enabled",!0),this.$set(this.value,"global",this.value.global||{}))}},c=l,u=r("d802"),d=Object(u["a"])(c,a,n,!1,null,null,null);t["default"]=d.exports},"3d13":function(e,t,r){"use strict";r("e2a0")},"3e15":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("LabeledSelect",e._b({attrs:{value:e.value,"option-key":"metadata.name","option-label":"metadata.name","create-option":e.createNewStorageClassName,"localized-label":!1,options:e.options,"push-tags":!0,taggable:!0},on:{input:e.updateName}},"LabeledSelect",e.$attrs,!1))},n=[],s=r("466b"),o={components:{LabeledSelect:s["a"]},props:{options:{type:Array,default:()=>[]},value:{type:String,default:""}},methods:{createNewStorageClassName(e){return e={metadata:{name:e}},e},updateName({metadata:{name:e}}){this.$emit("updateName",e)}}},i=o,l=r("d802"),c=Object(l["a"])(i,a,n,!1,null,null,null);t["default"]=c.exports},"3f01":function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return s}));var a=r("9c09");const n="byType";function s(t,r,n=!1){if(r instanceof a["c"])return r;const s=t.getters["classify"](r),o=new s(r,t,e.server?t.state.config.namespace:null,n);return e.server&&(Object.defineProperty(r,"__rehydrate",{value:t.state.config.namespace,enumerable:!0,configurable:!0}),n&&Object.defineProperty(r,"__clone",{value:!0,enumerable:!0,configurable:!0,writable:!0})),o}}).call(this,r("07d9"))},"3f66":function(e,t,r){(function(t){function r(e,t){if(a("noDeprecation"))return e;var r=!1;function n(){if(!r){if(a("throwDeprecation"))throw new Error(t);a("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function a(e){try{if(!t.localStorage)return!1}catch(a){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=r}).call(this,r("7d15"))},"42b0":function(e,t,r){"use strict";var a=r("9ce4"),n=r("da25"),s=r("4ac6"),o=r("5000"),i=r("bcb3"),l=(r("462f"),r("907c"));r("9c36"),r("79ad"),r("6642");const c="manager";var u=r("d37d"),d=(r("1d19"),r("fec4")),p=r.n(d);function h(e){return p.a.valid(e)||(e=p.a.clean(e,{loose:!0})),!!p.a.prerelease(e)}var f=r("94a3"),m=r.n(f);r("4048"),r("a8b9"),r("e24b"),r("bddd"),r("3e9d"),r("3f01"),r("d5fb"),r("2cb5"),r("72f9");s["c"]._RANCHER,s["c"]._EXPERIMENTAL,s["c"]._PARTNER;const v="linux";t["a"]={data(){return{version:null,versionInfo:null,existing:null,ignoreWarning:!1}},computed:{...Object(a["a"])(["currentCluster","isRancher"]),showPreRelease:Object(o["s"])(o["o"]),chart(){return this.repo&&this.query.chartName?this.$store.getters["catalog/chart"]({repoType:this.query.repoType,repoName:this.query.repoName,chartName:this.query.chartName,includeHidden:!0}):null},repo(){return this.$store.getters["catalog/repo"]({repoType:this.query.repoType,repoName:this.query.repoName})},showReadme(){var e;return!(null===(e=this.versionInfo)||void 0===e||!e.readme)},hasReadme(){var e,t;return!(null===(e=this.versionInfo)||void 0===e||!e.appReadme)||!(null===(t=this.versionInfo)||void 0===t||!t.readme)},mappedVersions(){var e,t;const r=(null===(e=this.chart)||void 0===e?void 0:e.versions)||[],a=this.targetVersion,n=null===(t=this.currentCluster)||void 0===t?void 0:t.workerOSs,o=[];r.forEach(e=>{var t;const r={label:e.version,version:e.version,originalVersion:e.version,shortLabel:e.version.length>16?e.version.slice(0,15)+"...":e.version,id:e.version,created:e.created,disabled:!1,keywords:e.keywords},a=((null===e||void 0===e||null===(t=e.annotations)||void 0===t?void 0:t[s["c"].PERMITTED_OS])||v).split(",");a.length>0&&m()(n,a).length>0&&(r.disabled=!0),1===a.length&&(r.label=this.t("catalog.install.versions."+a[0],{ver:e.version})),!this.showPreRelease&&h(e.version)||o.push(r)});const i=o.find(e=>e.id===a);i||o.unshift({label:a,originalVersion:a,shortLabel:a.length>16?a.slice(0,15)+"...":a,id:a,created:null,disabled:!1,keywords:[]});const l=o.find(e=>e.originalVersion===this.currentVersion);return l&&(l.label=this.t("catalog.install.versions.current",{ver:this.currentVersion})),o},filteredVersions(){return this.showPreRelease?this.mappedVersions:this.mappedVersions.filter(e=>!e.isPre)},query(){const e=this.$route.query;return{repoType:e[n["m"]],repoName:e[n["l"]],chartName:e[n["c"]],versionName:e[n["r"]],appNamespace:e[n["j"]]||"",appName:e[n["i"]]||"",description:e[n["e"]]}},showDeprecated(){return this.$route.query[n["d"]]===n["x"]},showHidden(){return this.$route.query[n["f"]]===n["x"]},warnings(){const e=[];if(this.existing);else{var t,r,a,n,o,i;const l=Object(u["d"])((null===(t=this.version)||void 0===t||null===(r=t.annotations)||void 0===r?void 0:r[s["c"].REQUESTS_CPU])||"0"),c=Object(u["d"])((null===(a=this.version)||void 0===a||null===(n=a.annotations)||void 0===n?void 0:n[s["c"].REQUESTS_MEMORY])||"0"),d=null===(o=this.currentCluster)||void 0===o?void 0:o.availableCpu,p=null===(i=this.currentCluster)||void 0===i?void 0:i.availableMemory;null!==d&&d<l&&e.push(this.t("catalog.install.error.insufficientCpu",{need:Math.round(100*l)/100,have:Math.round(100*d)/100})),null!==p&&p<c&&e.push(this.t("catalog.install.error.insufficientMemory",{need:Object(u["c"])(c,{increment:1024,suffix:"iB",firstSuffix:"B"}),have:Object(u["c"])(p,{increment:1024,suffix:"iB",firstSuffix:"B"})}))}return e},requires(){var e,t;const r=[],a=((null===(e=this.version)||void 0===e||null===(t=e.annotations)||void 0===t?void 0:t[s["c"].REQUIRES_GVK])||"").split(/\s*,\s*/).filter(e=>!!e).reverse();if(a.length)for(const n of a){if(this.$store.getters["catalog/isInstalled"]({gvr:n}))continue;const e=this.provider(n);if(e){const t=this.$router.resolve(this.chartLocation(!0,e)).href;r.push(this.t("catalog.install.error.requiresFound",{url:t,name:e.name},!0))}else r.push(this.t("catalog.install.error.requiresMissing",{name:n}))}return r},currentVersion(){var e;return null===(e=this.existing)||void 0===e?void 0:e.spec.chart.metadata.version},targetVersion(){return this.version?this.version.version:this.query.versionName},action(){return this.existing?this.currentVersion===this.targetVersion?"update":"upgrade":"install"},isChartTargeted(){var e,t;return(null===(e=this.chart)||void 0===e?void 0:e.targetNamespace)&&(null===(t=this.chart)||void 0===t?void 0:t.targetName)},hasQuestions(){return this.versionInfo&&!!this.versionInfo.questions}},methods:{async fetchChart(){var e,t,r;if(await this.$store.dispatch("catalog/load"),this.query.appNamespace&&this.query.appName)try{this.existing=await this.$store.dispatch("cluster/find",{type:l["b"].APP,id:`${this.query.appNamespace}/${this.query.appName}`}),this.mode=n["w"]}catch(a){this.mode=n["u"],this.existing=null}else if(null!==(e=this.chart)&&void 0!==e&&e.targetNamespace&&null!==(t=this.chart)&&void 0!==t&&t.targetName)try{this.existing=await this.$store.dispatch("cluster/find",{type:l["b"].APP,id:`${this.chart.targetNamespace}/${this.chart.targetName}`}),this.mode=n["w"]}catch(a){this.mode=n["u"],this.existing=null}else this.mode=n["u"];if(this.chart&&(!this.query.versionName&&null!==(r=this.chart.versions)&&void 0!==r&&r.length&&(this.query.versionName=this.chart.versions[0].version),this.query.versionName)){try{this.version=this.$store.getters["catalog/version"]({repoType:this.query.repoType,repoName:this.query.repoName,chartName:this.query.chartName,versionName:this.query.versionName})}catch(a){console.error("Unable to fetch Version: ",a)}this.version||console.warn("No version found: ",this.query.repoType,this.query.repoName,this.query.chartName,this.query.versionName);try{this.versionInfo=await this.$store.dispatch("catalog/getVersionInfo",{repoType:this.query.repoType,repoName:this.query.repoName,chartName:this.query.chartName,versionName:this.query.versionName})}catch(a){console.error("Unable to fetch VersionInfo: ",a)}}},selectVersion({id:e}){this.$router.applyQuery({[n["r"]]:e})},provider(e){return this.$store.getters["catalog/versionProviding"]({gvr:e,repoName:this.chart.repoName,repoType:this.chart.repoType})},chartLocation(e=!1,t){const r=t||{repoType:this.chart.repoType,repoName:this.chart.repoName,name:this.chart.chartName,version:this.chart.versionName};return{name:e?"c-cluster-apps-charts-install":"c-cluster-apps-charts-chart",params:{cluster:this.$route.params.cluster,product:this.$store.getters["productId"]},query:{[n["m"]]:r.repoType,[n["l"]]:r.repoName,[n["c"]]:r.name,[n["r"]]:r.version}}},appLocation(){var e;return(null===(e=this.existing)||void 0===e?void 0:e.detailLocation)||{name:"c-cluster-product-resource",params:{product:this.$store.getters["productId"],cluster:this.$store.getters["clusterId"],resource:l["b"].APP}}},clusterToolsLocation(){return{name:"c-cluster-explorer-tools",params:{product:i["a"],cluster:this.$store.getters["clusterId"],resource:l["b"].APP}}},clustersLocation(){return{name:"c-cluster-product-resource",params:{cluster:this.$route.params.cluster,product:c,resource:l["a"].RANCHER_CLUSTER}}}}}},4597:function(e,t,r){var a=r("5eaa");t=a(!1),t.push([e.i,'.clearfix[data-v-2d9e691d]:after,.clearfix[data-v-2d9e691d]:before{content:" ";display:table}.clearfix[data-v-2d9e691d]:after{clear:both}.list-unstyled[data-v-2d9e691d]{margin:0;padding:0;list-style-type:none}.no-select[data-v-2d9e691d]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-2d9e691d]{resize:none}.hand[data-v-2d9e691d]{cursor:pointer;cursor:hand}.fixed[data-v-2d9e691d]{table-layout:fixed}.clip[data-v-2d9e691d]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-2d9e691d],.force-wrap[data-v-2d9e691d]{word-wrap:break-word}.force-wrap[data-v-2d9e691d]{white-space:normal}.bordered-section[data-v-2d9e691d]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-2d9e691d]{margin-bottom:20px;margin-top:20px}.v1-monitoring[data-v-2d9e691d]{display:flex;flex-direction:column;align-items:center;width:100%}.v1-monitoring p[data-v-2d9e691d]{max-width:900px}.v1-monitoring .btn[data-v-2d9e691d]{min-width:200px}',""]),e.exports=t},"46ee":function(e,t,r){"use strict";r("e9f8")},"479b":function(e,t,r){var a=r("a4fc"),n=r("f72d"),s=r("a67c"),o=r("b506");function i(e,t,r){if(!o(r))return!1;var i=typeof t;return!!("number"==i?n(r)&&s(t,r.length):"string"==i&&t in r)&&a(r[t],e)}e.exports=i},"48b3":function(e,t,r){var a=r("2230");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("0ed3").default;n("7ab3d44b",a,!0,{sourceMap:!1,shadowMode:!1})},"4a8f":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));const a="backTo"},5334:function(e,t,r){var a=r("5eaa");t=a(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}::v-deep P{font-size:medium;line-height:normal;font-weight:400;letter-spacing:normal;font-style:normal}.markdown TH{text-align:left}.markdown table tr th{font-weight:700}.markdown table tr td,.markdown table tr th{text-align:left;margin:0;padding:6px 13px}.markdown table tr td :first-child,.markdown table tr th :first-child{margin-top:0}.markdown table tr td :last-child,.markdown table tr th :last-child{margin-bottom:0}',""]),e.exports=t},5426:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return d}));var a=r("8bbf"),n=r.n(a),s=r("bddd"),o=r("3f01"),i=r("b2f1"),l=r("0f95"),c=r("f3d3");const u={strict:!1,namespaced:!0,state(){return{...d()}},getters:{...l["a"]},mutations:{...c["a"]},actions:{...i["a"]}},d=(e,t,r)=>({config:{baseUrl:t,namespace:e,isClusterStore:r},types:{}});t["c"]=(t,r,a)=>{const i=r.namespace||"";return function(l){var c;if(l.registerModule(i,t),l.commit(i+"/applyConfig",r),!e.client||!window.__NUXT__)return;const u=l._modules.root._children[i],d=window.__NUXT__,p=new Proxy(u.context,{get(e,t){return"rootGetters"===t?l.getters:e[t]}});a&&a(l,p);const h=null===d||void 0===d||null===(c=d.state)||void 0===c?void 0:c[i];function f(e,t,r){if(Object(s["g"])(e)){const a="__rehydrateAll__"+r;if(!(t&&r&&t[a]))return e.map(e=>f(e));{const[e,r]=t[a].split("/",2);if(e===i){const e=h.types[r];if(e)return e.list}}}else if(e&&"object"===typeof e){if(e.__rehydrate){if(e.__rehydrate!==i)return e;const t=e.type,r=h.types[t];if(r&&!e.__clone){const a=r.map,n=l.getters[i+"/keyFieldForType"](t),s=a.get(e[n]);if(s)return s}return delete e.__rehydrate,Object(o["b"])(p,e)}for(const t of Object.keys(e))t.startsWith("__rehydrateAll__")||(Object(s["g"])(e[t])||"object"===typeof e[t])&&(e[t]=f(e[t],e,t))}return e}h&&Object.keys(h.types).forEach(e=>{const t=l.getters[i+"/keyFieldForType"](e),r=h.types[e],a=new Map;for(let n=0;n<r.list.length;n++){const e=Object(o["b"])(p,r.list[n]);r.list[n]=e,a.set(e[t],e)}n.a.set(r,"map",a),n.a.set(h.types,e,h.types[e])}),h&&null!==d&&void 0!==d&&d.data&&(d.data=f(d.data)),h&&null!==d&&void 0!==d&&d.fetch&&(d.fetch=f(d.fetch))}}}).call(this,r("07d9"))},"56dc":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.loaded?r("div",{staticClass:"markdown",domProps:{innerHTML:e._s(e.sanitized)}}):r("Loading")},n=[],s=r("15ca"),o={components:{Loading:s["a"]},props:{value:{type:String,required:!0}},data(){return{loaded:!1,marked:null,dompurify:null}},computed:{html(){return this.marked.parse(this.value,{renderer:this.markedRenderer,breaks:!0})},sanitized(){return this.dompurify.sanitize(this.html)}},async mounted(){const e=await r.e(27).then(r.t.bind(null,"3104",7)),t=(await r.e(27).then(r.t.bind(null,"3e09",7))).default,a=new e.Renderer,n=a.link,s=this.$router.resolve(this.$route).href.replace(/#.*$/,"");a.link=function(e,t,r){let a=!0;if(e.startsWith("./"))return r;e.startsWith("#")&&(e=`${s}${e}`,a=!1);const o=n.call(this,e,t,r);return a?o.replace(/^<a /,'<a target="_blank" rel="nofollow noopener noreferrer" '):o},t.setConfig({ADD_ATTR:["target"]}),this.marked=e,this.markedRenderer=a,this.dompurify=t,this.loaded=!0,this.$emit("loaded",!0)}},i=o,l=(r("a3a8"),r("d802")),c=Object(l["a"])(i,a,n,!1,null,null,null);t["a"]=c.exports},"5f4e":function(e,t,r){"use strict";(function(t){function r(e,r,a,n){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var s,o,i=arguments.length;switch(i){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,r)}));case 3:return t.nextTick((function(){e.call(null,r,a)}));case 4:return t.nextTick((function(){e.call(null,r,a,n)}));default:s=new Array(i-1),o=0;while(o<s.length)s[o++]=arguments[o];return t.nextTick((function(){e.apply(null,s)}))}}"undefined"===typeof t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:r}:e.exports=t}).call(this,r("07d9"))},6029:function(e,t,r){var a=r("add2");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("0ed3").default;n("889fb432",a,!0,{sourceMap:!1,shadowMode:!1})},6177:function(e,t,r){var a=r("5eaa");t=a(!1),t.push([e.i,'.clearfix[data-v-096cdc34]:after,.clearfix[data-v-096cdc34]:before{content:" ";display:table}.clearfix[data-v-096cdc34]:after{clear:both}.list-unstyled[data-v-096cdc34]{margin:0;padding:0;list-style-type:none}.no-select[data-v-096cdc34]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-096cdc34]{resize:none}.hand[data-v-096cdc34]{cursor:pointer;cursor:hand}.fixed[data-v-096cdc34]{table-layout:fixed}.clip[data-v-096cdc34]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-096cdc34],.force-wrap[data-v-096cdc34]{word-wrap:break-word}.force-wrap[data-v-096cdc34]{white-space:normal}.bordered-section[data-v-096cdc34]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-096cdc34]{margin-bottom:20px;margin-top:20px}.alerting-config>.row[data-v-096cdc34]{padding:10px 0}.alerting-config .banner.info[data-v-096cdc34]{margin-bottom:0;margin-top:0}',""]),e.exports=t},6438:function(e,t,r){var a=r("4597");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("0ed3").default;n("88e5d18a",a,!0,{sourceMap:!1,shadowMode:!1})},6642:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return E}));var a=r("cc47"),n=r("907c"),s=r("5000"),o=r("a8b9"),i=r("3e9d"),l=r("1d19"),c=r("bddd"),u=r("79ad"),d=r("bcb3"),p=r("da25"),h=r("97bf"),f=r("4048"),m=r("8535"),v=r("fec4"),b=r.n(v),g=r("4a8f"),y=r("12f4"),w=r("3f01"),x=r("86b4"),S=r("0059");const E="_",k=(Object(a["a"])({namespace:"management",baseUrl:"/v1",modelBaseClass:w["a"],supportsStream:!1}),Object(a["a"])({namespace:"cluster",baseUrl:"",supportsStream:!1,supportsGc:!0}),Object(a["a"])({namespace:"rancher",baseUrl:"/v3",supportsStream:!1,modelBaseClass:y["a"].NORMAN}),(e,t)=>{var r;const a={},s=t["currentProduct"],o=e.workspace;if(!s)return a;if(s.showWorkspaceSwitcher){const t={[o]:!0};return C(e,t),t}const i=null===s||void 0===s?void 0:s.inStore,l=null===(r=t["currentCluster"])||void 0===r?void 0:r.id;if(!l||!i)return C(e,a),a;const c=t[i+"/all"](n["o"]),u=e.namespaceFilters.filter(e=>!!e&&!(""+e).startsWith(x["e"])),d=t.isAllNamespaces,p=u.includes(x["b"]),h=u.includes(x["c"]),f=u.includes(x["a"]);if(d||f||p||h)for(const n of c)(d||f&&!n.projectId||h&&!n.isSystem||p&&n.isSystem)&&(a[n.id]=!0);if(!d)for(const m of u){const[e,r]=m.split("://",2);if(e)if("ns"===e)a[r]=!0;else if("project"===e){const e=t["management/byId"](n["m"].PROJECT,`${l}/${r}`);if(e)for(const t of e.namespaces)a[t.id]=!0}}return C(e,a),a}),C=(e,t)=>{let r="";for(const a in t)r+=a+t[a];e.activeNamespaceCacheKey!==r&&(e.activeNamespaceCacheKey=r,e.activeNamespaceCache=t)};S["b"],S["a"]}).call(this,r("07d9"))},6860:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("modal",{staticClass:"confirm-modal",attrs:{name:"cancel-modal",width:440,height:"auto"}},[r("div",{staticClass:"header"},[r("h4",{staticClass:"text-default-text"},[e.isCancelModal?r("t",{attrs:{k:"generic.cancel"}}):r("span",[e._v(e._s(e.t("cruResource.backToForm")))])],1)]),r("div",{staticClass:"body"},[e.isCancelModal?r("p",[r("t",{attrs:{k:"cruResource.cancelBody"}})],1):r("p",[r("t",{attrs:{k:"cruResource.backBody"}})],1)]),r("div",{staticClass:"footer"},[r("button",{staticClass:"btn role-secondary",attrs:{type:"button"},on:{click:e.cancelCancel}},[e._v(" "+e._s(e.isForm?e.t("cruResource.reviewForm"):e.t("cruResource.reviewYaml"))+" ")]),r("button",{staticClass:"btn role-primary",attrs:{type:"button"},on:{click:e.confirmCancel}},[e.isCancelModal?r("span",[e._v(e._s(e.t("cruResource.confirmCancel")))]):r("span",[e._v(e._s(e.t("cruResource.confirmBack")))])])])])},n=[],s={props:{isCancelModal:{type:Boolean,default:!1},isForm:{type:Boolean,default:!1}},watch:{},methods:{show(){this.$modal.show("cancel-modal")},cancelCancel(){this.$modal.hide("cancel-modal"),this.$emit("cancel-cancel")},confirmCancel(){this.$modal.hide("cancel-modal"),this.$emit("confirm-cancel",this.isCancelModal)}}},o=s,i=(r("8ea6"),r("d802")),l=Object(i["a"])(o,a,n,!1,null,"b9327b38",null);t["a"]=l.exports},"6a1e":function(e,t,r){var a=r("5eaa");t=a(!1),t.push([e.i,'.clearfix[data-v-1ade22a7]:after,.clearfix[data-v-1ade22a7]:before{content:" ";display:table}.clearfix[data-v-1ade22a7]:after{clear:both}.list-unstyled[data-v-1ade22a7]{margin:0;padding:0;list-style-type:none}.no-select[data-v-1ade22a7]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-1ade22a7]{resize:none}.hand[data-v-1ade22a7]{cursor:pointer;cursor:hand}.fixed[data-v-1ade22a7]{table-layout:fixed}.clip[data-v-1ade22a7]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-1ade22a7],.force-wrap[data-v-1ade22a7]{word-wrap:break-word}.force-wrap[data-v-1ade22a7]{white-space:normal}.bordered-section[data-v-1ade22a7]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-1ade22a7]{margin-bottom:20px;margin-top:20px}.addon.with-tooltip[data-v-1ade22a7]{position:relative;right:30px}',""]),e.exports=t},"6a68":function(e,t,r){var a=r("c02d"),n=r("a4fc");function s(e,t,r){(void 0!==r&&!n(e[t],r)||void 0===r&&!(t in e))&&a(e,t,r)}e.exports=s},"6b5c":function(e,t,r){function a(e){return Array.isArray?Array.isArray(e):"[object Array]"===b(e)}function n(e){return"boolean"===typeof e}function s(e){return null===e}function o(e){return null==e}function i(e){return"number"===typeof e}function l(e){return"string"===typeof e}function c(e){return"symbol"===typeof e}function u(e){return void 0===e}function d(e){return"[object RegExp]"===b(e)}function p(e){return"object"===typeof e&&null!==e}function h(e){return"[object Date]"===b(e)}function f(e){return"[object Error]"===b(e)||e instanceof Error}function m(e){return"function"===typeof e}function v(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function b(e){return Object.prototype.toString.call(e)}t.isArray=a,t.isBoolean=n,t.isNull=s,t.isNullOrUndefined=o,t.isNumber=i,t.isString=l,t.isSymbol=c,t.isUndefined=u,t.isRegExp=d,t.isObject=p,t.isDate=h,t.isError=f,t.isFunction=m,t.isPrimitive=v,t.isBuffer=r("f995").Buffer.isBuffer},"702e":function(e,t,r){var a=r("283c");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("0ed3").default;n("2597b120",a,!0,{sourceMap:!1,shadowMode:!1})},"70c7":function(e,t,r){var a=r("f995").Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"===typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(a.isBuffer(e)){for(var t=new Uint8Array(e.length),r=e.length,n=0;n<r;n++)t[n]=e[n];return t.buffer}throw new Error("Argument must be a Buffer")}},"71bd":function(e,t,r){var a=r("6a68"),n=r("1ab6"),s=r("e91b"),o=r("413d"),i=r("b03d"),l=r("6efc"),c=r("c316"),u=r("35d9"),d=r("dda8"),p=r("daaf"),h=r("b506"),f=r("2a46"),m=r("41dd"),v=r("2cbd"),b=r("e127");function g(e,t,r,g,y,w,x){var S=v(e,r),E=v(t,r),k=x.get(E);if(k)a(e,r,k);else{var C=w?w(S,E,r+"",e,t,x):void 0,_=void 0===C;if(_){var O=c(E),T=!O&&d(E),R=!O&&!T&&m(E);C=E,O||T||R?c(S)?C=S:u(S)?C=o(S):T?(_=!1,C=n(E,!0)):R?(_=!1,C=s(E,!0)):C=[]:f(E)||l(E)?(C=S,l(S)?C=b(S):h(S)&&!p(S)||(C=i(E))):_=!1}_&&(x.set(E,C),y(C,E,g,w,x),x["delete"](E)),a(e,r,C)}}e.exports=g},"72af":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"title"},[r("h3",[r("t",{attrs:{k:"monitoring.alerting.title"}})],1)]),r("div",{staticClass:"alerting-config"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("Checkbox",{attrs:{label:e.t("monitoring.alerting.enable.label")},model:{value:e.value.alertmanager.enabled,callback:function(t){e.$set(e.value.alertmanager,"enabled",t)},expression:"value.alertmanager.enabled"}})],1)]),e.value.alertmanager.enabled?[r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("RadioGroup",{attrs:{name:"useExistingSecret",disabled:e.forceCreateNewSecret,"label-key":"monitoring.alerting.secrets.radio.label",tooltip:e.t("monitoring.alerting.secrets.info",{},e.raw=!0),mode:e.mode,labels:e.useExistingLabels,options:e.useExistingOptions},model:{value:e.value.alertmanager.alertmanagerSpec.useExistingSecret,callback:function(t){e.$set(e.value.alertmanager.alertmanagerSpec,"useExistingSecret",t)},expression:"value.alertmanager.alertmanagerSpec.useExistingSecret"}})],1),r("div",{staticClass:"col span-6"},[e.value.alertmanager.alertmanagerSpec.useExistingSecret?r("LabeledSelect",{staticClass:"provider",attrs:{label:e.t("monitoring.alerting.secrets.label"),options:e.filteredSecrets},model:{value:e.value.alertmanager.alertmanagerSpec.configSecret,callback:function(t){e.$set(e.value.alertmanager.alertmanagerSpec,"configSecret",t)},expression:"value.alertmanager.alertmanagerSpec.configSecret"}}):e._e()],1)]),e.allSecrets.length>0?r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("LabeledSelect",{attrs:{options:e.allSecrets,label:e.t("monitoring.alerting.secrets.additional.label"),mode:e.mode,multiple:!0},model:{value:e.value.alertmanager.alertmanagerSpec.secrets,callback:function(t){e.$set(e.value.alertmanager.alertmanagerSpec,"secrets",t)},expression:"value.alertmanager.alertmanagerSpec.secrets"}})],1)]):e._e()]:e._e()],2)])},n=[],s=r("330a"),o=r.n(s),i=r("0df0"),l=r("466b"),c=r("e143");const u="cattle-monitoring-system";var d={components:{Checkbox:i["a"],LabeledSelect:l["a"],RadioGroup:c["a"]},props:{mode:{type:String,default:"create"},secrets:{type:Array,default:()=>[]},value:{type:Object,default:()=>({})}},data(){return{useExistingLabels:[this.t("monitoring.alerting.secrets.new"),this.t("monitoring.alerting.secrets.existing")],useExistingOptions:[!1,!0]}},computed:{allSecrets(){const{secrets:e}=this;return e.filter(e=>e.metadata.namespace===u).map(e=>({label:e.metadata.name,value:e.metadata.name}))},canUseExistingSecret(){const{filteredSecrets:e}=this;return e.length>0&&!this.value.alertmanager.alertmanagerSpec.useExistingSecret},existingSecret(){return this.secrets.find(e=>{var t,r;return"alertmanager-rancher-monitoring-alertmanager"===(null===e||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.name)&&(null===e||void 0===e||null===(r=e.metadata)||void 0===r?void 0:r.namespace)===u})},filteredSecrets(){const{secrets:e}=this,t=[];return e.forEach(e=>{e.metadata.name&&e.metadata.namespace===u&&t.push(e.metadata.name)}),t},forceCreateNewSecret(){const{filteredSecrets:e}=this;return o()(e)}},watch:{filteredSecrets(e,t){o()(e)&&this.$set(this.value.alertmanager.alertmanagerSpec,"useExistingSecret",!1);const{existingSecret:r}=this;r&&this.$nextTick(()=>{this.$set(this.value.alertmanager.alertmanagerSpec,"useExistingSecret",!0),this.$set(this.value.alertmanager.alertmanagerSpec,"configSecret",r.metadata.name)})},"value.alertmanager.alertmanagerSpec.useExistingSecret"(e){const{existingSecret:t}=this;var r;e?null!==t&&void 0!==t&&null!==(r=t.metadata)&&void 0!==r&&r.name&&this.$set(this.value.alertmanager.alertmanagerSpec,"configSecret",t.metadata.name):this.$set(this.value.alertmanager.alertmanagerSpec,"configSecret","")}},beforeMount(){var e,t,r,a;const n=null!==(e=null===(t=this.value)||void 0===t||null===(r=t.alertmanager)||void 0===r||null===(a=r.alertmanagerSpec)||void 0===a?void 0:a.secrets)&&void 0!==e?e:[];this.existingSecret&&n.length<=0&&this.$set(this.value.alertmanager.alertmanagerSpec,"useExistingSecret",!0)}},p=d,h=(r("8511"),r("d802")),f=Object(h["a"])(p,a,n,!1,null,"096cdc34",null);t["default"]=f.exports},"72f9":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=r("0788");function n(e){return null}const s={};function o(e,t,r){const a=e[t];if(a)return a;if("undefined"!==typeof a)return null;try{var s,o;const a=r.$plugin.getDynamic("models",t);let i;if(i=a?"function"===typeof a?a():a:n(t),null!==(s=i)&&void 0!==s&&null!==(o=s.default)&&void 0!==o&&o.prototype)return e[t]=i.default,i.default}catch(i){"MODULE_NOT_FOUND"!==(null===i||void 0===i?void 0:i.code)&&console.error("Find error",t,i)}return e[t]=null,null}function i(e,t,r,n){let i;t=Object(a["c"])(t).replace(/\//g,"");const l=[`${e}/${t}`,t];for(const a of l)if(i=o(s,a,n),i)return i;return null}},7560:function(e,t,r){var a=r("5eaa");t=a(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.custom-overlay>DIV{color:var(--input-label)}.custom-overlay>DIV>*{padding:3px}.custom-overlay .yaml-editor{flex:1;min-height:200px}.custom-overlay .yaml-editor .code-mirror .CodeMirror{position:static;height:auto;min-height:200px}',""]),e.exports=t},"75fe":function(e,t,r){var a=r("6177");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("0ed3").default;n("8598b040",a,!0,{sourceMap:!1,shadowMode:!1})},7675:function(e,t,r){var a=r("6bcf");function n(e,t){if(e!==t){var r=void 0!==e,n=null===e,s=e===e,o=a(e),i=void 0!==t,l=null===t,c=t===t,u=a(t);if(!l&&!u&&!o&&e>t||o&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!s)return 1;if(!n&&!o&&!u&&e<t||u&&r&&s&&!n&&!o||l&&r&&s||!i&&s||!c)return-1}return 0}e.exports=n},"76aa":function(e,t,r){var a=r("5eaa");t=a(!1),t.push([e.i,'.clearfix[data-v-20484df4]:after,.clearfix[data-v-20484df4]:before{content:" ";display:table}.clearfix[data-v-20484df4]:after{clear:both}.list-unstyled[data-v-20484df4]{margin:0;padding:0;list-style-type:none}.no-select[data-v-20484df4]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-20484df4]{resize:none}.hand[data-v-20484df4]{cursor:pointer;cursor:hand}.fixed[data-v-20484df4]{table-layout:fixed}.clip[data-v-20484df4]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-20484df4],.force-wrap[data-v-20484df4]{word-wrap:break-word}.force-wrap[data-v-20484df4]{white-space:normal}.bordered-section[data-v-20484df4]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-20484df4]{margin-bottom:20px;margin-top:20px}.cru-resource-yaml-container .resource-yaml .yaml-editor[data-v-20484df4]{min-height:100px}.create-resource-container .resource-container[data-v-20484df4]{display:flex;flex-direction:column}.create-resource-container .subtype-banner .round-image[data-v-20484df4]{background-color:var(--primary)}.title[data-v-20484df4]{margin-top:20px}.title.with-description[data-v-20484df4]{margin-top:0}.subtype-container[data-v-20484df4]{position:relative;display:flex;height:100%}.subtype-body[data-v-20484df4]{flex:1;padding:10px}.subtype-logo[data-v-20484df4]{align-items:center;display:flex;justify-content:center;min-width:100px;min-height:100px;overflow:hidden;background-color:var(--box-bg)}.subtype-logo img[data-v-20484df4]{width:56px;height:56px;-o-object-fit:contain;object-fit:contain;position:relative;top:2px}form.create-resource-container .cru__footer[data-v-20484df4]{border-top:var(--header-border-size) solid var(--header-border)}.cru[data-v-20484df4],.cru__form[data-v-20484df4]{display:flex;flex-direction:column;flex-grow:1}.cru__content[data-v-20484df4]{flex-grow:1}.cru__content-wizard[data-v-20484df4]{display:flex}.cru__footer[data-v-20484df4]{right:0;bottom:0;margin-left:-20px;margin-right:-20px;margin-bottom:-20px;padding:10px 20px}.cru__errors[data-v-20484df4],.cru__footer[data-v-20484df4]{position:sticky;background-color:var(--header-bg)}.cru__errors[data-v-20484df4]{top:0;z-index:1;margin:10px 0}',""]),e.exports=t},"787a":function(e,t,r){var a=r("1fce"),n=r("c364"),s=r("4b7a"),o=r("6c58"),i=r("e233"),l=r("494f"),c=r("e563"),u=r("cd68"),d=r("c316");function p(e,t,r){t=t.length?a(t,(function(e){return d(e)?function(t){return n(t,1===e.length?e[0]:e)}:e})):[u];var p=-1;t=a(t,l(s));var h=o(e,(function(e,r,n){var s=a(t,(function(t){return t(e)}));return{criteria:s,index:++p,value:e}}));return i(h,(function(e,t){return c(e,t,r)}))}e.exports=p},"7c6f":function(e,t,r){var a=r("5eaa");t=a(!1),t.push([e.i,'.clearfix[data-v-b9327b38]:after,.clearfix[data-v-b9327b38]:before{content:" ";display:table}.clearfix[data-v-b9327b38]:after{clear:both}.list-unstyled[data-v-b9327b38]{margin:0;padding:0;list-style-type:none}.no-select[data-v-b9327b38]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-b9327b38]{resize:none}.hand[data-v-b9327b38]{cursor:pointer;cursor:hand}.fixed[data-v-b9327b38]{table-layout:fixed}.clip[data-v-b9327b38]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-b9327b38],.force-wrap[data-v-b9327b38]{word-wrap:break-word}.force-wrap[data-v-b9327b38]{white-space:normal}.bordered-section[data-v-b9327b38]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-b9327b38]{margin-bottom:20px;margin-top:20px}.confirm-modal .btn[data-v-b9327b38]{margin:0 10px}.confirm-modal .v--modal-box[data-v-b9327b38]{background-color:var(--default);box-shadow:none;min-height:200px}.confirm-modal .v--modal-box .body[data-v-b9327b38]{min-height:75px;padding:10px 0 0 15px}.confirm-modal .v--modal-box .body p[data-v-b9327b38]{margin-top:10px}.confirm-modal .v--modal-box .header[data-v-b9327b38]{background-color:var(--error);padding:15px 0 0 15px;height:50px}.confirm-modal .v--modal-box .header h4[data-v-b9327b38]{color:#fff}.confirm-modal .v--modal-box .footer[data-v-b9327b38]{border-top:1px solid var(--border);text-align:center;padding:10px 0 0 15px;height:60px}',""]),e.exports=t},8220:function(e,t,r){var a=r("5eaa");t=a(!1),t.push([e.i,'.clearfix[data-v-d36a7882]:after,.clearfix[data-v-d36a7882]:before{content:" ";display:table}.clearfix[data-v-d36a7882]:after{clear:both}.list-unstyled[data-v-d36a7882]{margin:0;padding:0;list-style-type:none}.no-select[data-v-d36a7882]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-d36a7882]{resize:none}.hand[data-v-d36a7882]{cursor:pointer;cursor:hand}.fixed[data-v-d36a7882]{table-layout:fixed}.clip[data-v-d36a7882]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-d36a7882],.force-wrap[data-v-d36a7882]{word-wrap:break-word}.force-wrap[data-v-d36a7882]{white-space:normal}.bordered-section[data-v-d36a7882]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-d36a7882]{margin-bottom:20px;margin-top:20px}[data-v-d36a7882] .radio-group.label>SPAN{font-size:1em}',""]),e.exports=t},"826d":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Tab",{attrs:{name:"components",label:e.t("istio.titles.components")}},[r("div",{staticClass:"row"},[e.value.cni?r("div",{staticClass:"col span-4"},[r("Checkbox",{attrs:{label:e.t("istio.cni")},on:{input:e.update},model:{value:e.value.cni.enabled,callback:function(t){e.$set(e.value.cni,"enabled",t)},expression:"value.cni.enabled"}})],1):e._e(),e.value.ingressGateways?r("div",{staticClass:"col span-4"},[r("Checkbox",{attrs:{label:e.t("istio.ingressGateway")},model:{value:e.value.ingressGateways.enabled,callback:function(t){e.$set(e.value.ingressGateways,"enabled",t)},expression:"value.ingressGateways.enabled"}})],1):e._e(),e.value.egressGateways?r("div",{staticClass:"col span-4"},[r("Checkbox",{attrs:{label:e.t("istio.egressGateway")},model:{value:e.value.egressGateways.enabled,callback:function(t){e.$set(e.value.egressGateways,"enabled",t)},expression:"value.egressGateways.enabled"}})],1):e._e()]),r("div",{staticClass:"row"},[e.value.pilot?r("div",{staticClass:"col span-4"},[r("Checkbox",{attrs:{label:e.t("istio.pilot")},model:{value:e.value.pilot.enabled,callback:function(t){e.$set(e.value.pilot,"enabled",t)},expression:"value.pilot.enabled"}})],1):e._e(),e.value.policy?r("div",{staticClass:"col span-4"},[r("Checkbox",{attrs:{label:e.t("istio.policy")},model:{value:e.value.policy.enabled,callback:function(t){e.$set(e.value.policy,"enabled",t)},expression:"value.policy.enabled"}})],1):e._e(),e.value.telemetry?r("div",{staticClass:"col span-4"},[r("Checkbox",{attrs:{label:e.t("istio.telemetry")},model:{value:e.value.telemetry.enabled,callback:function(t){e.$set(e.value.telemetry,"enabled",t)},expression:"value.telemetry.enabled"}})],1):e._e()]),r("div",{staticClass:"row"},[e.value.kiali?r("div",{staticClass:"col span-4"},[r("Checkbox",{attrs:{label:e.t("istio.kiali")},model:{value:e.value.kiali.enabled,callback:function(t){e.$set(e.value.kiali,"enabled",t)},expression:"value.kiali.enabled"}})],1):e._e(),e.value.tracing?r("div",{staticClass:"col span-4"},[r("Checkbox",{attrs:{label:e.t("istio.tracing")},model:{value:e.value.tracing.enabled,callback:function(t){e.$set(e.value.tracing,"enabled",t)},expression:"value.tracing.enabled"}})],1):e._e(),r("div",{staticClass:"col span-4"})])]),r("Tab",{attrs:{label:e.t("istio.customOverlayFile.label"),name:"overlay"},on:{active:function(t){return e.$refs["yaml-editor"].refresh()}}},[r("div",{staticClass:"custom-overlay"},[r("Banner",{attrs:{color:"info"}},[r("span",{domProps:{innerHTML:e._s(e.t("istio.customOverlayFile.tip",{},!0))}})]),r("YamlEditor",{ref:"yaml-editor",staticClass:"yaml-editor mb-10",attrs:{value:e.overlayFile},on:{onInput:e.valuesChanged}}),r("FileSelector",{staticClass:"role-primary  btn-sm",attrs:{label:e.t("generic.readFromFile")},on:{selected:e.onFileSelected}})],1)])],1)},n=[],s=r("44db"),o=r.n(s),i=r("7838"),l=r.n(i),c=r("0df0"),u=r("870a"),d=r("9ce4"),p=r("8b2c"),h=r("38de"),f=r("6418");const m="#apiVersion: install.istio.io/v1alpha1\n#kind: IstioOperator\n#spec:\n#  components:\n#    ingressGateways:\n#    - enabled: true\n#      name: istio-ingressgateway\n#    - enabled: true\n#      k8s:\n#        resources:\n#          requests:\n#            cpu: 200m\n#        service:\n#          ports:\n#          - name: tcp-citadel-grpc-tls\n#            port: 8060\n#            targetPort: 8060\n#          - name: tcp-dns\n#            port: 5353\n#        serviceAnnotations:\n#          cloud.google.com/load-balancer-type: internal\n#      name: ilb-gateway\n#      namespace: user-ingressgateway-ns\n#    - enabled: true\n#      k8s:\n#        resources:\n#          requests:\n#            cpu: 200m\n#        service:\n#          ports:\n#          - name: tcp-citadel-grpc-tls\n#            port: 8060\n#            targetPort: 8060\n#          - name: tcp-dns\n#            port: 5353\n#        serviceAnnotations:\n#          cloud.google.com/load-balancer-type: internal\n#      name: other-gateway\n#      namespace: istio-system\n";var v={components:{Checkbox:c["a"],FileSelector:p["b"],YamlEditor:u["b"],Tab:h["a"],Banner:f["a"]},hasTabs:!0,props:{value:{type:Object,default:()=>({})}},data(){var e;let t=this.value.overlayFile;return null!==(e=t)&&void 0!==e&&e.length||(t=m),{overlayFile:t}},computed:{valuesYaml:{get(){try{const e=l.a.dump(this.value);return e}catch(e){return null}},set:o()((function(e){try{const t=l.a.load(e);Object.assign(this.value,t)}catch(t){}}),500)},...Object(d["a"])({t:"i18n/t"})},methods:{update(){this.$emit("input",this.value)},valuesChanged(e){try{l.a.load(e),e===m?e="":this.overlayFile=e,this.value.overlayFile=e}catch(t){}},onFileSelected(e){this.$refs["yaml-editor"].updateValue(e)}}},b=v,g=(r("b09e"),r("d802")),y=Object(g["a"])(b,a,n,!1,null,null,null);t["default"]=y.exports},8511:function(e,t,r){"use strict";r("75fe")},"86b4":function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return s})),r.d(t,"e",(function(){return o})),r.d(t,"f",(function(){return i})),r.d(t,"d",(function(){return l})),r.d(t,"g",(function(){return u}));const a="all://system",n="all://user",s="all://orphans",o="namespaced://",i="namespaced://true",l="namespaced://false",c="__%%__",u=e=>{const[t,r]=e.split(c);return{clusterId:t,productId:r}}},8879:function(e,t,r){var a=r("f995"),n=a.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=a:(s(a,t),t.Buffer=o),s(n,o),o.from=function(e,t,r){if("number"===typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!==typeof e)throw new TypeError("Argument must be a number");var a=n(e);return void 0!==t?"string"===typeof r?a.fill(t,r):a.fill(t):a.fill(0),a},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return a.SlowBuffer(e)}},"8b03":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"row mb-10"},[r("div",{staticClass:"col span-6"},[r("LabeledSelect",{attrs:{"get-option-label":function(e){return e.metadata.name||""},"option-key":"id",mode:e.mode,options:e.secrets,label:e.t("backupRestoreOperator.s3.credentialSecretName")},model:{value:e.credentialSecret,callback:function(t){e.credentialSecret=t},expression:"credentialSecret"}})],1),r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{mode:e.mode,label:e.t("backupRestoreOperator.s3.bucketName")},model:{value:e.value.bucketName,callback:function(t){e.$set(e.value,"bucketName",t)},expression:"value.bucketName"}})],1)]),r("div",{staticClass:"row mb-10"},[r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{mode:e.mode,label:e.t("backupRestoreOperator.s3.region")},model:{value:e.value.region,callback:function(t){e.$set(e.value,"region",t)},expression:"value.region"}})],1),r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{mode:e.mode,label:e.t("backupRestoreOperator.s3.folder")},model:{value:e.value.folder,callback:function(t){e.$set(e.value,"folder",t)},expression:"value.folder"}})],1)]),r("div",{staticClass:"row mb-10"},[r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{mode:e.mode,label:e.t("backupRestoreOperator.s3.endpoint")},model:{value:e.value.endpoint,callback:function(t){e.$set(e.value,"endpoint",t)},expression:"value.endpoint"}}),r("Checkbox",{staticClass:"mt-10",attrs:{mode:e.mode,label:e.t("backupRestoreOperator.s3.insecureTLSSkipVerify")},model:{value:e.value.insecureTLSSkipVerify,callback:function(t){e.$set(e.value,"insecureTLSSkipVerify",t)},expression:"value.insecureTLSSkipVerify"}})],1),r("div",{staticClass:"col span-6"},[r("LabeledInput",{attrs:{mode:e.mode,type:"multiline",label:e.t("backupRestoreOperator.s3.endpointCA.label")},model:{value:e.value.endpointCA,callback:function(t){e.$set(e.value,"endpointCA",t)},expression:"value.endpointCA"}}),r("div",{staticClass:"ca-controls"},["view"!==e.mode?r("FileSelector",{staticClass:"btn btn-sm role-primary mt-5",attrs:{mode:e.mode,label:e.t("generic.readFromFile")},on:{selected:function(t){return e.setCA(t)}}}):e._e(),r("div",{staticClass:"ca-tooltip"},[r("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.t("backupRestoreOperator.s3.endpointCA.prompt"),expression:"t('backupRestoreOperator.s3.endpointCA.prompt')"}],staticClass:"icon icon-info"})])],1)],1)])])},n=[],s=r("8e93"),o=r("0df0"),i=r("8b2c"),l=r("466b"),c=r("9ce4"),u={components:{LabeledInput:s["a"],Checkbox:o["a"],FileSelector:i["b"],LabeledSelect:l["a"]},props:{value:{type:Object,default:()=>({})},mode:{type:String,default:"create"},secrets:{type:Array,default:()=>[]}},computed:{credentialSecret:{get(){const{credentialSecretName:e,credentialSecretNamespace:t}=this.value;return{metadata:{name:e,namespace:t}}},set(e){const{name:t,namespace:r}=e.metadata;this.$set(this.value,"credentialSecretName",t),this.$set(this.value,"credentialSecretNamespace",r)}},...Object(c["a"])({t:"i18n/t"})},methods:{setCA(e){try{const t=btoa(e);this.$set(this.value,"endpointCA",t)}catch(t){console.warn(t)}}},created(){const{credentialSecretName:e,credentialSecretNamespace:t}=this.value;e&&!t&&(this.value.credentialSecretName="")}},d=u,p=(r("e560"),r("d802")),h=Object(p["a"])(d,a,n,!1,null,"7fba262d",null);t["default"]=h.exports},"8c60":function(e,t,r){var a=r("8220");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("0ed3").default;n("c01e7e76",a,!0,{sourceMap:!1,shadowMode:!1})},"8cce":function(e,t,r){"use strict";r("a003")},"8ea6":function(e,t,r){"use strict";r("cb42")},"97bf":function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i}));r("8535");const a="Rancher";let n=a,s=null;function o(e){n=e}function i(e){s=e}},"98e3":function(e,t,r){"use strict";r.d(t,"a",(function(){return B})),r.d(t,"c",(function(){return U})),r.d(t,"e",(function(){return z})),r.d(t,"b",(function(){return G})),r.d(t,"d",(function(){return W})),r.d(t,"f",(function(){return H}));const a=new WeakMap,n=new WeakMap;function s(e){const t=a.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function o(e){null==e.passiveListener?e.event.cancelable&&(e.canceled=!0,"function"===typeof e.event.preventDefault&&e.event.preventDefault()):"undefined"!==typeof console&&"function"===typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener)}function i(e,t){a.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const r=Object.keys(t);for(let a=0;a<r.length;++a){const e=r[a];e in this||Object.defineProperty(this,e,l(e))}}function l(e){return{get(){return s(this).event[e]},set(t){s(this).event[e]=t},configurable:!0,enumerable:!0}}function c(e){return{value(){const t=s(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}function u(e,t){const r=Object.keys(t);if(0===r.length)return e;function a(t,r){e.call(this,t,r)}a.prototype=Object.create(e.prototype,{constructor:{value:a,configurable:!0,writable:!0}});for(let n=0;n<r.length;++n){const s=r[n];if(!(s in e.prototype)){const e=Object.getOwnPropertyDescriptor(t,s),r="function"===typeof e.value;Object.defineProperty(a.prototype,s,r?c(s):l(s))}}return a}function d(e){if(null==e||e===Object.prototype)return i;let t=n.get(e);return null==t&&(t=u(d(Object.getPrototypeOf(e)),e),n.set(e,t)),t}function p(e,t){const r=d(Object.getPrototypeOf(t));return new r(e,t)}function h(e){return s(e).immediateStopped}function f(e,t){s(e).eventPhase=t}function m(e,t){s(e).currentTarget=t}function v(e,t){s(e).passiveListener=t}i.prototype={get type(){return s(this).event.type},get target(){return s(this).eventTarget},get currentTarget(){return s(this).currentTarget},composedPath(){const e=s(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return s(this).eventPhase},stopPropagation(){const e=s(this);e.stopped=!0,"function"===typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){const e=s(this);e.stopped=!0,e.immediateStopped=!0,"function"===typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return Boolean(s(this).event.bubbles)},get cancelable(){return Boolean(s(this).event.cancelable)},preventDefault(){o(s(this))},get defaultPrevented(){return s(this).canceled},get composed(){return Boolean(s(this).event.composed)},get timeStamp(){return s(this).timeStamp},get srcElement(){return s(this).eventTarget},get cancelBubble(){return s(this).stopped},set cancelBubble(e){if(!e)return;const t=s(this);t.stopped=!0,"boolean"===typeof t.event.cancelBubble&&(t.event.cancelBubble=!0)},get returnValue(){return!s(this).canceled},set returnValue(e){e||o(s(this))},initEvent(){}},Object.defineProperty(i.prototype,"constructor",{value:i,configurable:!0,writable:!0}),"undefined"!==typeof window&&"undefined"!==typeof window.Event&&(Object.setPrototypeOf(i.prototype,window.Event.prototype),n.set(window.Event.prototype,i));const b=new WeakMap,g=1,y=2,w=3;function x(e){return null!==e&&"object"===typeof e}function S(e){const t=b.get(e);if(null==t)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}function E(e){return{get(){const t=S(this);let r=t.get(e);while(null!=r){if(r.listenerType===w)return r.listener;r=r.next}return null},set(t){"function"===typeof t||x(t)||(t=null);const r=S(this);let a=null,n=r.get(e);while(null!=n)n.listenerType===w?null!==a?a.next=n.next:null!==n.next?r.set(e,n.next):r.delete(e):a=n,n=n.next;if(null!==t){const n={listener:t,listenerType:w,passive:!1,once:!1,next:null};null===a?r.set(e,n):a.next=n}},configurable:!0,enumerable:!0}}function k(e,t){Object.defineProperty(e,"on"+t,E(t))}function C(e){function t(){_.call(this)}t.prototype=Object.create(_.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)k(t.prototype,e[r]);return t}function _(){if(!(this instanceof _)){if(1===arguments.length&&Array.isArray(arguments[0]))return C(arguments[0]);if(arguments.length>0){const e=new Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return C(e)}throw new TypeError("Cannot call a class as a function")}b.set(this,new Map)}_.prototype={addEventListener(e,t,r){if(null==t)return;if("function"!==typeof t&&!x(t))throw new TypeError("'listener' should be a function or an object.");const a=S(this),n=x(r),s=n?Boolean(r.capture):Boolean(r),o=s?g:y,i={listener:t,listenerType:o,passive:n&&Boolean(r.passive),once:n&&Boolean(r.once),next:null};let l=a.get(e);if(void 0===l)return void a.set(e,i);let c=null;while(null!=l){if(l.listener===t&&l.listenerType===o)return;c=l,l=l.next}c.next=i},removeEventListener(e,t,r){if(null==t)return;const a=S(this),n=x(r)?Boolean(r.capture):Boolean(r),s=n?g:y;let o=null,i=a.get(e);while(null!=i){if(i.listener===t&&i.listenerType===s)return void(null!==o?o.next=i.next:null!==i.next?a.set(e,i.next):a.delete(e));o=i,i=i.next}},dispatchEvent(e){if(null==e||"string"!==typeof e.type)throw new TypeError('"event.type" should be a string.');const t=S(this),r=e.type;let a=t.get(r);if(null==a)return!0;const n=p(this,e);let s=null;while(null!=a){if(a.once?null!==s?s.next=a.next:null!==a.next?t.set(r,a.next):t.delete(r):s=a,v(n,a.passive?a.listener:null),"function"===typeof a.listener)try{a.listener.call(this,n)}catch(o){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(o)}else a.listenerType!==w&&"function"===typeof a.listener.handleEvent&&a.listener.handleEvent(n);if(h(n))break;a=a.next}return v(n,null),f(n,0),m(n,null),!n.defaultPrevented}},Object.defineProperty(_.prototype,"constructor",{value:_,configurable:!0,writable:!0}),"undefined"!==typeof window&&"undefined"!==typeof window.EventTarget&&Object.setPrototypeOf(_.prototype,window.EventTarget.prototype);var O=r("98d3"),T=r("4048");function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let N=1,I=!1,A=!1;const L="ws://",j="wss://",M="disconnected",$="connecting",P="connected",F="closing",D="reconnecting",q=$,B=P,U=M,z="message",V="frame_timeout",G="connect_error",W="disconnect_error";class H extends _{constructor(e,t=!0,r=null,a=null,n=null){super(),R(this,"url",void 0),R(this,"autoReconnect",!0),R(this,"frameTimeout",35e3),R(this,"metadata",{}),R(this,"hasBeenOpen",!1),R(this,"hasReconnected",!1),R(this,"protocol",null),R(this,"maxTries",null),R(this,"tries",0),R(this,"socket",null),R(this,"state",M),R(this,"framesReceived",0),R(this,"frameTimer",void 0),R(this,"reconnectTimer",void 0),R(this,"disconnectCbs",[]),R(this,"disconnectedAt",0),R(this,"closingId",0),this.setUrl(e),this.autoReconnect=t,this.protocol=a,this.maxTries=n,null!==r&&(this.frameTimeout=r)}setUrl(e){e.match(/wss?:\/\//)||(e=self.location.origin.replace(/^http/,"ws")+e),"https:"===self.location.protocol&&e.startsWith(L)&&(e=j+e.substr(L.length)),this.url=e}connect(e={}){if(this.socket)return void console.error("Socket refusing to connect while another socket exists");this.state!==D&&(this.state=$),Object.assign(this.metadata,e);const t=N++,r=Object(T["a"])(this.url,"sockId",t);let a;console.log(`Socket connecting (id=${t}, url=${r.replace(/\?.*/,"")+"..."})`),this.tries++,a=this.protocol?new WebSocket(r,this.protocol):new WebSocket(r),a.sockId=t,a.metadata=this.metadata,a.onmessage=this._onmessage.bind(this),a.onopen=this._opened.bind(this),a.onerror=this._error.bind(this),a.onclose=this._closed.bind(this),this.socket=a,this.state=$,this.dispatchEvent(new CustomEvent(q))}send(e){return!(!this.socket||this.state!==P)&&(this.socket.send(e),!0)}disconnect(e){e&&this.disconnectCbs.push(e);const t=this,r=new Promise((e,r)=>{function a(e){r(e),t.removeEventListener(G,a)}this.state===M&&e(),this.addEventListener(G,a),this.disconnectCbs.push(()=>{this.removeEventListener(G,a),e()})});return this.autoReconnect=!1,this._close(),r}reconnect(e={}){Object.assign(this.metadata,e),this.state!==$?this.socket?this._close():this.connect(e):this._log("Ignoring reconnect for socket in connecting")}getMetadata(){return this.socket?this.socket.metadata:{}}getId(){return this.socket?this.socket.sockId:0}isConnected(){return this.state===P}setAutoReconnect(e){this.autoReconnect=e}_close(){const e=this.socket;if(e){try{this._log("closing"),this.closingId=e.sockId,e.onopen=null,e.onerror=null,e.onmessage=null,e.close()}catch(t){this._log("Socket exception",t)}this.state=F}}_opened(){this._log("opened");const e=(new Date).getTime(),t=this.disconnectedAt;let r=0;t&&(r=e-t),this.hasBeenOpen&&(this.hasReconnected=!0),this.hasBeenOpen=!0,this.state=P,this.framesReceived=0,this.disconnectedAt=0,this.dispatchEvent(new CustomEvent(B,{detail:{tries:this.tries,afterMilliseconds:r}})),this.tries=0,this._resetWatchdog(),clearTimeout(this.reconnectTimer)}_onmessage(e){this._resetWatchdog(),this.tries=0,this.framesReceived++,this.dispatchEvent(new CustomEvent(z,{detail:e}))}_resetWatchdog(){clearTimeout(this.frameTimer);const e=this.frameTimeout;e&&this.state===P&&(this.frameTimer=setTimeout(()=>{this._log("Socket watchdog expired after",e,"closing"),this._close(),this.dispatchEvent(new CustomEvent(V))},e))}_error(){this.closingId=this.socket?this.socket.sockId:0,this._log("error")}_closed(){console.log(`Socket ${this.closingId} closed`),this.closingId=0,this.socket=null,clearTimeout(this.reconnectTimer),clearTimeout(this.frameTimer);const e=this.disconnectCbs;while(e.length){const t=e.pop();t&&t.apply(this)}if([P,F].includes(this.state)&&(A=!0),this.disconnectedAt||(this.disconnectedAt=(new Date).getTime()),I||A)if(this.autoReconnect){if(this.state=D,this.maxTries&&this.tries>1&&this.tries<=this.maxTries){const e=new CustomEvent(G);this.dispatchEvent(e)}if(this.maxTries&&this.tries>this.maxTries)this.state=M,this.dispatchEvent(new CustomEvent(W));else{const e=Math.max(1e3,Math.min(1e3*this.tries,3e4));this.reconnectTimer=setTimeout(()=>{this.connect()},e)}}else this.state=M;else{this.autoReconnect=!1,this.state=M;const e=new CustomEvent(G,{detail:{isSafari:O["d"]}});this.dispatchEvent(e),I=!0}this.state===M?this.dispatchEvent(new CustomEvent(U)):this.state===D&&this.dispatchEvent(new CustomEvent(q))}_log(...e){const t=JSON.parse(JSON.stringify([...e]));t.unshift("Socket"),t.push(`(state=${this.state}, id=${this.socket?this.socket.sockId:0})`),console.log(t.join(" "))}}},"9afd":function(e,t,r){var a=r("5eaa");t=a(!1),t.push([e.i,'.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.list-unstyled{margin:0;padding:0;list-style-type:none}.no-select{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize{resize:none}.hand{cursor:pointer;cursor:hand}.fixed{table-layout:fixed}.clip{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip,.force-wrap{word-wrap:break-word}.force-wrap{white-space:normal}.bordered-section{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider{margin-bottom:20px;margin-top:20px}.grafana-config>*{margin-top:10px}',""]),e.exports=t},"9d63":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("LabeledSelect",{attrs:{label:e.t("monitoring.clusterType.label"),placeholder:e.t("monitoring.clusterType.placeholder"),"localized-label":!0,options:e.clusterTypes},model:{value:e.clusterType,callback:function(t){e.clusterType=t},expression:"clusterType"}})},n=[],s=r("330a"),o=r.n(s),i=r("466b"),l=r("9ce4"),c=r("bddd"),u=r("bba0"),d=r.n(u);const p=["kubeControllerManager","kubeScheduler","kubeEtcd","kubeProxy"],h=["kubeControllerManager","kubeScheduler","kubeEtcd","kubeProxy"],f=[{group:"managed",id:"aks",label:"cluster.provider.azureaks",configKeys:p},{group:"managed",id:"eks",label:"cluster.provider.amazoneks",configKeys:p},{group:"managed",id:"gke",label:"cluster.provider.googlegke",configKeys:p},{group:"k3s",id:"k3s",label:"cluster.provider.k3s",configKeys:["k3sControllerManager","k3sScheduler","k3sProxy","k3sServer"]},{group:"kubeadm",id:"kubeadm",label:"cluster.provider.kubeAdmin",configKeys:["kubeAdmControllerManager","kubeAdmScheduler","kubeAdmProxy","kubeAdmEtcd"]},{group:"other",id:"other",label:"cluster.provider.other",configKeys:h},{group:"rke",id:"rke",label:"cluster.provider.rke",configKeys:["rkeControllerManager","rkeScheduler","rkeProxy","rkeEtcd"]},{group:"rke",id:"rke2",label:"cluster.provider.rke2",configKeys:["rke2ControllerManager","rke2Scheduler","rke2Proxy","rke2Etcd"]},{group:"rke",id:"rke.windows",label:"cluster.provider.rkeWindows",configKeys:["rkeControllerManager","rkeScheduler","rkeProxy","rkeEtcd"]}];var m={components:{LabeledSelect:i["a"]},props:{value:{type:Object,default:()=>({})}},data(){return{clusterType:null,clusterTypes:d()(f,"id")}},computed:{...Object(l["a"])(["currentCluster"]),provider(){return this.currentCluster.status.provider.toLowerCase()}},watch:{clusterType(e,t){if(o()(e))return;if(!o()(t)){const{configKeys:e}=Object(c["e"])(this.clusterTypes,"id",t.id);"managed"===t.group?"gke"===t.id&&(this.$set(this.value.coreDns,"enabled",!0),this.$set(this.value.kubeDns,"enabled",!1)):"other"!==t.group&&this.setClusterTypeEnabledValues([e,!1]),"k3s"===t.group&&(this.$set(this.value.prometheus.prometheusSpec.resources.limits,"memory","1500Mi"),this.$set(this.value.prometheus.prometheusSpec.resources.requests,"memory","750Mi"))}const{configKeys:r}=Object(c["e"])(this.clusterTypes,"id",e.id);"other"===e.group?this.setClusterTypeEnabledValues([r,!1]):"managed"===e.group?(this.setClusterTypeEnabledValues([r,!1]),"gke"===e.id&&(this.$set(this.value.coreDns,"enabled",!1),this.$set(this.value.kubeDns,"enabled",!0))):this.setClusterTypeEnabledValues([r,!0]),"k3s"===e.group&&(this.$set(this.value.prometheus.prometheusSpec.resources.limits,"memory","3000Mi"),this.$set(this.value.prometheus.prometheusSpec.resources.requests,"memory","1750Mi")),"rke.windows"===e.id?this.value.global.cattle.windows?this.value.global.cattle.windows.enabled=!0:this.$set(this.value.global.cattle,"windows",{enabled:!0}):t&&"rke.windows"===t.id&&delete this.value.global.cattle.windows,this.$emit("onClusterTypeChanged",e)}},created(){const{provider:e,clusterTypes:t}=this,r=Object(c["e"])(t,"id",e);o()(r)?this.clusterType=Object(c["e"])(this.clusterTypes,"id","other"):this.clusterType=r},methods:{setClusterTypeEnabledValues([e=[],t=!1]){const{value:r}=this;e.forEach(e=>{r[e]||this.$set(r,e,{}),this.$set(r[e],"enabled",t)})}}},v=m,b=r("d802"),g=Object(b["a"])(v,a,n,!1,null,null,null);t["default"]=g.exports},a003:function(e,t,r){var a=r("cf82");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("0ed3").default;n("ce57bcd2",a,!0,{sourceMap:!1,shadowMode:!1})},a0ac:function(e,t,r){"use strict";r("6438")},a1d8:function(e,t){function r(e){return e&&e.length?e[0]:void 0}e.exports=r},a355:function(e,t,r){(function(e){var a=r("d487"),n=r("29b4"),s=r("18ab"),o=r("ce34"),i=r("11f5"),l=t;l.request=function(t,r){t="string"===typeof t?i.parse(t):s(t);var n=-1===e.location.protocol.search(/^https?:$/)?"http:":"",o=t.protocol||n,l=t.hostname||t.host,c=t.port,u=t.path||"/";l&&-1!==l.indexOf(":")&&(l="["+l+"]"),t.url=(l?o+"//"+l:"")+(c?":"+c:"")+u,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var d=new a(t);return r&&d.on("response",r),d},l.get=function(e,t){var r=l.request(e,t);return r.end(),r},l.ClientRequest=a,l.IncomingMessage=n.IncomingMessage,l.Agent=function(){},l.Agent.defaultMaxSockets=4,l.globalAgent=new l.Agent,l.STATUS_CODES=o,l.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,r("7d15"))},a3a8:function(e,t,r){"use strict";r("2825")},a41c:function(e,t,r){var a=r("76aa");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("0ed3").default;n("5e130b7c",a,!0,{sourceMap:!1,shadowMode:!1})},a5bd:function(e,t,r){"use strict";r("48b3")},a6b0:function(e,t,r){"use strict";t.decode=t.parse=r("aff2"),t.encode=t.stringify=r("cc76")},a96d:function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},ab0e:function(e,t,r){"use strict";(function(t,a){var n=r("5f4e");e.exports=S;var s,o=r("465e");S.ReadableState=x;r("af6a").EventEmitter;var i=function(e,t){return e.listeners(t).length},l=r("fe45"),c=r("8879").Buffer,u=t.Uint8Array||function(){};function d(e){return c.from(e)}function p(e){return c.isBuffer(e)||e instanceof u}var h=Object.create(r("6b5c"));h.inherits=r("a96d");var f=r(1),m=void 0;m=f&&f.debuglog?f.debuglog("stream"):function(){};var v,b=r("16d6"),g=r("3615");h.inherits(S,l);var y=["error","close","destroy","pause","resume"];function w(e,t,r){if("function"===typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function x(e,t){s=s||r("c186"),e=e||{};var a=t instanceof s;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,o=e.readableHighWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:a&&(o||0===o)?o:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(v||(v=r("e23f").StringDecoder),this.decoder=new v(e.encoding),this.encoding=e.encoding)}function S(e){if(s=s||r("c186"),!(this instanceof S))return new S(e);this._readableState=new x(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function E(e,t,r,a,n){var s,o=e._readableState;null===t?(o.reading=!1,N(e,o)):(n||(s=C(o,t)),s?e.emit("error",s):o.objectMode||t&&t.length>0?("string"===typeof t||o.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=d(t)),a?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):k(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?k(e,o,t,!1):L(e,o)):k(e,o,t,!1))):a||(o.reading=!1));return _(o)}function k(e,t,r,a){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,a?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&I(e)),L(e,t)}function C(e,t){var r;return p(t)||"string"===typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function _(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}Object.defineProperty(S.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=g.destroy,S.prototype._undestroy=g.undestroy,S.prototype._destroy=function(e,t){this.push(null),t(e)},S.prototype.push=function(e,t){var r,a=this._readableState;return a.objectMode?r=!0:"string"===typeof e&&(t=t||a.defaultEncoding,t!==a.encoding&&(e=c.from(e,t),t=""),r=!0),E(this,e,t,!1,r)},S.prototype.unshift=function(e){return E(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){return v||(v=r("e23f").StringDecoder),this._readableState.decoder=new v(e),this._readableState.encoding=e,this};var O=8388608;function T(e){return e>=O?e=O:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function R(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=T(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function N(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,I(e)}}function I(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(m("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(A,e):A(e))}function A(e){m("emit readable"),e.emit("readable"),D(e)}function L(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(j,e,t))}function j(e,t){var r=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){if(m("maybeReadMore read 0"),e.read(0),r===t.length)break;r=t.length}t.readingMore=!1}function M(e){return function(){var t=e._readableState;m("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,D(e))}}function $(e){m("readable nexttick read 0"),e.read(0)}function P(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(F,e,t))}function F(e,t){t.reading||(m("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;m("flow",t.flowing);while(t.flowing&&null!==e.read());}function q(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=B(e,t.buffer,t.decoder),r);var r}function B(e,t,r){var a;return e<t.head.data.length?(a=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):a=e===t.head.data.length?t.shift():r?U(e,t):z(e,t),a}function U(e,t){var r=t.head,a=1,n=r.data;e-=n.length;while(r=r.next){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?n+=s:n+=s.slice(0,e),e-=o,0===e){o===s.length?(++a,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++a}return t.length-=a,n}function z(e,t){var r=c.allocUnsafe(e),a=t.head,n=1;a.data.copy(r),e-=a.data.length;while(a=a.next){var s=a.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),e-=o,0===e){o===s.length?(++n,a.next?t.head=a.next:t.head=t.tail=null):(t.head=a,a.data=s.slice(o));break}++n}return t.length-=n,r}function V(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(G,t,e))}function G(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function W(e,t){for(var r=0,a=e.length;r<a;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){m("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return m("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?V(this):I(this),null;if(e=R(e,t),0===e&&t.ended)return 0===t.length&&V(this),null;var a,n=t.needReadable;return m("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,m("length less than watermark",n)),t.ended||t.reading?(n=!1,m("reading or ended",n)):n&&(m("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=R(r,t))),a=e>0?q(e,t):null,null===a?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&V(this)),null!==a&&this.emit("data",a),a},S.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},S.prototype.pipe=function(e,t){var r=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e);break}s.pipesCount+=1,m("pipe count=%d opts=%j",s.pipesCount,t);var o=(!t||!1!==t.end)&&e!==a.stdout&&e!==a.stderr,l=o?u:x;function c(e,t){m("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,h())}function u(){m("onend"),e.end()}s.endEmitted?n.nextTick(l):r.once("end",l),e.on("unpipe",c);var d=M(r);e.on("drain",d);var p=!1;function h(){m("cleanup"),e.removeListener("close",g),e.removeListener("finish",y),e.removeListener("drain",d),e.removeListener("error",b),e.removeListener("unpipe",c),r.removeListener("end",u),r.removeListener("end",x),r.removeListener("data",v),p=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||d()}var f=!1;function v(t){m("ondata"),f=!1;var a=e.write(t);!1!==a||f||((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==W(s.pipes,e))&&!p&&(m("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,f=!0),r.pause())}function b(t){m("onerror",t),x(),e.removeListener("error",b),0===i(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",y),x()}function y(){m("onfinish"),e.removeListener("close",g),x()}function x(){m("unpipe"),r.unpipe(e)}return r.on("data",v),w(e,"error",b),e.once("close",g),e.once("finish",y),e.emit("pipe",r),s.flowing||(m("pipe resume"),r.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var a=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<n;s++)a[s].emit("unpipe",this,r);return this}var o=W(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var r=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var a=this._readableState;a.endEmitted||a.readableListening||(a.readableListening=a.needReadable=!0,a.emittedReadable=!1,a.reading?a.length&&I(this):n.nextTick($,this))}return r},S.prototype.addListener=S.prototype.on,S.prototype.resume=function(){var e=this._readableState;return e.flowing||(m("resume"),e.flowing=!0,P(this,e)),this},S.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},S.prototype.wrap=function(e){var t=this,r=this._readableState,a=!1;for(var n in e.on("end",(function(){if(m("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(n){if(m("wrapped data"),r.decoder&&(n=r.decoder.write(n)),(!r.objectMode||null!==n&&void 0!==n)&&(r.objectMode||n&&n.length)){var s=t.push(n);s||(a=!0,e.pause())}})),e)void 0===this[n]&&"function"===typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var s=0;s<y.length;s++)e.on(y[s],this.emit.bind(this,y[s]));return this._read=function(t){m("wrapped _read",t),a&&(a=!1,e.resume())},this},Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),S._fromList=q}).call(this,r("7d15"),r("07d9"))},ab7f:function(e,t,r){(function(e,a){var n;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(s){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof a&&a;o.global!==o&&o.window!==o&&o.self;var i,l=2147483647,c=36,u=1,d=26,p=38,h=700,f=72,m=128,v="-",b=/^xn--/,g=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=c-u,S=Math.floor,E=String.fromCharCode;function k(e){throw new RangeError(w[e])}function C(e,t){var r=e.length,a=[];while(r--)a[r]=t(e[r]);return a}function _(e,t){var r=e.split("@"),a="";r.length>1&&(a=r[0]+"@",e=r[1]),e=e.replace(y,".");var n=e.split("."),s=C(n,t).join(".");return a+s}function O(e){var t,r,a=[],n=0,s=e.length;while(n<s)t=e.charCodeAt(n++),t>=55296&&t<=56319&&n<s?(r=e.charCodeAt(n++),56320==(64512&r)?a.push(((1023&t)<<10)+(1023&r)+65536):(a.push(t),n--)):a.push(t);return a}function T(e){return C(e,(function(e){var t="";return e>65535&&(e-=65536,t+=E(e>>>10&1023|55296),e=56320|1023&e),t+=E(e),t})).join("")}function R(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:c}function N(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function I(e,t,r){var a=0;for(e=r?S(e/h):e>>1,e+=S(e/t);e>x*d>>1;a+=c)e=S(e/x);return S(a+(x+1)*e/(e+p))}function A(e){var t,r,a,n,s,o,i,p,h,b,g=[],y=e.length,w=0,x=m,E=f;for(r=e.lastIndexOf(v),r<0&&(r=0),a=0;a<r;++a)e.charCodeAt(a)>=128&&k("not-basic"),g.push(e.charCodeAt(a));for(n=r>0?r+1:0;n<y;){for(s=w,o=1,i=c;;i+=c){if(n>=y&&k("invalid-input"),p=R(e.charCodeAt(n++)),(p>=c||p>S((l-w)/o))&&k("overflow"),w+=p*o,h=i<=E?u:i>=E+d?d:i-E,p<h)break;b=c-h,o>S(l/b)&&k("overflow"),o*=b}t=g.length+1,E=I(w-s,t,0==s),S(w/t)>l-x&&k("overflow"),x+=S(w/t),w%=t,g.splice(w++,0,x)}return T(g)}function L(e){var t,r,a,n,s,o,i,p,h,b,g,y,w,x,C,_=[];for(e=O(e),y=e.length,t=m,r=0,s=f,o=0;o<y;++o)g=e[o],g<128&&_.push(E(g));a=n=_.length,n&&_.push(v);while(a<y){for(i=l,o=0;o<y;++o)g=e[o],g>=t&&g<i&&(i=g);for(w=a+1,i-t>S((l-r)/w)&&k("overflow"),r+=(i-t)*w,t=i,o=0;o<y;++o)if(g=e[o],g<t&&++r>l&&k("overflow"),g==t){for(p=r,h=c;;h+=c){if(b=h<=s?u:h>=s+d?d:h-s,p<b)break;C=p-b,x=c-b,_.push(E(N(b+C%x,0))),p=S(C/x)}_.push(E(N(p,0))),s=I(r,w,a==n),r=0,++a}++r,++t}return _.join("")}function j(e){return _(e,(function(e){return b.test(e)?A(e.slice(4).toLowerCase()):e}))}function M(e){return _(e,(function(e){return g.test(e)?"xn--"+L(e):e}))}i={version:"1.4.1",ucs2:{decode:O,encode:T},decode:A,encode:L,toASCII:M,toUnicode:j},n=function(){return i}.call(t,r,t,e),void 0===n||(e.exports=n)})()}).call(this,r("6984")(e),r("7d15"))},add2:function(e,t,r){var a=r("5eaa");t=a(!1),t.push([e.i,'.clearfix[data-v-6298ebdc]:after,.clearfix[data-v-6298ebdc]:before{content:" ";display:table}.clearfix[data-v-6298ebdc]:after{clear:both}.list-unstyled[data-v-6298ebdc]{margin:0;padding:0;list-style-type:none}.no-select[data-v-6298ebdc]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-6298ebdc]{resize:none}.hand[data-v-6298ebdc]{cursor:pointer;cursor:hand}.fixed[data-v-6298ebdc]{table-layout:fixed}.clip[data-v-6298ebdc]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-6298ebdc],.force-wrap[data-v-6298ebdc]{word-wrap:break-word}.force-wrap[data-v-6298ebdc]{white-space:normal}.bordered-section[data-v-6298ebdc]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-6298ebdc]{margin-bottom:20px;margin-top:20px}.tabs[data-v-6298ebdc]{list-style-type:none;margin:0;padding:0}.tabs.horizontal[data-v-6298ebdc]{border:solid thin var(--border);border-bottom:0;display:flex;flex-direction:row}.tabs.horizontal+.tab-container[data-v-6298ebdc]{border:solid thin var(--border)}.tabs.horizontal .tab.active[data-v-6298ebdc]{border-bottom:solid 2px var(--primary)}.tabs[data-v-6298ebdc]:focus{outline:none}.tabs:focus .tab.active a span[data-v-6298ebdc]{text-decoration:underline}.tabs .tab[data-v-6298ebdc]{position:relative;float:left;padding:0 8px 0 0;cursor:pointer}.tabs .tab A[data-v-6298ebdc]{display:flex;align-items:center;padding:10px 15px}.tabs .tab A[data-v-6298ebdc]:hover{text-decoration:none}.tabs .tab A:hover span[data-v-6298ebdc]{text-decoration:underline}.tabs .tab .conditions-alert-icon[data-v-6298ebdc]{color:var(--error);padding-left:4px}.tabs .tab[data-v-6298ebdc]:last-child{padding-right:0}.tabs .tab.active>A[data-v-6298ebdc]{color:var(--primary);text-decoration:none}.tabs .tab.error A>i[data-v-6298ebdc]{color:var(--error)}.tabs .tab .tab-badge[data-v-6298ebdc]{margin-left:5px;background-color:var(--link);color:#fff;border-radius:6px;padding:1px 7px;font-size:11px}.tab-container[data-v-6298ebdc]{padding:20px}.tab-container.no-content[data-v-6298ebdc]{padding:0 0 3px 0}.tab-container--flat[data-v-6298ebdc]{padding:0}.tab-container--flat .side-tabs[data-v-6298ebdc]{box-shadow:unset}.tabs-only[data-v-6298ebdc]{margin-bottom:20px}.tabs-only .tab-container[data-v-6298ebdc]{display:none}.tabs-only .tabs[data-v-6298ebdc]{border:0;border-bottom:2px solid var(--border)}.side-tabs[data-v-6298ebdc]{display:flex;box-shadow:0 0 20px var(--shadow);border-radius:calc(var(--border-radius)*2);background-color:var(--tabbed-sidebar-bg)}.side-tabs .tab-container[data-v-6298ebdc]{padding:20px}.side-tabs .tabs[data-v-6298ebdc]{width:200px;min-width:200px;display:flex;flex:1 0;flex-direction:column}.side-tabs .tabs .tab[data-v-6298ebdc]{width:100%;border-left:5px solid transparent}.side-tabs .tabs .tab.toggle A[data-v-6298ebdc],.side-tabs .tabs .tab A[data-v-6298ebdc]{color:var(--primary)}.side-tabs .tabs .tab.active[data-v-6298ebdc]{background-color:var(--body-bg);border-left:solid 5px var(--primary)}.side-tabs .tabs .tab.active A[data-v-6298ebdc]{color:var(--input-label)}.side-tabs .tabs .tab.disabled[data-v-6298ebdc]{background-color:var(--disabled-bg)}.side-tabs .tabs .tab.disabled A[data-v-6298ebdc]{color:var(--disabled-text);text-decoration:none}.side-tabs .tabs .tab-list-footer[data-v-6298ebdc]{list-style:none;padding:0;margin-top:auto}.side-tabs .tabs .tab-list-footer li[data-v-6298ebdc]{display:flex;flex:1}.side-tabs .tabs .tab-list-footer li .btn[data-v-6298ebdc]{flex:1 1;display:flex;justify-content:center}.side-tabs .tabs .tab-list-footer li button[data-v-6298ebdc]:first-of-type{border-top:solid 1px var(--border);border-right:solid 1px var(--border);border-top-right-radius:0}.side-tabs .tabs .tab-list-footer li button[data-v-6298ebdc]:last-of-type{border-top:solid 1px var(--border);border-top-left-radius:0}.side-tabs .tab-container[data-v-6298ebdc]{width:calc(100% - 200px);flex-grow:1;background-color:var(--body-bg)}',""]),e.exports=t},af6a:function(e,t,r){"use strict";var a,n="object"===typeof Reflect?Reflect:null,s=n&&"function"===typeof n.apply?n.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function o(e){console&&console.warn&&console.warn(e)}a=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function l(){l.init.call(this)}e.exports=l,e.exports.once=w,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var c=10;function u(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?l.defaultMaxListeners:e._maxListeners}function p(e,t,r,a){var n,s,i;if(u(r),s=e._events,void 0===s?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),i=s[t]),void 0===i)i=s[t]=r,++e._eventsCount;else if("function"===typeof i?i=s[t]=a?[r,i]:[i,r]:a?i.unshift(r):i.push(r),n=d(e),n>0&&i.length>n&&!i.warned){i.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=i.length,o(l)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var a={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=h.bind(a);return n.listener=r,a.wrapFn=n,n}function m(e,t,r){var a=e._events;if(void 0===a)return[];var n=a[t];return void 0===n?[]:"function"===typeof n?r?[n.listener||n]:[n]:r?y(n):b(n,n.length)}function v(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function b(e,t){for(var r=new Array(t),a=0;a<t;++a)r[a]=e[a];return r}function g(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function y(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function w(e,t){return new Promise((function(r,a){function n(r){e.removeListener(t,s),a(r)}function s(){"function"===typeof e.removeListener&&e.removeListener("error",n),r([].slice.call(arguments))}S(e,t,s,{once:!0}),"error"!==t&&x(e,n,{once:!0})}))}function x(e,t,r){"function"===typeof e.on&&S(e,"error",t,r)}function S(e,t,r,a){if("function"===typeof e.on)a.once?e.once(t,r):e.on(t,r);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function n(s){a.once&&e.removeEventListener(t,n),r(s)}))}}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),l.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var a="error"===e,n=this._events;if(void 0!==n)a=a&&void 0===n.error;else if(!a)return!1;if(a){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var i=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw i.context=o,i}var l=n[e];if(void 0===l)return!1;if("function"===typeof l)s(l,this,t);else{var c=l.length,u=b(l,c);for(r=0;r<c;++r)s(u[r],this,t)}return!0},l.prototype.addListener=function(e,t){return p(this,e,t,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(e,t){return p(this,e,t,!0)},l.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},l.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},l.prototype.removeListener=function(e,t){var r,a,n,s,o;if(u(t),a=this._events,void 0===a)return this;if(r=a[e],void 0===r)return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(n=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){o=r[s].listener,n=s;break}if(n<0)return this;0===n?r.shift():g(r,n),1===r.length&&(a[e]=r[0]),void 0!==a.removeListener&&this.emit("removeListener",e,o||t)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(e){var t,r,a;if(r=this._events,void 0===r)return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,s=Object.keys(r);for(a=0;a<s.length;++a)n=s[a],"removeListener"!==n&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(a=t.length-1;a>=0;a--)this.removeListener(e,t[a]);return this},l.prototype.listeners=function(e){return m(this,e,!0)},l.prototype.rawListeners=function(e){return m(this,e,!1)},l.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},l.prototype.listenerCount=v,l.prototype.eventNames=function(){return this._eventsCount>0?a(this._events):[]}},aff2:function(e,t,r){"use strict";function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,s){t=t||"&",r=r||"=";var o={};if("string"!==typeof e||0===e.length)return o;var i=/\+/g;e=e.split(t);var l=1e3;s&&"number"===typeof s.maxKeys&&(l=s.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var d,p,h,f,m=e[u].replace(i,"%20"),v=m.indexOf(r);v>=0?(d=m.substr(0,v),p=m.substr(v+1)):(d=m,p=""),h=decodeURIComponent(d),f=decodeURIComponent(p),a(o,h)?n(o[h])?o[h].push(f):o[h]=[o[h],f]:o[h]=f}return o};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},b09e:function(e,t,r){"use strict";r("b5c4")},b2f1:function(e,t,r){"use strict";r.d(t,"b",(function(){return g})),r.d(t,"c",(function(){return y}));var a=r("1fcb"),n=r.n(a),s=r("907c"),o=r("79ad"),i=r("c5e6"),l=r("3f01"),c=r("0788"),u=r("090b");const d="all",p="merge",h="multi",f="allIfAuthed",m="none",v=15,b=10;async function g(e,t,r,a){if(r.url.includes(o["g"])||r.url.includes(o["f"])){const[n,l,c,...u]=r.url.split("/"),d=u.join("/"),p=l===o["f"],h=d?"getSpoofedInstance":"getSpoofedInstances",f=e[t+"/all"](s["y"]),m=await e["type-map/"+h](c,a,d),v=p?Object(i["b"])(f,c,m):m;return d&&!p?v:{data:v}}}async function y(e,t=!0){const{getters:r,dispatch:a,commit:n,rootGetters:o}=e,i=await a("findAll",{type:s["y"],opt:{url:"schemas",load:!1}}),l=o["type-map/allSpoofedSchemas"];Array.isArray(i.data)?i.data=i.data.concat(l):Array.isArray(i)&&(i.data=i.concat(l)),i.data.forEach(e=>{var t;e._id=Object(c["c"])(e.id),e._group=Object(c["c"])(null===(t=e.attributes)||void 0===t?void 0:t.group)}),n("loadAll",{ctx:e,type:s["y"],data:i.data}),!1!==t&&a("watch",{type:s["y"],revision:i.revision});const u=r.all(s["y"]);return u}t["a"]={request(){throw new Error("Not Implemented")},loadSchemas:y,async loadDataPage(e,{type:t,opt:r}){const{getters:a,commit:n,dispatch:s}=e;t=a.normalizeType(t);const o=a["loadCounter"](t);try{var i;const c=await s("request",{opt:r,type:t}),u=a["loadCounter"](t);if(o!==u)return;var l;if(n("loadAdd",{ctx:e,type:t,data:c.data}),null!==(i=c.pagination)&&void 0!==i&&i.next)s("loadDataPage",{type:t,opt:{...r,url:null===(l=c.pagination)||void 0===l?void 0:l.next}});else r.hasManualRefresh&&s("resource-fetch/updateManualRefreshIsLoading",!1,{root:!0}),n("setHaveAll",{type:t})}catch(c){return r.hasManualRefresh&&s("resource-fetch/updateManualRefreshIsLoading",!1,{root:!0}),Promise.reject(c)}},async findAll(e,{type:t,opt:r}){const{getters:a,commit:n,dispatch:s,rootGetters:o}=e;if(r=r||{},t=a.normalizeType(t),a.typeRegistered(t)||n("registerType",t),!0!==r.force&&a["haveAll"](t)){const e={type:t,revision:"",namespace:r.watchNamespace};return!1===r.watch||a.watchStarted(e)||s("watch",e),a.all(t)}let i=void 0===r.load?d:r.load;if(!1===r.load||r.load===m)i=m;else if(r.load===f){const e=o["auth/fromHeader"];i=""+e==="true"||""+e==="none"?d:h}const l=o["type-map/optionsFor"](t);console.log(`Find All: [${e.state.config.namespace}] ${t}`),r=r||{},r.url=a.urlFor(t,null,r),r.stream=!1!==r.stream&&i!==m,r.depaginate=null===l||void 0===l?void 0:l.depaginate;let c=!1;if(r.incremental){n("incrementLoadCounter",t),r.hasManualRefresh&&s("resource-fetch/updateManualRefreshIsLoading",!0,{root:!0});const e={...r,url:`${r.url}?limit=${r.incremental}`};r.url=r.url+"?limit=100",c=!0,r.force&&n("forgetType",t),s("loadDataPage",{type:t,opt:e})}let v,b,g=!1,y=[];r.onData=function(r){if(g){if(y.push(r),y.length>10){const t=y;y=[],n("loadMulti",{ctx:e,data:t})}}else n("forgetAll",{type:t}),g=!0,b=r};try{!r.incremental&&r.hasManualRefresh&&s("resource-fetch/updateManualRefreshIsLoading",!0,{root:!0});const o=await s("request",{opt:r,type:t});if(g){y.length&&(n("loadMulti",{ctx:e,data:y}),y=[]),n("loadedAll",{type:t});const r=a.all(t);o.finishDeferred(r),v=b}else v=o}catch(x){return!r.incremental&&r.hasManualRefresh&&s("resource-fetch/updateManualRefreshIsLoading",!1,{root:!0}),Promise.reject(x)}if(i===m)return!r.incremental&&r.hasManualRefresh&&s("resource-fetch/updateManualRefreshIsLoading",!1,{root:!0}),v;v.data&&(i===h?n("loadMulti",{ctx:e,data:v.data}):i===p?n("loadMerge",{ctx:e,type:t,data:v.data,existing:!0}):n("loadAll",{ctx:e,type:t,data:v.data,skipHaveAll:c})),!1!==r.watch&&s("watch",{type:t,revision:v.revision,namespace:r.watchNamespace});const w=a.all(t);return!r.incremental&&r.hasManualRefresh&&s("resource-fetch/updateManualRefreshIsLoading",!1,{root:!0}),u["a"].gcUpdateLastAccessed(e,t),w},async findMatching(e,{type:t,selector:r,opt:a,namespace:n}){const{getters:s,commit:o,dispatch:i,rootGetters:l}=e;if(a=a||{},console.log(`Find Matching: [${e.state.config.namespace}] ${t}`,r),t=s.normalizeType(t),s.typeRegistered(t)||o("registerType",t),!0!==a.force&&s["haveSelector"](t,r))return s.matching(t,r,n);const c=l["type-map/optionsFor"](t);a=a||{},a.filter=a.filter||{},a.filter["labelSelector"]=r,a.url=s.urlFor(t,null,a),a.depaginate=null===c||void 0===c?void 0:c.depaginate;const d=await i("request",{opt:a,type:t});return!1===a.load?d.data:(o("loadSelector",{ctx:e,type:t,entries:d.data,selector:r}),!1!==a.watch&&i("watch",{type:t,selector:r,revision:d.revision}),u["a"].gcUpdateLastAccessed(e,t),s.matching(t,r,n))},async find(e,{type:t,id:r,opt:a}){const{getters:n,dispatch:s}=e;let o;if(a=a||{},t=Object(c["c"])(t),console.log(`Find: [${e.state.config.namespace}] ${t} ${r}`),!0!==a.force&&(o=n.byId(t,r),o))return o;a=a||{},a.url=n.urlFor(t,r,a);const i=await s("request",{opt:a,type:t});if(await s("load",{data:i}),!1!==a.watch){var l;const e={type:t,id:r,revision:null===i||void 0===i||null===(l=i.metadata)||void 0===l?void 0:l.resourceVersion,force:!0===a.forceWatch},n=r.indexOf("/");n>0&&(e.namespace=r.substr(0,n),e.id=r.substr(n+1)),s("watch",e)}return o=n.byId(t,r),u["a"].gcUpdateLastAccessed(e,t),o},load(e,{data:t,existing:r}){const{getters:a,commit:n}=e;let o=Object(c["c"])(t.type);a.typeRegistered(o)||n("registerType",o),t.baseType&&t.baseType!==t.type&&(o=Object(c["c"])(t.baseType),a.typeRegistered(o)||n("registerType",o));const i=a.keyFieldForType(o),l=(null===t||void 0===t?void 0:t[i])||(null===r||void 0===r?void 0:r[i]);if(l)return n("load",{ctx:e,data:t,existing:r}),o===s["y"]&&n("type-map/schemaChanged",null,{root:!0}),a["byId"](o,l);console.warn("Attempting to load a resource with no id",t,r)},loadMulti(e,t){const{commit:r}=e;r("loadMulti",{data:t,ctx:e})},loadAll(e,{type:t,data:r}){const{commit:a}=e;a("loadAll",{ctx:e,type:t,data:r})},create(e,t){return Object(l["b"])(e,t)},createMany(e,t){return t.map(t=>Object(l["b"])(e,t))},createPopulated(e,t){const r=e.getters["defaultFor"](t.type);return n()(r,t),Object(l["b"])(e,r)},clone(e,{resource:t}={}){return Object(l["b"])(e,t.toJSON(),!0)},forgetType({commit:e,getters:t,dispatch:r},a){const n={type:a,stop:!0};t["schemaFor"](a)&&t["watchStarted"](n)&&(e("setWatchStopped",n),r("watch",n),e("clearFromQueue",a)),e("forgetType",a)},promptRemove({commit:e,state:t},r){e("action-menu/togglePromptRemove",r,{root:!0})},promptModal({commit:e,state:t},r){e("action-menu/togglePromptModal",r,{root:!0})},resourceAction({getters:e,dispatch:t},{resource:r,actionName:a,body:n,opt:s}){throw new Error("Not Implemented")},collectionAction({getters:e,dispatch:t},{type:r,actionName:a,body:n,opt:s}){throw new Error("Not Implemented")},cleanForNew(e,t){throw new Error("Not Implemented")},createNamespace(e,t){throw new Error("Not Implemented")},cleanForDiff(e,t){throw new Error("Not Implemented")},cleanForDetail(e,t){return t},async waitForSchema({getters:e,dispatch:t},{type:r}){let a=v,n=null;while(!n&&a>0)n=e["schemaFor"](r),n||(a===b&&console.warn(`Schema for ${r} not available... retrying...`),await new Promise(e=>setTimeout(e,1e3)),a--);0===a&&(console.warn(`Schema for ${r} still unavailable... loading schemas again...`),await t("loadSchemas",!0))},incrementLoadCounter({commit:e},t){e("incrementLoadCounter",t)},garbageCollect(e,t){return u["a"].garbageCollect(e,t)},gcResetStore({state:e}){u["a"].gcResetStore(e)}}},b3e9:function(e,t,r){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},b4fe:function(e,t,r){(function(e){t.fetch=i(e.fetch)&&i(e.ReadableStream),t.writableStream=i(e.WritableStream),t.abortController=i(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(l){}var r;function a(){if(void 0!==r)return r;if(e.XMLHttpRequest){r=new e.XMLHttpRequest;try{r.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(l){r=null}}else r=null;return r}function n(e){var t=a();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(l){}return!1}var s="undefined"!==typeof e.ArrayBuffer,o=s&&i(e.ArrayBuffer.prototype.slice);function i(e){return"function"===typeof e}t.arraybuffer=t.fetch||s&&n("arraybuffer"),t.msstream=!t.fetch&&o&&n("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&s&&n("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!a()&&i(a().overrideMimeType),t.vbArray=i(e.VBArray),r=null}).call(this,r("7d15"))},b5a5:function(e,t,r){"use strict";r("a41c")},b5c4:function(e,t,r){var a=r("7560");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("0ed3").default;n("17f1c563",a,!0,{sourceMap:!1,shadowMode:!1})},ba49:function(e,t,r){var a=r("6a1e");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("0ed3").default;n("07d6448f",a,!0,{sourceMap:!1,shadowMode:!1})},bba0:function(e,t,r){var a=r("6290"),n=r("787a"),s=r("4774"),o=r("479b"),i=s((function(e,t){if(null==e)return[];var r=t.length;return r>1&&o(e,t[0],t[1])?t=[]:r>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),n(e,a(t,1),[])}));e.exports=i},bc5f:function(e,t,r){"use strict";e.exports=s;var a=r("01ae"),n=Object.create(r("6b5c"));function s(e){if(!(this instanceof s))return new s(e);a.call(this,e)}n.inherits=r("a96d"),n.inherits(s,a),s.prototype._transform=function(e,t,r){r(null,e)}},c186:function(e,t,r){"use strict";var a=r("5f4e"),n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=d;var s=Object.create(r("6b5c"));s.inherits=r("a96d");var o=r("ab0e"),i=r("c37d");s.inherits(d,o);for(var l=n(i.prototype),c=0;c<l.length;c++){var u=l[c];d.prototype[u]||(d.prototype[u]=i.prototype[u])}function d(e){if(!(this instanceof d))return new d(e);o.call(this,e),i.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||a.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),a.nextTick(t,e)}},c294:function(e,t,r){var a=r("4774"),n=r("479b");function s(e){return a((function(t,r){var a=-1,s=r.length,o=s>1?r[s-1]:void 0,i=s>2?r[2]:void 0;o=e.length>3&&"function"==typeof o?(s--,o):void 0,i&&n(r[0],r[1],i)&&(o=s<3?void 0:o,s=1),t=Object(t);while(++a<s){var l=r[a];l&&e(t,l,a,o)}return t}))}e.exports=s},c37d:function(e,t,r){"use strict";(function(t,a){var n=r("5f4e");function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){$(t,e)}}e.exports=y;var o,i=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?setImmediate:n.nextTick;y.WritableState=g;var l=Object.create(r("6b5c"));l.inherits=r("a96d");var c={deprecate:r("3f66")},u=r("fe45"),d=r("8879").Buffer,p=a.Uint8Array||function(){};function h(e){return d.from(e)}function f(e){return d.isBuffer(e)||e instanceof p}var m,v=r("3615");function b(){}function g(e,t){o=o||r("c186"),e=e||{};var a=t instanceof o;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:a&&(i||0===i)?i:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){O(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function y(e){if(o=o||r("c186"),!m.call(y,this)&&!(this instanceof o))return new y(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),u.call(this)}function w(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}function x(e,t,r,a){var s=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"===typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),n.nextTick(a,o),s=!1),s}function S(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=d.from(t,r)),t}function E(e,t,r,a,n,s){if(!r){var o=S(t,a,n);a!==o&&(r=!0,n="buffer",a=o)}var i=t.objectMode?1:a.length;t.length+=i;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:a,encoding:n,isBuf:r,callback:s,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,i,a,n,s);return l}function k(e,t,r,a,n,s,o){t.writelen=a,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(n,t.onwrite):e._write(n,s,t.onwrite),t.sync=!1}function C(e,t,r,a,s){--t.pendingcb,r?(n.nextTick(s,a),n.nextTick(j,e,t),e._writableState.errorEmitted=!0,e.emit("error",a)):(s(a),e._writableState.errorEmitted=!0,e.emit("error",a),j(e,t))}function _(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function O(e,t){var r=e._writableState,a=r.sync,n=r.writecb;if(_(r),t)C(e,r,a,t,n);else{var s=I(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||N(e,r),a?i(T,e,r,s,n):T(e,r,s,n)}}function T(e,t,r,a){r||R(e,t),t.pendingcb--,a(),j(e,t)}function R(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function N(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var a=t.bufferedRequestCount,n=new Array(a),o=t.corkedRequestsFree;o.entry=r;var i=0,l=!0;while(r)n[i]=r,r.isBuf||(l=!1),r=r.next,i+=1;n.allBuffers=l,k(e,t,!0,t.length,n,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{while(r){var c=r.chunk,u=r.encoding,d=r.callback,p=t.objectMode?1:c.length;if(k(e,t,!1,p,c,u,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),j(e,t)}))}function L(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(A,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function j(e,t){var r=I(t);return r&&(L(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}function M(e,t,r){t.ending=!0,j(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function $(e,t,r){var a=e.entry;e.entry=null;while(a){var n=a.callback;t.pendingcb--,n(r),a=a.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}l.inherits(y,u),g.prototype.getBuffer=function(){var e=this.bufferedRequest,t=[];while(e)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!m.call(this,e)||this===y&&(e&&e._writableState instanceof g)}})):m=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,r){var a=this._writableState,n=!1,s=!a.objectMode&&f(e);return s&&!d.isBuffer(e)&&(e=h(e)),"function"===typeof t&&(r=t,t=null),s?t="buffer":t||(t=a.defaultEncoding),"function"!==typeof r&&(r=b),a.ended?w(this,r):(s||x(this,a,e,r))&&(a.pendingcb++,n=E(this,a,s,e,t,r)),n},y.prototype.cork=function(){var e=this._writableState;e.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||N(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,r){var a=this._writableState;"function"===typeof e?(r=e,e=null,t=null):"function"===typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),a.corked&&(a.corked=1,this.uncork()),a.ending||a.finished||M(this,a,r)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=v.destroy,y.prototype._undestroy=v.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r("07d9"),r("7d15"))},ca1f:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Banner",{attrs:{color:e.mustSelectOne}},[e._v(" "+e._s(e.t("rancherAlertingDrivers.selectOne"))+" ")]),r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("Checkbox",{attrs:{"label-key":"rancherAlertingDrivers.msTeams"},model:{value:e.value.prom2teams.enabled,callback:function(t){e.$set(e.value.prom2teams,"enabled",t)},expression:"value.prom2teams.enabled"}})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("Checkbox",{attrs:{"label-key":"rancherAlertingDrivers.sms"},model:{value:e.value.sachet.enabled,callback:function(t){e.$set(e.value.sachet,"enabled",t)},expression:"value.sachet.enabled"}})],1)])],1)},n=[],s=r("0df0"),o=r("6418"),i={components:{Banner:o["a"],Checkbox:s["a"]},props:{value:{type:Object,default:()=>({})}},computed:{mustSelectOne(){return this.value.prom2teams.enabled||this.value.sachet.enabled?"info":"error"}},mounted(){"error"===this.mustSelectOne&&(this.value.sachet.enabled=!0)}},l=i,c=r("d802"),u=Object(c["a"])(l,a,n,!1,null,null,null);t["default"]=u.exports},cb42:function(e,t,r){var a=r("7c6f");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("0ed3").default;n("ebc3f584",a,!0,{sourceMap:!1,shadowMode:!1})},cc47:function(e,t,r){"use strict";var a=r("5426"),n=r("1eac"),s=r("12f4"),o=r("bddd"),i=r("907c"),l=r("f3d3"),c=r("050d"),u=r.n(c);const d={node:{count:800,statusRow:2},"apps.deployment":{count:4e3,statusRow:5},pod:{count:4e3,statusRow:10}};Object({NODE_ENV:"production",BASE_URL:"/"}).perfTest&&Object({NODE_ENV:"production",BASE_URL:"/"}).dev&&console.warn("Performance Testing data enabled",d);const p={count:1,statusRow:0,custom:null};function h(e,t){if(0===t.length)return t;const r=t[0];if(!r.apiVersion)return t;let a=d[e];return a?("number"===typeof a&&(a={count:a}),a={...p,...a},m(t,a)):t}function f(e){return Math.floor(Math.random()*e)}function m(e,t){if(0===e.length)return e;if(0===t.count)return[];if(t.count<=e.length)return e.slice(0,t.count);const r=[];let a=0;e.forEach(e=>r.push(JSON.stringify(e)));const n=[...e],s=t.count-e.length;for(let i=0;i<s;i++){var o;const e=JSON.parse(r[a]);if(e.id=`${e.id}_${i}`,e.metadata.uid=`uid_${i}_${1e3*Math.random()}`,e.metadata.name=`${null===(o=e.metadata)||void 0===o?void 0:o.name}_${i}`,e.metadata.creationTimestamp=u()().format(),n.push(e),t.statusRow>0){const r=1===t.statusRow||0===f(t.statusRow);if(r){e.metadata.state=e.metadata.state||{};const t=0===f(2);t?e.metadata.state.error=!0:e.metadata.state.transitioning=!0,e.metadata.state.message="Test state description for "+e.metadata.name}}t.custom&&t.custom(e,i),a++,a===r.length&&(a=0)}return n}var v=r("8bbf"),b=r.n(v);function g(e,t){let r=e.podsByNamespace[t];return r||(r={list:[],map:new Map},b.a.set(e.podsByNamespace,t,r)),r}var y={loadAll(e,{type:t,data:r,ctx:a,skipHaveAll:n}){Object({NODE_ENV:"production",BASE_URL:"/"}).dev&&Object({NODE_ENV:"production",BASE_URL:"/"}).perfTest&&(r=h(t,r));const s=Object(l["d"])(e,{type:t,data:r,ctx:a,skipHaveAll:n});if(t===i["s"]&&(Object.keys(e.podsByNamespace).forEach(t=>{delete e.podsByNamespace[t]}),s.forEach(t=>{const r=g(e,t.namespace);Object(o["a"])(r.list,t),r.map.set(t.id,t)})),t===i["y"]){const e=(this.$workers||{})[a.getters.storeName];e&&e.postMessage({loadSchemas:r})}},forgetType(e,t){Object(l["b"])(e,t)&&delete e.inError[Object(n["d"])({type:t})]},reset(e){Object(l["f"])(e,this.commit),this.commit(e.config.namespace+"/resetSubscriptions"),e.podsByNamespace={}},clearFromQueue(e,t){e.queue=e.queue.filter(e=>{var r;return(null===(r=e.body)||void 0===r?void 0:r.type)!==t})},loadMulti(e,{data:t,ctx:r}){for(const a of t){const t=Object(l["c"])(e,{data:a,ctx:r});if(t.type===i["s"]&&t.metadata){const r=g(e,t.namespace);Object(o["a"])(r.list,t),r.map.set(t.id,t)}}},remove(e,t){if(Object(l["e"])(e,t,this.getters),t&&t.type===i["s"]){const r=e.podsByNamespace[t.namespace];r&&(Object(o["i"])(r.list,t),r.map.delete(t.id))}else t&&t.type===i["o"]&&delete e.podsByNamespace[t.namespace]}},w=r("2f61"),x=r.n(w),S=r("4048"),E=r("b2f1"),k=r("e24b"),C=r("a8b9");function _(e,t,r){t=t||{},t.method=t.method||"get",t.headers=t.headers||{},t.headers.accept="application/jsonl";const a=new TextDecoder;let n="";return fetch(e,t).then(e=>{if(e.status>=400){console.error("Error Streaming",e);const t={message:"Error Streaming"};return t.response=e,Promise.reject(t)}return e.body.getReader()}).then(e=>e.read().then((function t({value:s,done:o}){if(o)return void r(JSON.parse(n));n+=a.decode(s,{stream:!0});const i=n.split(/[\r\n](?=.)/);return n=i.pop(),i.map(JSON.parse).forEach(r),e.read().then(t)})))}function O(){const e="undefined"!==typeof TextDecoder;return e}var T=r("b506"),R=r.n(T),N=r("3f01"),I={async loadSchemas(e,t=!0){return await Object(E["c"])(e,t)},async request({state:e,dispatch:t,rootGetters:r},a){const n=a.opt||a,s=await Object(E["b"])(r,"cluster",n);if(s)return s;n.url=n.url.replace(/\/*$/g,"");const o="epinio"===this.$config.rancherEnv?"/pp/v1/epinio/rancher":"";if(o)if(n.url.startsWith("/"))n.url=o+n.url;else{const e=Object(S["c"])(n.url);e.path.startsWith(o)||(e.path=o+e.path,n.url=Object(S["d"])(e))}n.httpsAgent=new x.a.Agent({rejectUnauthorized:!1});const i=(n.method||"get").toLowerCase(),l=n.headers||{},c=JSON.stringify(l)+i+n.url;let u,d;if("get"===i){if(u=e.deferredRequests[c],u){const e=Object(C["c"])();return u.push(e),e.promise}u=[],e.deferredRequests[c]=u}if(n.stream&&e.allowStreaming&&e.config.supportsStream&&O())return _(n.url,n,n.onData).then(()=>({finishDeferred:g.bind(null,c,"resolve")})).catch(e=>w(e));while(1)try{var p;const e=await b(this,n);if(!n.depaginate)return e;var h,f,m,v;if(d?d.data=d.data.concat(e.data):d=e,null===e||void 0===e||null===(p=e.pagination)||void 0===p||!p.next)return null===(h=d.pagination)||void 0===h||delete h.first,null===(f=d.pagination)||void 0===f||delete f.last,null===(m=d.pagination)||void 0===m||delete m.next,null===(v=d.pagination)||void 0===v||delete v.partial,d;n.url=e.pagination.next}catch(k){return w(k)}function b(e,t){return e.$axios(t).then(e=>{let r;return r=t.responseType?e:y(e),g(c,"resolve",r),r})}function g(t,r="resolve",a){const n=e.deferredRequests[t]||[];while(n.length)n.pop()[r](a);delete e.deferredRequests[t]}function y(e){let a=e.data;const s=e.headers["x-api-cattle-auth"];return s&&s!==r["auth/fromHeader"]&&t("auth/gotHeader",s,{root:!0}),204!==e.status&&null!==a||(a={}),"object"!==typeof a&&(a={data:a}),Object.defineProperties(a,{_status:{value:e.status},_statusText:{value:e.statusText},_headers:{value:e.headers},_req:{value:e.request},_url:{value:n.url}}),a}function w(e){let r=e;if(null!==e&&void 0!==e&&e.response){const a=e.response;!1!==n.redirectUnauthorized&&401===a.status&&t("auth/logout",n.logoutOnError,{root:!0}),"undefined"!==typeof a.data&&(r=y(a))}return g(c,"reject",r),Promise.reject(r)}},promptMove({commit:e,state:t},r){e("action-menu/togglePromptMove",r,{root:!0})},promptRestore({commit:e,state:t},r){e("action-menu/togglePromptRestore",r,{root:!0})},assignTo({commit:e,state:t},r=[]){e("action-menu/toggleAssignTo",r,{root:!0})},async resourceAction({getters:e,dispatch:t},{resource:r,actionName:a,body:n,opt:s}){s=s||{},s.url||(s.url=r.actionLinkFor(a)),s.method="post",s.data=n;const o=await t("request",{opt:s});return!1!==s.load&&"collection"===o.type?(await t("loadMulti",o.data),o.data.map(t=>e.byId(t.type,t.id)||t)):!1!==s.load&&o.type&&o.id?t("load",{data:o}):o},promptUpdate({commit:e,state:t},r=[]){e("action-menu/togglePromptUpdate",r,{root:!0})},async collectionAction({getters:e,dispatch:t},{type:r,actionName:a,body:n,opt:s}){if(s=s||{},!s.url){const t=e["schemaFor"](r);s.url=Object(S["a"])(t.links.collection,"action",a)}s.method="post",s.data=n;const o=await t("request",{opt:s});return!1!==s.load&&"collection"===o.type?(await t("loadMulti",o.data),o.data.map(t=>e.byId(t.type,t.id)||t)):!1!==s.load&&o.type&&o.id?t("load",{data:o}):o},createNamespace(e,t){return Object(N["b"])(e,{type:i["o"],metadata:{name:t.name}})},cleanForNew(e,t){var r,a,n,s;const o=t.metadata||{};return P(t,j),P(o,M),F(o.annotations),F(o.labels),o.name="",null!==t&&void 0!==t&&null!==(r=t.spec)&&void 0!==r&&null!==(a=r.crd)&&void 0!==a&&null!==(n=a.spec)&&void 0!==n&&null!==(s=n.names)&&void 0!==s&&s.kind&&(t.spec.crd.spec.names.kind=""),t},cleanForDiff(e,t){const r=t.metadata||{};return r.labels||(r.labels={}),r.annotations||(r.annotations={}),$(t),P(t,A),P(r,L),F(r.annotations),F(r.labels),t},cleanForDetail(e,t){return t.metadata||Object(k["i"])(t,"metadata",{}),t.metadata.annotations||Object(k["i"])(t,"metadata.annotations",{}),t.metadata.labels||Object(k["i"])(t,"metadata.labels",{}),t}};const A=["actions","links","status","__rehydrate","__clone"],L=["ownerReferences","selfLink","creationTimestamp","deletionTimestamp","state","fields","relationships","generation","managedFields","resourceVersion"],j=["actions","links","status","id"],M=[...L,"uid"];function $(e){for(const t in e)if(t.startsWith("__"))delete e[t];else{const r=e[t];R()(r)&&$(r)}}function P(e,t){if(e)for(const r of t)delete e[r]}function F(e){e&&Object.keys(e).forEach(t=>{t.match(/(^|field\.)cattle\.io(\/.*|$)/)&&delete e[t]})}function D(e,t){return{...a["a"],state(){return{...Object(a["b"])(e,t),socket:null,queue:[],wantSocket:!1,debugSocket:!1,allowStreaming:!0,pendingFrames:[],deferredRequests:{},started:[],inError:{},podsByNamespace:{}}},getters:{...a["a"].getters,...s["b"],...n["c"]},mutations:{...a["a"].mutations,...y,...n["e"]},actions:{...a["a"].actions,...I,...n["a"]}}}const q=(e,t)=>{Object(n["b"])(e,t)};t["a"]=e=>{switch(e.namespace=e.namespace||"",e.baseUrl=e.baseUrl||"/"+e.namespace,e.namespace){case"management":e.modelBaseClass=s["a"].BY_TYPE;break;case"rancher":e.modelBaseClass=s["a"].NORMAN;break}return Object(a["c"])(D(e.namespace,e.baseUrl),e,q)}},cc76:function(e,t,r){"use strict";var a=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,i){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?s(o(e),(function(o){var i=encodeURIComponent(a(o))+r;return n(e[o])?s(e[o],(function(e){return i+encodeURIComponent(a(e))})).join(t):i+encodeURIComponent(a(e[o]))})).join(t):i?encodeURIComponent(a(i))+r+encodeURIComponent(a(e)):""};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var r=[],a=0;a<e.length;a++)r.push(t(e[a],a));return r}var o=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},ce34:function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},ce60:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("LabeledInput",{model:{value:e.value.foo,callback:function(t){e.$set(e.value,"foo",t)},expression:"value.foo"}})},n=[],s=r("8e93"),o={components:{LabeledInput:s["a"]},props:{value:{type:Object,required:!0}}},i=o,l=r("d802"),c=Object(l["a"])(i,a,n,!1,null,null,null);t["default"]=c.exports},cf82:function(e,t,r){var a=r("5eaa");t=a(!1),t.push([e.i,'.clearfix[data-v-6967224e]:after,.clearfix[data-v-6967224e]:before{content:" ";display:table}.clearfix[data-v-6967224e]:after{clear:both}.list-unstyled[data-v-6967224e]{margin:0;padding:0;list-style-type:none}.no-select[data-v-6967224e]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-6967224e]{resize:none}.hand[data-v-6967224e]{cursor:pointer;cursor:hand}.fixed[data-v-6967224e]{table-layout:fixed}.clip[data-v-6967224e]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-6967224e],.force-wrap[data-v-6967224e]{word-wrap:break-word}.force-wrap[data-v-6967224e]{white-space:normal}.bordered-section[data-v-6967224e]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-6967224e]{margin-bottom:20px;margin-top:20px}.outer-container[data-v-6967224e]{display:flex;flex-direction:column;flex:1;padding:0}.header[data-v-6967224e]{display:flex;align-content:space-between;align-items:center;border-bottom:var(--header-border-size) solid var(--header-border)}.header .step-sequence[data-v-6967224e],.header>.title[data-v-6967224e]{flex:1;min-height:60px;display:flex}.header .step-sequence .steps[data-v-6967224e]{flex:1;margin:0 30px;display:flex;justify-content:space-between;list-style-type:none;padding:0}.header .step-sequence .steps[data-v-6967224e]:focus{outline:none;box-shadow:none}.header .step-sequence .steps li.step[data-v-6967224e]{display:flex;flex-direction:row;flex-grow:1;align-items:center}.header .step-sequence .steps li.step>span>span[data-v-6967224e]:last-of-type{padding-bottom:0}.header .step-sequence .steps li.step[data-v-6967224e]:last-of-type{flex-grow:0}.header .step-sequence .steps li.step .controls[data-v-6967224e]{display:flex;flex-direction:column;align-items:center;width:40px;overflow:visible;padding-top:15px}.cru__content .header .step-sequence .steps li.step .controls[data-v-6967224e]{padding-top:0}.header .step-sequence .steps li.step .controls>span[data-v-6967224e]{padding-bottom:5px;margin-bottom:5px;white-space:nowrap}.cru__content .header .step-sequence .steps li.step .controls>span[data-v-6967224e]{padding-bottom:3px}.header .step-sequence .steps li.step.active .controls[data-v-6967224e]{color:var(--primary)}.header .step-sequence .steps li.step:not(.disabled) .controls:hover>*[data-v-6967224e]{color:var(--primary)!important;cursor:pointer}.header .step-sequence .steps li.step:not(.active) .controls>*[data-v-6967224e]{color:var(--input-disabled-text);text-decoration:none}.header .step-sequence .steps .divider[data-v-6967224e]{flex-basis:100%;border-top:1px solid var(--border);position:relative;top:28px}.cru__content .header .step-sequence .steps .divider[data-v-6967224e]{top:13px}.header .choice-banner[data-v-6967224e]{flex-basis:40%;display:flex;align-items:center;margin-bottom:10px}.header .choice-banner.selected[data-v-6967224e]{background-color:var(--accent-btn)}.header .choice-banner.top H2[data-v-6967224e]{margin:0}.header .choice-banner.top .title[data-v-6967224e]{display:flex;align-items:center;justify-content:space-evenly}.header .choice-banner.top .title>.subtitle[data-v-6967224e]{margin-right:20px}.header .choice-banner.top .subtitle[data-v-6967224e]{display:flex;flex-direction:column}.header .choice-banner.top .subtitle .subtext[data-v-6967224e]{color:var(--input-label)}.header .choice-banner[data-v-6967224e]:not(.top){box-shadow:0 0 12px 3px var(--box-bg);flex-direction:row;align-items:center;justify-content:start}.header .choice-banner[data-v-6967224e]:not(.top):hover{outline:var(--outline-width) solid var(--outline);cursor:pointer}.header .choice-banner .round-image[data-v-6967224e]{min-width:50px;height:50px;margin:10px 10px 10px 0;border-radius:50%;overflow:hidden}.header .choice-banner .round-image .logo[data-v-6967224e]{min-width:50px;height:50px}.step-container[data-v-6967224e]{position:relative;flex:1 1 auto;height:0;overflow-y:auto;padding:20px 2px 2px 2px;display:flex;flex-direction:column}.step-container__step[data-v-6967224e]{display:flex;flex-direction:column;flex:1}.controls-row[data-v-6967224e]{margin-left:-20px;margin-right:-20px;margin-bottom:-20px;padding:10px 20px;display:flex;justify-content:space-between;padding-top:10px;border-top:var(--header-border-size) solid var(--header-border)}.controls-row .controls-steps .btn[data-v-6967224e]{margin-left:10px}.wizard .header[data-v-6967224e]{margin-bottom:20px}',""]),e.exports=t},d37d:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return i}));const a=["","K","M","G","T","P","E","Z","Y"],n=["","m","u","n","p","f","a","z","y"];function s(e,{increment:t=1e3,addSuffix:r=!0,addSuffixSpace:i=!0,suffix:l="",firstSuffix:c=null,startingExponent:u=0,minExponent:d=0,maxExponent:p=99,maxPrecision:h=2,canRoundToZero:f=!0}={}){let m=e,v=u;const b=p>=0;if(b)while(m>=t&&v+1<a.length&&v<p||v<d)m/=t,v++;else while(m<t&&v+1<n.length&&v<-1*p||v<-1*d)m*=t,v++;let g="";if(g=m<10&&h>=1?""+Math.round(m*10**h)/10**h:""+Math.round(m),"0"===g&&!f&&0!==e){const a=o(e,t);return s(e,{increment:t,addSuffix:r,suffix:l,firstSuffix:c,startingExponent:u,minExponent:a,maxExponent:a,maxPrecision:h,canRoundToZero:!0})}return r&&(i&&(g+=" "),g+=0===v&&null!==c?""+c:`${b?a[v]:n[v]}${l}`||""),g}function o(e,t=1e3){let r=0;while(e>=t)e/=t,r++;return r}function i(e,t){t=t||{};let r=t.increment;const s=!1!==t.allowFractional;if(!e||"string"!==typeof e||!e.length)return NaN;e=e.replace(/,/g,"");let[,o,i,l]=e.match(/^([0-9.-]+)\s*([^0-9.-]?)([^0-9.-]?)/);const c=parseFloat(o);if(!i)return c;181===i.charCodeAt(0)&&(i="u");const u=n.includes(i),d=a.includes(i.toUpperCase());if(r||(r=(d||u)&&"i"===l?1024:1e3),u&&s){const e=n.indexOf(i);return c/r**e}if(d){const e=a.indexOf(i.toUpperCase());return c*r**e}return c}},d487:function(e,t,r){(function(t,a,n){var s=r("b4fe"),o=r("a96d"),i=r("29b4"),l=r("1be9"),c=r("70c7"),u=i.IncomingMessage,d=i.readyStates;function p(e,t){return s.fetch&&t?"fetch":s.mozchunkedarraybuffer?"moz-chunked-arraybuffer":s.msstream?"ms-stream":s.arraybuffer&&e?"arraybuffer":s.vbArray&&e?"text:vbarray":"text"}var h=e.exports=function(e){var r,a=this;l.Writable.call(a),a._opts=e,a._body=[],a._headers={},e.auth&&a.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){a.setHeader(t,e.headers[t])}));var n=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!s.abortController)n=!1,r=!0;else if("prefer-streaming"===e.mode)r=!1;else if("allow-wrong-content-type"===e.mode)r=!s.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");r=!0}a._mode=p(r,n),a._fetchTimer=null,a.on("finish",(function(){a._onFinish()}))};function f(e){try{var t=e.status;return null!==t&&0!==t}catch(r){return!1}}o(h,l.Writable),h.prototype.setHeader=function(e,t){var r=this,a=e.toLowerCase();-1===m.indexOf(a)&&(r._headers[a]={name:e,value:t})},h.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},h.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]},h.prototype._onFinish=function(){var e=this;if(!e._destroyed){var r=e._opts,o=e._headers,i=null;"GET"!==r.method&&"HEAD"!==r.method&&(i=s.arraybuffer?c(t.concat(e._body)):s.blobConstructor?new a.Blob(e._body.map((function(e){return c(e)})),{type:(o["content-type"]||{}).value||""}):t.concat(e._body).toString());var l=[];if(Object.keys(o).forEach((function(e){var t=o[e].name,r=o[e].value;Array.isArray(r)?r.forEach((function(e){l.push([t,e])})):l.push([t,r])})),"fetch"===e._mode){var u=null;if(s.abortController){var p=new AbortController;u=p.signal,e._fetchAbortController=p,"requestTimeout"in r&&0!==r.requestTimeout&&(e._fetchTimer=a.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),r.requestTimeout))}a.fetch(e._opts.url,{method:e._opts.method,headers:l,body:i||void 0,mode:"cors",credentials:r.withCredentials?"include":"same-origin",signal:u}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){a.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var h=e._xhr=new a.XMLHttpRequest;try{h.open(e._opts.method,e._opts.url,!0)}catch(f){return void n.nextTick((function(){e.emit("error",f)}))}"responseType"in h&&(h.responseType=e._mode.split(":")[0]),"withCredentials"in h&&(h.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in h&&h.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in r&&(h.timeout=r.requestTimeout,h.ontimeout=function(){e.emit("requestTimeout")}),l.forEach((function(e){h.setRequestHeader(e[0],e[1])})),e._response=null,h.onreadystatechange=function(){switch(h.readyState){case d.LOADING:case d.DONE:e._onXHRProgress();break}},"moz-chunked-arraybuffer"===e._mode&&(h.onprogress=function(){e._onXHRProgress()}),h.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{h.send(i)}catch(f){return void n.nextTick((function(){e.emit("error",f)}))}}}},h.prototype._onXHRProgress=function(){var e=this;f(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},h.prototype._connect=function(){var e=this;e._destroyed||(e._response=new u(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},h.prototype._write=function(e,t,r){var a=this;a._body.push(e),r()},h.prototype.abort=h.prototype.destroy=function(){var e=this;e._destroyed=!0,a.clearTimeout(e._fetchTimer),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort()},h.prototype.end=function(e,t,r){var a=this;"function"===typeof e&&(r=e,e=void 0),l.Writable.prototype.end.call(a,e,t,r)},h.prototype.flushHeaders=function(){},h.prototype.setTimeout=function(){},h.prototype.setNoDelay=function(){},h.prototype.setSocketKeepAlive=function(){};var m=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,r("f995").Buffer,r("7d15"),r("07d9"))},d85a:function(e,t,r){"use strict";var a=r("907c");const n=5e3,s=2500,o={store:"",counts:[],countTimer:void 0,flushTimer:void 0,queue:[],schemas:{}};function i(e){let t=0;for(let r=0;r<e.length;r++){const a=e.charCodeAt(r);t=(t<<5)-t+a,t&=t}return new Uint32Array([t])[0].toString(36)}function l(e){return i(JSON.stringify(e,null,2))}function c(){o.queue.forEach(e=>{const t=l(e),r=o.schemas[e.id];if(!r||r&&r!==t){o.schemas[e.id]=t;const r={data:e,resourceType:a["y"],type:"resource.change"};u(r)}}),o.queue=[],o.flushTimer=setTimeout(c,s)}function u(e){self.postMessage({load:e})}o.flushTimer=setTimeout(c,s);const d={onmessage:e=>{const t=Object.keys(null===e||void 0===e?void 0:e.data);t.forEach(t=>{d[t]?d[t](null===e||void 0===e?void 0:e.data[t]):console.warn("no associated action for:",t)})},initWorker:({storeName:e})=>{o.store=e},destroyWorker:()=>{clearTimeout(o.countTimer),clearTimeout(o.flushTimer),self.postMessage({destroyWorker:!0}),close()},countsUpdate(e){o.counts.push(e),o.countTimer||(o.countTimer=setTimeout(()=>{const e=o.counts.pop();o.counts=[],o.countTimer=null,u(e)},n))},loadSchemas:e=>{e.forEach(e=>{delete e._id,delete e._group,o.schemas[e.id]=l(e)})},updateSchema:e=>{o.queue.push(e)},removeSchema:e=>{o.queue=o.queue.filter(t=>t.id!==e),delete o.schemas[e]}};onmessage=d.onmessage},dd1b:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col span-6"},[r("UnitInput",{attrs:{label:"Audit interval",suffix:"Seconds"},model:{value:e.value.auditInterval,callback:function(t){e.$set(e.value,"auditInterval",t)},expression:"value.auditInterval"}})],1)]),r("div",{staticClass:"row mt-10"},[r("div",{staticClass:"col span-6"},[r("UnitInput",{attrs:{label:"Constraint violations limit",suffix:""},model:{value:e.value.constraintViolationsLimit,callback:function(t){e.$set(e.value,"constraintViolationsLimit",t)},expression:"value.constraintViolationsLimit"}})],1)])])},n=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("LabeledInput",e._b({ref:"value",attrs:{value:e.displayValue,type:"number",min:e.min,mode:e.mode,label:e.label,delay:e.delay,"label-key":e.labelKey,tooltip:e.tooltip,"tooltip-key":e.tooltipKey,required:e.required,placeholder:e.placeholder,"hide-arrows":e.hideArrows},on:{blur:function(t){return e.update(t.target.value)}},scopedSlots:e._u([{key:"suffix",fn:function(){return[e.displayUnit?r("div",{staticClass:"addon",class:{"with-tooltip":e.tooltip||e.tooltipKey}},[e._v(" "+e._s(e.displayUnit)+" ")]):e._e()]},proxy:!0}])},"LabeledInput",e.$attrs,!1))},o=[],i=r("d37d"),l=r("8e93"),c=r("da25"),u={components:{LabeledInput:l["a"]},props:{outputAs:{type:String,default:"number"},outputModifier:{type:Boolean,default:!1},inputExponent:{type:Number,default:0},baseUnit:{type:String,default:"B"},hideArrows:{type:Boolean,default:!1},increment:{type:Number,default:1e3},suffix:{type:String,default:null},mode:{type:String,default:c["w"]},value:{type:[Number,String],default:null},label:{type:String,default:null},labelKey:{type:String,default:null},tooltip:{type:[String,Object],default:null},tooltipKey:{type:String,default:null},required:{type:Boolean,default:!1},min:{type:[Number,String],default:0},placeholder:{type:[String,Number],default:""},delay:{type:Number,default:0}},computed:{unit(){let e;return e=this.inputExponent>=0?i["b"][this.inputExponent]:i["a"][-1*this.inputExponent],1024===this.increment&&e&&(e+="i"),e},parsedValue(){return"string"===typeof this.value?Object(i["d"])(this.value):this.value},displayValue(){let e="";return(this.parsedValue||0===this.parsedValue)&&(e=Object(i["c"])(this.parsedValue,{increment:this.increment,addSuffix:!1,maxExponent:this.inputExponent,minExponent:this.inputExponent})),e},displayUnit(){return this.suffix?this.suffix:this.unit+this.baseUnit}},methods:{focus(){const e=this.$refs.value;e&&e.focus()},update(e){let t=""===e?null:e;this.outputModifier?t=null===t?null:`${e}${this.unit}`:"string"===this.outputAs?t=null===t?"":""+e:t&&(t=this.unit?Object(i["d"])(`${t}${this.unit}`):parseInt(t)),this.$emit("input",t)}}},d=u,p=(r("0020"),r("d802")),h=Object(p["a"])(d,s,o,!1,null,"1ade22a7",null),f=h.exports,m={components:{UnitInput:f},props:{value:{type:Object,default:()=>({})}}},v=m,b=Object(p["a"])(v,a,n,!1,null,null,null);t["default"]=b.exports},e127:function(e,t,r){var a=r("2ed5"),n=r("cc7f");function s(e){return a(e,n(e))}e.exports=s},e233:function(e,t){function r(e,t){var r=e.length;e.sort(t);while(r--)e[r]=e[r].value;return e}e.exports=r},e23f:function(e,t,r){"use strict";var a=r("28bc").Buffer,n=a.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){if(!e)return"utf8";var t;while(1)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function o(e){var t=s(e);if("string"!==typeof t&&(a.isEncoding===n||!n(e)))throw new Error("Unknown encoding: "+e);return t||e}function i(e){var t;switch(this.encoding=o(e),this.encoding){case"utf16le":this.text=f,this.end=m,t=4;break;case"utf8":this.fillLast=d,t=4;break;case"base64":this.text=v,this.end=b,t=3;break;default:return this.write=g,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(t)}function l(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function c(e,t,r){var a=t.length-1;if(a<r)return 0;var n=l(t[a]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--a<r||-2===n?0:(n=l(t[a]),n>=0?(n>0&&(e.lastNeed=n-2),n):--a<r||-2===n?0:(n=l(t[a]),n>=0?(n>0&&(2===n?n=0:e.lastNeed=n-3),n):0))}function u(e,t,r){if(128!==(192&t[0]))return e.lastNeed=0,"ï¿½";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"ï¿½";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"ï¿½"}}function d(e){var t=this.lastTotal-this.lastNeed,r=u(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function p(e,t){var r=c(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var a=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,a),e.toString("utf8",t,a)}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"ï¿½":t}function f(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var a=r.charCodeAt(r.length-1);if(a>=55296&&a<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function m(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function v(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function b(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function g(e){return e.toString(this.encoding)}function y(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},i.prototype.end=h,i.prototype.text=p,i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},e2a0:function(e,t,r){var a=r("fdc0");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("0ed3").default;n("8216ceec",a,!0,{sourceMap:!1,shadowMode:!1})},e42d:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var a=r("907c"),n=r("8535");const s=e=>{const t=e["management/byId"](a["m"].SETTING,n["b"].UI_PERFORMANCE);let r={};if(t&&t.value)try{r=JSON.parse(t.value)}catch(s){console.warn("ui-performance setting contains invalid data")}return r=Object.assign(n["a"],r),r}},e560:function(e,t,r){"use strict";r("702e")},e563:function(e,t,r){var a=r("7675");function n(e,t,r){var n=-1,s=e.criteria,o=t.criteria,i=s.length,l=r.length;while(++n<i){var c=a(s[n],o[n]);if(c){if(n>=l)return c;var u=r[n];return c*("desc"==u?-1:1)}}return e.index-t.index}e.exports=n},e9f8:function(e,t,r){var a=r("33aa");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("0ed3").default;n("17339182",a,!0,{sourceMap:!1,shadowMode:!1})},ed59:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"outer-container"},[e.stepsLoaded?e._e():r("Loading",{attrs:{mode:"relative"}}),r("div",{staticClass:"outer-container",class:{hide:!e.stepsLoaded}},[r("div",{staticClass:"header"},[r("div",{staticClass:"title"},[e.showBanner?r("div",{staticClass:"top choice-banner"},[e.bannerImage||e.bannerTitle?e._t("bannerTitle",(function(){return[r("div",{directives:[{name:"show",rawName:"v-show",value:e.initialTitle||e.activeStepIndex>0,expression:"initialTitle || activeStepIndex > 0"}],staticClass:"title"},[e._t("bannerTitleImage",(function(){return[e.bannerImage?r("div",{staticClass:"round-image"},[r("LazyImage",{staticClass:"logo",attrs:{src:e.bannerImage}})],1):e._e()]})),r("div",{staticClass:"subtitle"},[e.bannerTitle?r("h2",[e._v(" "+e._s(e.bannerTitle)+" ")]):e._e(),e.bannerTitleSubtext?r("span",{staticClass:"subtext"},[e._v(e._s(e.bannerTitleSubtext))]):e._e()])],2)]})):e._e(),e.activeStep&&e.showSteps?r("div",{staticClass:"subtitle"},[r("h2",[e._v(e._s(e.headerMode?e.t("wizard."+e.headerMode):e.t("asyncButton."+e.finishMode+".action"))+": "+e._s(e.t("wizard.step",{number:e.activeStepIndex+1})))]),e._t("bannerSubtext",(function(){return[null!==e.activeStep.subtext?r("span",{staticClass:"subtext"},[e._v(e._s(e.activeStep.subtext||e.activeStep.label))]):e._e()]}))],2):e._e()],2):e._e(),r("div",{staticClass:"step-sequence"},[e.showSteps?r("ul",{staticClass:"steps",attrs:{tabindex:"0"},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:(t.stopPropagation(),e.selectNext(1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:(t.stopPropagation(),e.selectNext(-1))}]}},[e._l(e.visibleSteps,(function(t,a){return[r("li",{key:t.name+"li",class:{step:!0,active:t.name===e.activeStep.name,disabled:!e.isAvailable(t)},attrs:{id:t.name,role:"presentation"}},[r("span",{staticClass:"controls",attrs:{"aria-controls":"step"+a+1,"aria-selected":t.name===e.activeStep.name,role:"tab"},on:{click:function(t){return t.preventDefault(),e.goToStep(a+1,!0)}}},[r("span",{staticClass:"icon icon-lg",class:{"icon-dot":t.name===e.activeStep.name,"icon-dot-open":t.name!==e.activeStep.name}}),r("span",[e._v(" "+e._s(t.label)+" ")])])]),a!==e.visibleSteps.length-1?r("div",{key:t.name,staticClass:"divider"}):e._e()]}))],2):e._e()])])]),e._t("stepContainer",(function(){return[e._l(e.steps,(function(t){return[t.name===e.activeStep.name||t.hidden?r("div",{key:t.name,staticClass:"step-container__step",class:{hide:t.name!==e.activeStep.name&&t.hidden}},[e._t(t.name,null,{step:t})],2):e._e()]}))]}),{activeStep:e.activeStep}),e._t("controlsContainer",(function(){return[e._l(e.errorStrings,(function(t,a){return r("div",{key:a},[r("Banner",{attrs:{color:"error",label:t,closable:!0},on:{close:function(t){return e.errors.splice(a,1)}}})],1)})),r("div",{staticClass:"controls-row pt-20"},[e._t("cancel",(function(){return[r("button",{staticClass:"btn role-secondary",attrs:{type:"button"},on:{click:e.cancel}},[r("t",{attrs:{k:"generic.cancel"}})],1)]}),{cancel:e.cancel}),r("div",{staticClass:"controls-steps"},[e.showPrevious?e._t("back",(function(){return[r("button",{staticClass:"btn role-secondary",attrs:{disabled:!e.canPrevious||!e.editFirstStep&&1===e.activeStepIndex,type:"button"},on:{click:function(t){return e.back()}}},[r("t",{attrs:{k:"wizard.previous"}})],1)]}),{back:e.back}):e._e(),e.activeStepIndex===e.visibleSteps.length-1?e._t("finish",(function(){return[r("AsyncButton",{attrs:{disabled:!e.activeStep.ready,mode:e.finishMode},on:{click:e.finish}})]}),{finish:e.finish}):e._t("next",(function(){return[r("button",{class:e.nextButtonStyle,attrs:{disabled:!e.canNext,type:"button"},on:{click:function(t){return e.next()}}},[r("t",{attrs:{k:e.nextButtonLabel}})],1)]}),{next:e.next})],2)],2)]}),{showPrevious:e.showPrevious,next:e.next,back:e.back,canNext:e.canNext,activeStepIndex:e.activeStepIndex,visibleSteps:e.visibleSteps,errorStrings:e.errorStrings,finish:e.finish,cancel:e.cancel,activeStep:e.activeStep})],2)],1)},n=[],s=r("d709"),o=r("6418"),i=r("15ca"),l=r("3e9d"),c={name:"Wizard",components:{AsyncButton:s["b"],Banner:o["a"],Loading:i["a"]},props:{steps:{type:Array,required:!0},initStepIndex:{type:Number,default:0},editFirstStep:{type:Boolean,default:!1},showBanner:{type:Boolean,default:!0},initialTitle:{type:Boolean,default:!0},bannerTitle:{type:String,default:null},bannerImage:{type:String,default:null},bannerTitleSubtext:{type:String,default:null},headerMode:{type:String,default:null},finishMode:{type:String,default:"finish"},errors:{type:Array,default:null}},data(){return{activeStep:null}},computed:{errorStrings(){return(this.errors||[]).map(e=>Object(l["d"])(e))},activeStepIndex(){return this.visibleSteps.findIndex(e=>e.name===this.activeStep.name)},showPrevious(){if(0===this.activeStepIndex)return!1;for(let e=0;e<this.activeStepIndex;e++){const t=this.visibleSteps[e];if(!t)break;if(!t.hidden)return!0}return!1},canPrevious(){var e,t;return!(null!==(e=this.activeStep)&&void 0!==e&&null!==(t=e.previousButton)&&void 0!==t&&t.disable)&&(this.activeStepIndex>1||this.editFirstStep)},canNext(){return this.activeStepIndex<this.visibleSteps.length-1&&this.activeStep.ready},readySteps(){return this.visibleSteps.filter(e=>e.ready)},showSteps(){return!1!==this.activeStep.showSteps&&this.visibleSteps.length>1},stepsLoaded(){return!this.steps.some(e=>!0===e.loading)},visibleSteps(){return this.steps.filter(e=>!e.hidden)},nextButtonStyle(){var e;return(null===(e=this.activeStep.nextButton)||void 0===e?void 0:e.style)||"btn role-primary"},nextButtonLabel(){var e;return(null===(e=this.activeStep.nextButton)||void 0===e?void 0:e.labelKey)||"wizard.next"}},watch:{stepsLoaded(e,t){!t&&e&&(this.activeStep=this.visibleSteps[this.initStepIndex],this.goToStep(this.activeStepIndex+1))}},created(){this.activeStep=this.visibleSteps[this.initStepIndex],this.goToStep(this.activeStepIndex+1)},methods:{goToStep(e,t){if(e<1)return;if(!this.editFirstStep&&1===e&&t)return;const r=this.visibleSteps[e-1];r&&(this.isAvailable(r)||1===e)&&(this.activeStep=r,this.$emit("next",{step:r}))},cancel(){this.$emit("cancel")},finish(e){this.$emit("finish",e)},next(){this.goToStep(this.activeStepIndex+2)},back(){this.goToStep(this.activeStepIndex)},isAvailable(e){if(!e)return!1;const t=this.visibleSteps.findIndex(t=>t.name===e.name);if(0===t&&!this.editFirstStep)return!1;for(let r=0;r<t;r++)if(!1===this.visibleSteps[r].ready)return!1;return!0}}},u=c,d=(r("8cce"),r("d802")),p=Object(d["a"])(u,a,n,!1,null,"6967224e",null);t["a"]=p.exports},f3d3:function(e,t,r){"use strict";(function(e){r.d(t,"c",(function(){return d})),r.d(t,"b",(function(){return p})),r.d(t,"f",(function(){return h})),r.d(t,"e",(function(){return f})),r.d(t,"d",(function(){return m}));var a=r("8bbf"),n=r.n(a),s=r("bddd"),o=r("907c"),i=r("0788"),l=r("3f01"),c=r("090b");function u(t,r){let a=t.types[r];return a||(a={list:[],haveAll:!1,haveSelector:{},revision:0,generation:0,loadCounter:0},Object.defineProperty(a,"map",{value:new Map}),e.server&&!a.list.__rehydrateAll&&Object.defineProperty(a.list,"__rehydrateAll",{value:`${t.config.namespace}/${r}`,enumerable:!0}),n.a.set(t.types,r,a)),a}function d(e,{data:t,ctx:r,existing:a}){const{getters:c}=r;let d=Object(i["c"])(t.type);const p=c.keyFieldForType(d),h=r.rootGetters["type-map/optionsFor"](d),f=null===h||void 0===h?void 0:h.limit;var m;d===o["y"]&&(t._id=Object(i["c"])(t.id),t._group=Object(i["c"])(null===(m=t.attributes)||void 0===m?void 0:m.group));const v=t[p];let b,g=u(e,d);function y(e,t){t=c.cleanResource(e,t);for(const r of Object.keys(e))delete e[r];for(const r of Object.keys(t))n.a.set(e,r,t[r]);return e}if(g.generation++,a&&!a.id)b=y(a,t),Object(s["a"])(g.list,b),g.map.set(v,b);else if(b=g.map.get(v),b)y(b,t);else if(b=Object(l["b"])(r,t),Object(s["a"])(g.list,b),g.map.set(v,b),f&&g.list.length>f){const e=g.list.shift();g.map.delete(e.id)}return t.baseType&&(d=Object(i["c"])(t.baseType),g=e.types[d],g&&(Object(s["a"])(g.list,b),g.map.set(v,b))),b}function p(e,t){const r=e.types[t];if(r)return r.haveAll=!1,r.haveSelector={},r.revision=0,r.generation=0,Object(s["c"])(r.list),r.map.clear(),delete e.types[t],c["a"].gcResetType(e,t),!0}function h(e,t){console.log("Reset store: ",e.config.namespace);for(const r of Object.keys(e.types))t(e.config.namespace+"/forgetType",r);c["a"].gcResetStore(e)}function f(e,t,r){if(t){let a=Object(i["c"])(t.type);const n=r[e.config.namespace+"/keyFieldForType"](a),o=t[n];let l=e.types[a];l&&(Object(s["i"])(l.list,t),l.map.delete(o)),t.baseType&&(a=Object(i["c"])(t.baseType),l=e.types[a],l&&(Object(s["i"])(l.list,t),l.map.delete(o)))}}function m(e,{type:t,data:r,ctx:a,skipHaveAll:n}){const{getters:o}=a;if(!r)return;const i=a.rootGetters["type-map/optionsFor"](t),c=null===i||void 0===i?void 0:i.limit;c&&(r=r.slice(-c));const d=o.keyFieldForType(t),p=r.map(e=>Object(l["b"])(a,e)),h=u(e,t);Object(s["c"])(h.list),h.map.clear(),h.generation++,Object(s["b"])(h.list,p);for(let s=0;s<p.length;s++)h.map.set(p[s][d],p[s]);return n||(h.haveAll=!0),p}t["a"]={registerType:u,load:d,applyConfig(e,t){e.config||(e.config={}),Object.assign(e.config,t)},loadMulti(e,{data:t,ctx:r}){for(const a of t)d(e,{data:a,ctx:r})},loadSelector(e,{type:t,entries:r,ctx:a,selector:n}){const s=u(e,t);for(const o of r)d(e,{data:o,ctx:a});s.haveSelector[n]=!0},loadAll:m,loadMerge(e,{type:t,data:r,ctx:a}){const{commit:n,getters:s}=a,o=s.keyFieldForType(t),i=e.types[t];r.forEach(r=>{const n=e.types[t].map.get(r[o]);d(e,{data:r,ctx:a,existing:n})}),i.list.forEach(e=>{r.find(t=>t.id===e.id)||n("remove",e)})},loadAdd(e,{type:t,data:r,ctx:a}){const{getters:n}=a,s=n.keyFieldForType(t);r.forEach(r=>{const n=e.types[t].map.get(r[s]);d(e,{data:r,ctx:a,existing:n})})},forgetAll(e,{type:t}){const r=u(e,t);Object(s["c"])(r.list),r.map.clear(),r.generation++},setHaveAll(e,{type:t}){const r=u(e,t);r.haveAll=!0},loadedAll(e,{type:t}){const r=u(e,t);r.generation++,r.haveAll=!0},remove(e,t){t&&f(e,t,this.getters)},reset(e){h(e,this.commit)},forgetType:p,incrementLoadCounter(e,t){const r=e.types[t];r&&r.loadCounter++}}}).call(this,r("07d9"))},f89b:function(e,t,r){"use strict";r("3c13")},fd5f:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"cru"},[e._t("noticeBanner"),r(e.isView?"div":"form",{tag:"form",staticClass:"create-resource-container cru__form",on:{submit:function(e){e.preventDefault()}}},[e.hasErrors?r("div",{staticClass:"cru__errors",attrs:{id:"cru-errors"}},e._l(e.errors,(function(t,a){return r("Banner",{key:a,attrs:{color:"error",label:e.stringify(t),stacked:!0,closable:!0},on:{close:function(t){return e.closeError(a)}}})})),1):e._e(),e.showSubtypeSelection?r("div",{staticClass:"subtypes-container cru__content"},[e._t("subtypes",(function(){return e._l(e.subtypes,(function(t){return r("div",{key:t.id,staticClass:"subtype-banner",class:{selected:t.id===e._selectedSubtype},on:{click:function(r){return e.selectType(t.id,r)}}},[e._t("subtype-content",(function(){return[r("div",{staticClass:"subtype-container"},[r("div",{staticClass:"subtype-logo"},[t.bannerImage?r("img",{attrs:{src:t.bannerImage,alt:(e.resource.type?e.resource.type+": ":"")+(t.label||"")}}):r("div",{staticClass:"round-image"},[t.bannerAbbrv?r("div",{staticClass:"banner-abbrv"},[e.$store.getters["i18n/exists"](t.bannerAbbrv)?r("span",[e._v(e._s(e.t(t.bannerAbbrv)))]):r("span",{style:{fontSize:e.abbrSizes[t.bannerAbbrv.length]}},[e._v(e._s(t.bannerAbbrv))])]):r("div",[e._v(" "+e._s(t.id.slice(0,1).toUpperCase())+" ")])])]),r("div",{staticClass:"subtype-body"},[r("div",{staticClass:"title",class:{"with-description":!!t.description}},[r("h5",[e.$store.getters["i18n/exists"](t.label)?r("span",{domProps:{innerHTML:e._s(e.t(t.label))}}):r("span",[e._v(e._s(t.label))])]),t.docLink?r("a",{staticClass:"flex-right",attrs:{href:t.docLink,target:"_blank",rel:"noopener nofollow"}},[e._v(e._s(e.t("generic.moreInfo"))+" "),r("i",{staticClass:"icon icon-external-link"})]):e._e()]),t.description?r("hr"):e._e(),t.description?r("div",{staticClass:"description"},[e.$store.getters["i18n/exists"](t.description)?r("span",{domProps:{innerHTML:e._s(e.t(t.description,{},!0))}}):r("span",[e._v(e._s(t.description))])]):e._e()])])]}))],2)}))}),{subtypes:e.subtypes})],2):e._e(),e.showAsForm&&e.steps.length?[e._selectedSubtype||!e.subtypes.length?r("div",{staticClass:"resource-container cru__content cru__content-wizard"},[e.resource?r("Wizard",{ref:"Wizard",staticClass:"wizard",attrs:{"header-mode":e.mode,steps:e.steps,errors:e.errors,"finish-mode":e.finishMode},on:{error:function(t){return e.errors=t}},scopedSlots:e._u([{key:"stepContainer",fn:function(t){var a=t.activeStep;return[e._l(e.steps,(function(t){return[t.name===a.name||t.hidden?r("div",{key:t.name,staticClass:"step-container__step",class:{hide:t.name!==a.name&&t.hidden}},[e._t(t.name,null,{step:t})],2):e._e()]}))]}},{key:"controlsContainer",fn:function(t){var a=t.showPrevious,n=t.next,s=t.back,o=t.activeStep,i=t.canNext,l=t.activeStepIndex,c=t.visibleSteps;return[[r("CruResourceFooter",{staticClass:"cru__footer",attrs:{mode:e.mode,"is-form":e.showAsForm,"show-cancel":e.showCancel},on:{"cancel-confirmed":e.confirmCancel},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,r){return{key:r,fn:function(t){return[e._t(r,null,null,t)]}}}))],null,!0)},[r("div",{staticClass:"controls-steps"},[e.showYaml?r("button",{staticClass:"btn role-secondary",attrs:{type:"button"},on:{click:e.showPreviewYaml}},[r("t",{attrs:{k:"cruResource.previewYaml"}})],1):e._e(),a?[r("button",{staticClass:"btn role-secondary",attrs:{type:"button"},on:{click:function(e){return s()}}},[r("t",{attrs:{k:"wizard.previous"}})],1)]:e._e(),l===c.length-1?[e.showSubtypeSelection||e.isView?e._e():r("AsyncButton",{ref:"save",attrs:{disabled:!o.ready,mode:e.finishButtonMode||e.mode},on:{click:function(t){return e.$emit("finish",t)}}})]:[r("button",{staticClass:"btn role-primary",attrs:{disabled:!i,type:"button"},on:{click:function(e){return n()}}},[r("t",{attrs:{k:"wizard.next"}})],1)]],2)])]]}}],null,!0)}):e._e()],1):e._e()]:e.showAsForm?[e._selectedSubtype||!e.subtypes.length?r("div",{staticClass:"resource-container cru__content",style:[e.minHeight?{"min-height":e.minHeight}:{}]},[e._t("default")],2):e._e(),e._t("form-footer",(function(){return[r("CruResourceFooter",{staticClass:"cru__footer",attrs:{mode:e.mode,"is-form":e.showAsForm,"show-cancel":e.showCancel,"component-testid":e.componentTestid},on:{"cancel-confirmed":e.confirmCancel},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,r){return{key:r,fn:function(t){return[e._t(r,null,null,t)]}}})),{key:"default",fn:function(){return[e.isView?e._e():r("div",[e.showYaml?r("button",{staticClass:"btn role-secondary",attrs:{"data-testid":e.componentTestid+"-yaml",type:"button"},on:{click:e.showPreviewYaml}},[r("t",{attrs:{k:"cruResource.previewYaml"}})],1):e._e(),e.showSubtypeSelection?e._e():r("AsyncButton",{ref:"save",attrs:{disabled:!e.canSave,mode:e.finishButtonMode||e.mode,"data-testid":e.componentTestid+"-save"},on:{click:function(t){return e.clickSave(t)}}})],1)]},proxy:!0}],null,!0)})]}))]:r("section",{staticClass:"cru-resource-yaml-container resource-container cru__content"},[r("ResourceYaml",{ref:"resourceyaml",staticClass:"resource-container cru__content",attrs:{value:e.resource,mode:e.mode,"initial-yaml-for-diff":e.initialYaml,yaml:e.resourceYaml,"offer-preview":e.isEdit,"done-route":e.doneRoute,"done-override":e.resource.doneOverride,errors:e.errors,"apply-hooks":e.applyHooks},on:{error:function(t){return e.$emit("error",t)}},scopedSlots:e._u([{key:"yamlFooter",fn:function(t){var a=t.yamlSave,n=t.showPreview,s=t.yamlPreview,o=t.yamlUnpreview;return[e._t("cru-yaml-footer",(function(){return[r("CruResourceFooter",{staticClass:"cru__footer",attrs:{"done-route":e.doneRoute,mode:e.mode,"is-form":e.showAsForm},on:{"cancel-confirmed":e.confirmCancel},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.checkCancel;return[r("div",{staticClass:"controls-middle"},[n?r("button",{staticClass:"btn role-secondary",attrs:{type:"button","data-testid":e.componentTestid+"-yaml-yaml"},on:{click:o}},[r("t",{attrs:{k:"resourceYaml.buttons.continue"}})],1):e._e(),!n&&e.isEdit?r("button",{staticClass:"btn role-secondary",attrs:{"data-testid":e.componentTestid+"-yaml-yaml-preview",disabled:!e.canDiff,type:"button"},on:{click:s}},[r("t",{attrs:{k:"resourceYaml.buttons.diff"}})],1):e._e()]),e._selectedSubtype||!e.subtypes.length?r("div",{staticClass:"controls-right"},[r("button",{staticClass:"btn role-secondary",attrs:{"data-testid":e.componentTestid+"-yaml-cancel",type:"button"},on:{click:function(e){return i(!1)}}},[r("t",{attrs:{k:"cruResource.backToForm"}})],1),e.showSubtypeSelection?e._e():r("AsyncButton",{attrs:{"data-testid":e.componentTestid+"-yaml-save",disabled:!e.canSave,"action-label":e.isEdit?e.t("generic.save"):e.t("generic.create")},on:{click:function(e){return a(e)}}})],1):e._e()]}}],null,!0)})]}))]}}],null,!0)})],1)],2)],2)},n=[],s=r("330a"),o=r.n(s),i=r("c5e6"),l=r("e24b"),c=r("907c"),u=r("ac07"),d=r("6418"),p=r("d709"),h=r("9ce4"),f=r("3e9d"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"cru-resource-footer"},[e._t("footer-prefix"),e._t("cancel",(function(){return[!e.isView&&e.showCancel?r("button",{staticClass:"btn role-secondary",attrs:{id:"cru-cancel","data-testid":e.componentTestid+"-cancel",type:"button"},on:{click:function(t){e.confirmCancelRequired?e.checkCancel(!0):e.$emit("cancel-confirmed",!0)}}},[r("t",{attrs:{k:"generic.cancel"}})],1):e._e()]})),e._t("default",(function(){return[e.isView?e._e():r("AsyncButton",{attrs:{"data-testid":e.componentTestid+"-create",mode:e.finishButtonMode||e.mode},on:{click:function(t){return e.$emit("finish",t)}}})]}),{checkCancel:e.checkCancel}),r("ResourceCancelModal",{ref:"cancelModal",attrs:{"is-cancel-modal":e.isCancelModal,"is-form":e.isForm},on:{"confirm-cancel":function(t){return e.confirmCancel(t)}}})],2)},v=[],b=r("6860"),g=r("da25"),y={components:{AsyncButton:p["b"],ResourceCancelModal:b["a"]},props:{mode:{type:String,default:"create"},isForm:{type:Boolean,default:!0},finishButtonMode:{type:String,default:null},confirmCancelRequired:{type:Boolean,default:!1},confirmBackRequired:{type:Boolean,default:!0},showCancel:{type:Boolean,default:!0},componentTestid:{type:String,default:"form-footer"}},data(){return{isCancelModal:!1}},computed:{...Object(h["a"])({t:"i18n/t"}),isView(){return this.mode===g["C"]}},methods:{checkCancel(e){this.isCancelModal=!!e,this.$refs.cancelModal.show()},confirmCancel(e){this.$emit("cancel-confirmed",e)}}},w=y,x=(r("a5bd"),r("d802")),S=Object(x["a"])(w,m,v,!1,null,null,null),E=S.exports,k=r("842c"),C=r("ed59"),_={name:"CruResource",components:{AsyncButton:p["b"],Banner:d["a"],CruResourceFooter:E,ResourceYaml:u["a"],Wizard:C["a"]},props:{doneRoute:{type:[String,Object],default:null},cancelEvent:{type:Boolean,default:!1},showCancel:{type:Boolean,default:!0},mode:{type:String,required:!0},resource:{type:Object,required:!0},subtypes:{type:Array,default:()=>[]},selectedSubtype:{type:String,default:null},validationPassed:{type:Boolean,default:!0},errors:{type:Array,default:()=>[]},canYaml:{type:Boolean,default:!0},generateYaml:{type:Function,default:null},finishButtonMode:{type:String,default:null},applyHooks:{type:Function,default:null},steps:{type:Array,default:()=>[]},finishMode:{type:String,default:"finish"},minHeight:{type:String,default:""},namespaceKey:{type:String,default:"metadata.namespace"},componentTestid:{type:String,default:"form"}},data(e){const t=this.createResourceYaml();return this.$on("createNamespace",e=>{this.createNamespace=e}),{isCancelModal:!1,createNamespace:!1,showAsForm:this.$route.query[g["a"]]!==g["D"],resourceYaml:t,initialYaml:t,abbrSizes:{3:"24px",4:"18px",5:"16px",6:"14px"}}},computed:{canSave(){const{validationPassed:e,showAsForm:t,steps:r}=this;return t&&null!==r&&void 0!==r&&r.length?e&&this.steps.every(e=>e.ready):!this.showAsForm||this.validationPassed},canDiff(){return this.initialYaml!==this.resourceYaml},canEditYaml(){var e;const t=this.$store.getters["currentStore"](this.resource),r=this.$store.getters[t+"/schemaFor"](this.resource.type);return!(null!==r&&void 0!==r&&null!==(e=r.resourceMethods)&&void 0!==e&&e.includes("blocked-PUT"))},showYaml(){return this.canYaml&&(this._selectedSubtype||!this.subtypes.length)&&this.canEditYaml&&this.mode!==g["C"]},isView(){return this.mode===g["C"]},isEdit(){return this.mode===g["w"]},_selectedSubtype(){return this.selectedSubtype?this.selectedSubtype:this.$route.query[g["o"]]},showSubtypeSelection(){return!o()(this.subtypes)&&!this._selectedSubtype},...Object(h["a"])({t:"i18n/t"}),hasErrors(){var e;return(null===(e=this.errors)||void 0===e?void 0:e.length)&&Array.isArray(this.errors)}},created(){this._selectedSubtype&&this.$emit("select-type",this._selectedSubtype)},methods:{stringify:f["d"],confirmCancel(e=!0){e?this.emitOrRoute():this.showAsForm||(this.resourceYaml=null,this.showAsForm=!0,this.$router.applyQuery({[g["a"]]:g["B"]}))},closeError(e){const t=this.errors.filter((t,r)=>r!==e);this.$emit("error",t)},emitOrRoute(){if(this.cancelEvent)this.$emit("cancel");else{const{resource:e=this.resource.type}=this.$route.params,t=this.resource.doneOverride,r={name:this.doneRoute,params:{resource:e}};this.$router.replace(t||r)}},createResourceYaml(){const e=this.resource;if("function"===typeof this.generateYaml)return this.generateYaml.apply(this,e);{const t=this.$store.getters["currentStore"](e),r=this.$store.getters[t+"/all"](c["y"]),a=Object(l["e"])(e),n=Object(i["b"])(r,e.type,a);return n}},async showPreviewYaml(){this.applyHooks&&await this.applyHooks(k["b"]);const e=this.createResourceYaml();this.resourceYaml=e,this.showAsForm=!1,this.$router.applyQuery({[g["a"]]:g["D"]})},selectType(e,t){var r;"A"!==(null===t||void 0===t||null===(r=t.srcElement)||void 0===r?void 0:r.tagName)&&(this.$router.applyQuery({[g["o"]]:e}),this.$emit("select-type",e))},async clickSave(e){try{await this.createNamespaceIfNeeded(),this.$emit("finish",e)}catch(t){this.$emit("error",Object(f["c"])(t.message)),e(!1)}},save(){this.$refs.save.clicked()},async createNamespaceIfNeeded(){const e=this.$store.getters["currentStore"](this.resource),t=Object(l["g"])(this.resource,this.namespaceKey);let r=!1;try{r=!!await this.$store.dispatch(e+"/find",{type:c["o"],id:t})}catch{}if(this.createNamespace&&!r)try{const r=await this.$store.dispatch(e+"/createNamespace",{name:t},{root:!0});r.applyDefaults(),await r.save()}catch(a){throw this.$emit("error",Object(f["c"])(a)),new Error("Could not create the new namespace. "+a.message)}}}},O=_,T=(r("b5a5"),Object(x["a"])(O,a,n,!1,null,"20484df4",null));t["a"]=T.exports},fdc0:function(e,t,r){var a=r("5eaa");t=a(!1),t.push([e.i,'.clearfix[data-v-023a82e3]:after,.clearfix[data-v-023a82e3]:before{content:" ";display:table}.clearfix[data-v-023a82e3]:after{clear:both}.list-unstyled[data-v-023a82e3]{margin:0;padding:0;list-style-type:none}.no-select[data-v-023a82e3]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-023a82e3]{resize:none}.hand[data-v-023a82e3]{cursor:pointer;cursor:hand}.fixed[data-v-023a82e3]{table-layout:fixed}.clip[data-v-023a82e3]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-023a82e3],.force-wrap[data-v-023a82e3]{word-wrap:break-word}.force-wrap[data-v-023a82e3]{white-space:normal}.bordered-section[data-v-023a82e3]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-023a82e3]{margin-bottom:20px;margin-top:20px}.operator .vs__dropdown-option[data-v-023a82e3]{padding:3px 6px 3px 6px!important}.remove-expression[data-v-023a82e3]{padding:8px;position:absolute;margin-bottom:10px;right:0;top:0;z-index:2}.remove-expression i[data-v-023a82e3]{font-size:2em}.remove-container[data-v-023a82e3]{display:flex;justify-content:center}.match-expression-header[data-v-023a82e3],.match-expression-row[data-v-023a82e3]{display:grid;grid-template-columns:1fr 1fr 1fr;margin:5px 0;grid-gap:10px}.match-expression-header>LABEL[data-v-023a82e3],.match-expression-row>LABEL[data-v-023a82e3]{margin:0}.match-expression-header[data-v-023a82e3]:not(.view),.match-expression-row[data-v-023a82e3]:not(.view){grid-template-columns:1fr 1fr 1fr 100px}',""]),e.exports=t},fe45:function(e,t,r){e.exports=r("af6a").EventEmitter},fec4:function(e,t,r){(function(r){var a;t=e.exports=y,a="object"===typeof r&&Object({NODE_ENV:"production",BASE_URL:"/"})&&Object({NODE_ENV:"production",BASE_URL:"/"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({NODE_ENV:"production",BASE_URL:"/"}).NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,s=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,i=t.re=[],l=t.src=[],c=t.tokens={},u=0;function d(e){c[e]=u++}d("NUMERICIDENTIFIER"),l[c.NUMERICIDENTIFIER]="0|[1-9]\\d*",d("NUMERICIDENTIFIERLOOSE"),l[c.NUMERICIDENTIFIERLOOSE]="[0-9]+",d("NONNUMERICIDENTIFIER"),l[c.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",d("MAINVERSION"),l[c.MAINVERSION]="("+l[c.NUMERICIDENTIFIER]+")\\.("+l[c.NUMERICIDENTIFIER]+")\\.("+l[c.NUMERICIDENTIFIER]+")",d("MAINVERSIONLOOSE"),l[c.MAINVERSIONLOOSE]="("+l[c.NUMERICIDENTIFIERLOOSE]+")\\.("+l[c.NUMERICIDENTIFIERLOOSE]+")\\.("+l[c.NUMERICIDENTIFIERLOOSE]+")",d("PRERELEASEIDENTIFIER"),l[c.PRERELEASEIDENTIFIER]="(?:"+l[c.NUMERICIDENTIFIER]+"|"+l[c.NONNUMERICIDENTIFIER]+")",d("PRERELEASEIDENTIFIERLOOSE"),l[c.PRERELEASEIDENTIFIERLOOSE]="(?:"+l[c.NUMERICIDENTIFIERLOOSE]+"|"+l[c.NONNUMERICIDENTIFIER]+")",d("PRERELEASE"),l[c.PRERELEASE]="(?:-("+l[c.PRERELEASEIDENTIFIER]+"(?:\\."+l[c.PRERELEASEIDENTIFIER]+")*))",d("PRERELEASELOOSE"),l[c.PRERELEASELOOSE]="(?:-?("+l[c.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+l[c.PRERELEASEIDENTIFIERLOOSE]+")*))",d("BUILDIDENTIFIER"),l[c.BUILDIDENTIFIER]="[0-9A-Za-z-]+",d("BUILD"),l[c.BUILD]="(?:\\+("+l[c.BUILDIDENTIFIER]+"(?:\\."+l[c.BUILDIDENTIFIER]+")*))",d("FULL"),d("FULLPLAIN"),l[c.FULLPLAIN]="v?"+l[c.MAINVERSION]+l[c.PRERELEASE]+"?"+l[c.BUILD]+"?",l[c.FULL]="^"+l[c.FULLPLAIN]+"$",d("LOOSEPLAIN"),l[c.LOOSEPLAIN]="[v=\\s]*"+l[c.MAINVERSIONLOOSE]+l[c.PRERELEASELOOSE]+"?"+l[c.BUILD]+"?",d("LOOSE"),l[c.LOOSE]="^"+l[c.LOOSEPLAIN]+"$",d("GTLT"),l[c.GTLT]="((?:<|>)?=?)",d("XRANGEIDENTIFIERLOOSE"),l[c.XRANGEIDENTIFIERLOOSE]=l[c.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",d("XRANGEIDENTIFIER"),l[c.XRANGEIDENTIFIER]=l[c.NUMERICIDENTIFIER]+"|x|X|\\*",d("XRANGEPLAIN"),l[c.XRANGEPLAIN]="[v=\\s]*("+l[c.XRANGEIDENTIFIER]+")(?:\\.("+l[c.XRANGEIDENTIFIER]+")(?:\\.("+l[c.XRANGEIDENTIFIER]+")(?:"+l[c.PRERELEASE]+")?"+l[c.BUILD]+"?)?)?",d("XRANGEPLAINLOOSE"),l[c.XRANGEPLAINLOOSE]="[v=\\s]*("+l[c.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+l[c.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+l[c.XRANGEIDENTIFIERLOOSE]+")(?:"+l[c.PRERELEASELOOSE]+")?"+l[c.BUILD]+"?)?)?",d("XRANGE"),l[c.XRANGE]="^"+l[c.GTLT]+"\\s*"+l[c.XRANGEPLAIN]+"$",d("XRANGELOOSE"),l[c.XRANGELOOSE]="^"+l[c.GTLT]+"\\s*"+l[c.XRANGEPLAINLOOSE]+"$",d("COERCE"),l[c.COERCE]="(^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])",d("COERCERTL"),i[c.COERCERTL]=new RegExp(l[c.COERCE],"g"),d("LONETILDE"),l[c.LONETILDE]="(?:~>?)",d("TILDETRIM"),l[c.TILDETRIM]="(\\s*)"+l[c.LONETILDE]+"\\s+",i[c.TILDETRIM]=new RegExp(l[c.TILDETRIM],"g");var p="$1~";d("TILDE"),l[c.TILDE]="^"+l[c.LONETILDE]+l[c.XRANGEPLAIN]+"$",d("TILDELOOSE"),l[c.TILDELOOSE]="^"+l[c.LONETILDE]+l[c.XRANGEPLAINLOOSE]+"$",d("LONECARET"),l[c.LONECARET]="(?:\\^)",d("CARETTRIM"),l[c.CARETTRIM]="(\\s*)"+l[c.LONECARET]+"\\s+",i[c.CARETTRIM]=new RegExp(l[c.CARETTRIM],"g");var h="$1^";d("CARET"),l[c.CARET]="^"+l[c.LONECARET]+l[c.XRANGEPLAIN]+"$",d("CARETLOOSE"),l[c.CARETLOOSE]="^"+l[c.LONECARET]+l[c.XRANGEPLAINLOOSE]+"$",d("COMPARATORLOOSE"),l[c.COMPARATORLOOSE]="^"+l[c.GTLT]+"\\s*("+l[c.LOOSEPLAIN]+")$|^$",d("COMPARATOR"),l[c.COMPARATOR]="^"+l[c.GTLT]+"\\s*("+l[c.FULLPLAIN]+")$|^$",d("COMPARATORTRIM"),l[c.COMPARATORTRIM]="(\\s*)"+l[c.GTLT]+"\\s*("+l[c.LOOSEPLAIN]+"|"+l[c.XRANGEPLAIN]+")",i[c.COMPARATORTRIM]=new RegExp(l[c.COMPARATORTRIM],"g");var f="$1$2$3";d("HYPHENRANGE"),l[c.HYPHENRANGE]="^\\s*("+l[c.XRANGEPLAIN]+")\\s+-\\s+("+l[c.XRANGEPLAIN]+")\\s*$",d("HYPHENRANGELOOSE"),l[c.HYPHENRANGELOOSE]="^\\s*("+l[c.XRANGEPLAINLOOSE]+")\\s+-\\s+("+l[c.XRANGEPLAINLOOSE]+")\\s*$",d("STAR"),l[c.STAR]="(<|>)?=?\\s*\\*";for(var m=0;m<u;m++)a(m,l[m]),i[m]||(i[m]=new RegExp(l[m]));function v(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof y)return e;if("string"!==typeof e)return null;if(e.length>n)return null;var r=t.loose?i[c.LOOSE]:i[c.FULL];if(!r.test(e))return null;try{return new y(e,t)}catch(a){return null}}function b(e,t){var r=v(e,t);return r?r.version:null}function g(e,t){var r=v(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}function y(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof y){if(e.loose===t.loose)return e;e=e.version}else if("string"!==typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof y))return new y(e,t);a("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?i[c.LOOSE]:i[c.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}function w(e,t,r,a){"string"===typeof r&&(a=r,r=void 0);try{return new y(e,r).inc(t,a).version}catch(n){return null}}function x(e,t){if($(e,t))return null;var r=v(e),a=v(t),n="";if(r.prerelease.length||a.prerelease.length){n="pre";var s="prerelease"}for(var o in r)if(("major"===o||"minor"===o||"patch"===o)&&r[o]!==a[o])return n+o;return s}t.parse=v,t.valid=b,t.clean=g,t.SemVer=y,y.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},y.prototype.toString=function(){return this.version},y.prototype.compare=function(e){return a("SemVer.compare",this.version,this.options,e),e instanceof y||(e=new y(e,this.options)),this.compareMain(e)||this.comparePre(e)},y.prototype.compareMain=function(e){return e instanceof y||(e=new y(e,this.options)),E(this.major,e.major)||E(this.minor,e.minor)||E(this.patch,e.patch)},y.prototype.comparePre=function(e){if(e instanceof y||(e=new y(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(a("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return E(r,n)}while(++t)},y.prototype.compareBuild=function(e){e instanceof y||(e=new y(e,this.options));var t=0;do{var r=this.build[t],n=e.build[t];if(a("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return E(r,n)}while(++t)},y.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{var r=this.prerelease.length;while(--r>=0)"number"===typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=w,t.diff=x,t.compareIdentifiers=E;var S=/^[0-9]+$/;function E(e,t){var r=S.test(e),a=S.test(t);return r&&a&&(e=+e,t=+t),e===t?0:r&&!a?-1:a&&!r?1:e<t?-1:1}function k(e,t){return E(t,e)}function C(e,t){return new y(e,t).major}function _(e,t){return new y(e,t).minor}function O(e,t){return new y(e,t).patch}function T(e,t,r){return new y(e,r).compare(new y(t,r))}function R(e,t){return T(e,t,!0)}function N(e,t,r){var a=new y(e,r),n=new y(t,r);return a.compare(n)||a.compareBuild(n)}function I(e,t,r){return T(t,e,r)}function A(e,r){return e.sort((function(e,a){return t.compareBuild(e,a,r)}))}function L(e,r){return e.sort((function(e,a){return t.compareBuild(a,e,r)}))}function j(e,t,r){return T(e,t,r)>0}function M(e,t,r){return T(e,t,r)<0}function $(e,t,r){return 0===T(e,t,r)}function P(e,t,r){return 0!==T(e,t,r)}function F(e,t,r){return T(e,t,r)>=0}function D(e,t,r){return T(e,t,r)<=0}function q(e,t,r,a){switch(t){case"===":return"object"===typeof e&&(e=e.version),"object"===typeof r&&(r=r.version),e===r;case"!==":return"object"===typeof e&&(e=e.version),"object"===typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return $(e,r,a);case"!=":return P(e,r,a);case">":return j(e,r,a);case">=":return F(e,r,a);case"<":return M(e,r,a);case"<=":return D(e,r,a);default:throw new TypeError("Invalid operator: "+t)}}function B(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof B){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof B))return new B(e,t);a("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===U?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}t.rcompareIdentifiers=k,t.major=C,t.minor=_,t.patch=O,t.compare=T,t.compareLoose=R,t.compareBuild=N,t.rcompare=I,t.sort=A,t.rsort=L,t.gt=j,t.lt=M,t.eq=$,t.neq=P,t.gte=F,t.lte=D,t.cmp=q,t.Comparator=B;var U={};function z(e,t){if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof z)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new z(e.raw,t);if(e instanceof B)return new z(e.value,t);if(!(this instanceof z))return new z(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function V(e,t){var r=!0,a=e.slice(),n=a.pop();while(r&&a.length)r=a.every((function(e){return n.intersects(e,t)})),n=a.pop();return r}function G(e,t){return new z(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))}function W(e,t){return a("comp",e,t),e=K(e,t),a("caret",e),e=Y(e,t),a("tildes",e),e=Q(e,t),a("xrange",e),e=ee(e,t),a("stars",e),e}function H(e){return!e||"x"===e.toLowerCase()||"*"===e}function Y(e,t){return e.trim().split(/\s+/).map((function(e){return X(e,t)})).join(" ")}function X(e,t){var r=t.loose?i[c.TILDELOOSE]:i[c.TILDE];return e.replace(r,(function(t,r,n,s,o){var i;return a("tilde",e,t,r,n,s,o),H(r)?i="":H(n)?i=">="+r+".0.0 <"+(+r+1)+".0.0":H(s)?i=">="+r+"."+n+".0 <"+r+"."+(+n+1)+".0":o?(a("replaceTilde pr",o),i=">="+r+"."+n+"."+s+"-"+o+" <"+r+"."+(+n+1)+".0"):i=">="+r+"."+n+"."+s+" <"+r+"."+(+n+1)+".0",a("tilde return",i),i}))}function K(e,t){return e.trim().split(/\s+/).map((function(e){return J(e,t)})).join(" ")}function J(e,t){a("caret",e,t);var r=t.loose?i[c.CARETLOOSE]:i[c.CARET];return e.replace(r,(function(t,r,n,s,o){var i;return a("caret",e,t,r,n,s,o),H(r)?i="":H(n)?i=">="+r+".0.0 <"+(+r+1)+".0.0":H(s)?i="0"===r?">="+r+"."+n+".0 <"+r+"."+(+n+1)+".0":">="+r+"."+n+".0 <"+(+r+1)+".0.0":o?(a("replaceCaret pr",o),i="0"===r?"0"===n?">="+r+"."+n+"."+s+"-"+o+" <"+r+"."+n+"."+(+s+1):">="+r+"."+n+"."+s+"-"+o+" <"+r+"."+(+n+1)+".0":">="+r+"."+n+"."+s+"-"+o+" <"+(+r+1)+".0.0"):(a("no pr"),i="0"===r?"0"===n?">="+r+"."+n+"."+s+" <"+r+"."+n+"."+(+s+1):">="+r+"."+n+"."+s+" <"+r+"."+(+n+1)+".0":">="+r+"."+n+"."+s+" <"+(+r+1)+".0.0"),a("caret return",i),i}))}function Q(e,t){return a("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return Z(e,t)})).join(" ")}function Z(e,t){e=e.trim();var r=t.loose?i[c.XRANGELOOSE]:i[c.XRANGE];return e.replace(r,(function(r,n,s,o,i,l){a("xRange",e,r,n,s,o,i,l);var c=H(s),u=c||H(o),d=u||H(i),p=d;return"="===n&&p&&(n=""),l=t.includePrerelease?"-0":"",c?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&p?(u&&(o=0),i=0,">"===n?(n=">=",u?(s=+s+1,o=0,i=0):(o=+o+1,i=0)):"<="===n&&(n="<",u?s=+s+1:o=+o+1),r=n+s+"."+o+"."+i+l):u?r=">="+s+".0.0"+l+" <"+(+s+1)+".0.0"+l:d&&(r=">="+s+"."+o+".0"+l+" <"+s+"."+(+o+1)+".0"+l),a("xRange return",r),r}))}function ee(e,t){return a("replaceStars",e,t),e.trim().replace(i[c.STAR],"")}function te(e,t,r,a,n,s,o,i,l,c,u,d,p){return t=H(r)?"":H(a)?">="+r+".0.0":H(n)?">="+r+"."+a+".0":">="+t,i=H(l)?"":H(c)?"<"+(+l+1)+".0.0":H(u)?"<"+l+"."+(+c+1)+".0":d?"<="+l+"."+c+"."+u+"-"+d:"<="+i,(t+" "+i).trim()}function re(e,t,r){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(n=0;n<e.length;n++)if(a(e[n].semver),e[n].semver!==U&&e[n].semver.prerelease.length>0){var s=e[n].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}function ae(e,t,r){try{t=new z(t,r)}catch(a){return!1}return t.test(e)}function ne(e,t,r){var a=null,n=null;try{var s=new z(t,r)}catch(o){return null}return e.forEach((function(e){s.test(e)&&(a&&-1!==n.compare(e)||(a=e,n=new y(a,r)))})),a}function se(e,t,r){var a=null,n=null;try{var s=new z(t,r)}catch(o){return null}return e.forEach((function(e){s.test(e)&&(a&&1!==n.compare(e)||(a=e,n=new y(a,r)))})),a}function oe(e,t){e=new z(e,t);var r=new y("0.0.0");if(e.test(r))return r;if(r=new y("0.0.0-0"),e.test(r))return r;r=null;for(var a=0;a<e.set.length;++a){var n=e.set[a];n.forEach((function(e){var t=new y(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!j(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}return r&&e.test(r)?r:null}function ie(e,t){try{return new z(e,t).range||"*"}catch(r){return null}}function le(e,t,r){return ue(e,t,"<",r)}function ce(e,t,r){return ue(e,t,">",r)}function ue(e,t,r,a){var n,s,o,i,l;switch(e=new y(e,a),t=new z(t,a),r){case">":n=j,s=D,o=M,i=">",l=">=";break;case"<":n=M,s=F,o=j,i="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ae(e,t,a))return!1;for(var c=0;c<t.set.length;++c){var u=t.set[c],d=null,p=null;if(u.forEach((function(e){e.semver===U&&(e=new B(">=0.0.0")),d=d||e,p=p||e,n(e.semver,d.semver,a)?d=e:o(e.semver,p.semver,a)&&(p=e)})),d.operator===i||d.operator===l)return!1;if((!p.operator||p.operator===i)&&s(e,p.semver))return!1;if(p.operator===l&&o(e,p.semver))return!1}return!0}function de(e,t){var r=v(e,t);return r&&r.prerelease.length?r.prerelease:null}function pe(e,t,r){return e=new z(e,r),t=new z(t,r),e.intersects(t)}function he(e,t){if(e instanceof y)return e;if("number"===typeof e&&(e=String(e)),"string"!==typeof e)return null;t=t||{};var r=null;if(t.rtl){var a;while((a=i[c.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length))r&&a.index+a[0].length===r.index+r[0].length||(r=a),i[c.COERCERTL].lastIndex=a.index+a[1].length+a[2].length;i[c.COERCERTL].lastIndex=-1}else r=e.match(i[c.COERCE]);return null===r?null:v(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}B.prototype.parse=function(e){var t=this.options.loose?i[c.COMPARATORLOOSE]:i[c.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new y(r[2],this.options.loose):this.semver=U},B.prototype.toString=function(){return this.value},B.prototype.test=function(e){if(a("Comparator.test",e,this.options.loose),this.semver===U||e===U)return!0;if("string"===typeof e)try{e=new y(e,this.options)}catch(t){return!1}return q(e,this.operator,this.semver,this.options)},B.prototype.intersects=function(e,t){if(!(e instanceof B))throw new TypeError("a Comparator is required");var r;if(t&&"object"===typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(r=new z(e.value,t),ae(this.value,r,t));if(""===e.operator)return""===e.value||(r=new z(this.value,t),ae(e.semver,r,t));var a=(">="===this.operator||">"===this.operator)&&(">="===e.operator||">"===e.operator),n=("<="===this.operator||"<"===this.operator)&&("<="===e.operator||"<"===e.operator),s=this.semver.version===e.semver.version,o=(">="===this.operator||"<="===this.operator)&&(">="===e.operator||"<="===e.operator),i=q(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=q(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return a||n||s&&o||i||l},t.Range=z,z.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},z.prototype.toString=function(){return this.range},z.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?i[c.HYPHENRANGELOOSE]:i[c.HYPHENRANGE];e=e.replace(r,te),a("hyphen replace",e),e=e.replace(i[c.COMPARATORTRIM],f),a("comparator trim",e,i[c.COMPARATORTRIM]),e=e.replace(i[c.TILDETRIM],p),e=e.replace(i[c.CARETTRIM],h),e=e.split(/\s+/).join(" ");var n=t?i[c.COMPARATORLOOSE]:i[c.COMPARATOR],s=e.split(" ").map((function(e){return W(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(e){return!!e.match(n)}))),s=s.map((function(e){return new B(e,this.options)}),this),s},z.prototype.intersects=function(e,t){if(!(e instanceof z))throw new TypeError("a Range is required");return this.set.some((function(r){return V(r,t)&&e.set.some((function(e){return V(e,t)&&r.every((function(r){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=G,z.prototype.test=function(e){if(!e)return!1;if("string"===typeof e)try{e=new y(e,this.options)}catch(r){return!1}for(var t=0;t<this.set.length;t++)if(re(this.set[t],e,this.options))return!0;return!1},t.satisfies=ae,t.maxSatisfying=ne,t.minSatisfying=se,t.minVersion=oe,t.validRange=ie,t.ltr=le,t.gtr=ce,t.outside=ue,t.prerelease=de,t.intersects=pe,t.coerce=he}).call(this,r("07d9"))}}]);
//# sourceMappingURL=kubewarden-0.1.9.umd.min.vendors~edit.js.map