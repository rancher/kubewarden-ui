{"version":3,"sources":["webpack://kubewarden-2.1.5/./components/TraceTable.vue","webpack://kubewarden-2.1.5/./utils/duration-format.ts","webpack://kubewarden-2.1.5/./components/TraceChecklist.vue","webpack://kubewarden-2.1.5/components/TraceChecklist.vue","webpack://kubewarden-2.1.5/./components/TraceChecklist.vue?c473","webpack://kubewarden-2.1.5/./components/TraceChecklist.vue?17a3","webpack://kubewarden-2.1.5/components/TraceTable.vue","webpack://kubewarden-2.1.5/./components/TraceTable.vue?a899","webpack://kubewarden-2.1.5/./components/TraceTable.vue?a48d","webpack://kubewarden-2.1.5/./components/MetricsChecklist.vue?d309","webpack://kubewarden-2.1.5/./detail/policies.kubewarden.io.policyserver.vue","webpack://kubewarden-2.1.5/detail/policies.kubewarden.io.policyserver.vue","webpack://kubewarden-2.1.5/./detail/policies.kubewarden.io.policyserver.vue?5658","webpack://kubewarden-2.1.5/./detail/policies.kubewarden.io.policyserver.vue?dde1","webpack://kubewarden-2.1.5/./detail/policies.kubewarden.io.policyserver.vue?2c5e","webpack://kubewarden-2.1.5/./components/MetricsChecklist.vue?13c3","webpack://kubewarden-2.1.5/./components/MetricsTab.vue","webpack://kubewarden-2.1.5/./modules/grafana.ts","webpack://kubewarden-2.1.5/./modules/metricsConfig.ts","webpack://kubewarden-2.1.5/./components/MetricsChecklist.vue","webpack://kubewarden-2.1.5/components/MetricsChecklist.vue","webpack://kubewarden-2.1.5/./components/MetricsChecklist.vue?f44c","webpack://kubewarden-2.1.5/./components/MetricsChecklist.vue?806c","webpack://kubewarden-2.1.5/components/MetricsTab.vue","webpack://kubewarden-2.1.5/./components/MetricsTab.vue?0f48","webpack://kubewarden-2.1.5/./components/MetricsTab.vue?5f74","webpack://kubewarden-2.1.5/./utils/service.ts","webpack://kubewarden-2.1.5/./modules/jaegerTracing.ts","webpack://kubewarden-2.1.5/./detail/policies.kubewarden.io.policyserver.vue?c0d7","webpack://kubewarden-2.1.5/./components/TraceChecklist.vue?cacb","webpack://kubewarden-2.1.5/./detail/policies.kubewarden.io.admissionpolicy.vue","webpack://kubewarden-2.1.5/detail/policies.kubewarden.io.admissionpolicy.vue","webpack://kubewarden-2.1.5/./detail/policies.kubewarden.io.admissionpolicy.vue?9025","webpack://kubewarden-2.1.5/./detail/policies.kubewarden.io.admissionpolicy.vue?eb14","webpack://kubewarden-2.1.5/./components/TraceChecklist.vue?e320","webpack://kubewarden-2.1.5/./components/TraceChecklist.vue?5cef","webpack://kubewarden-2.1.5/./components/Policies/PolicyDetail.vue","webpack://kubewarden-2.1.5/./components/RulesTable.vue","webpack://kubewarden-2.1.5/components/RulesTable.vue","webpack://kubewarden-2.1.5/./components/RulesTable.vue?fa84","webpack://kubewarden-2.1.5/./components/RulesTable.vue?66d0","webpack://kubewarden-2.1.5/components/Policies/PolicyDetail.vue","webpack://kubewarden-2.1.5/./components/Policies/PolicyDetail.vue?2754","webpack://kubewarden-2.1.5/./components/Policies/PolicyDetail.vue?92e0","webpack://kubewarden-2.1.5/./detail/policies.kubewarden.io.clusteradmissionpolicy.vue","webpack://kubewarden-2.1.5/detail/policies.kubewarden.io.clusteradmissionpolicy.vue","webpack://kubewarden-2.1.5/./detail/policies.kubewarden.io.clusteradmissionpolicy.vue?50e4","webpack://kubewarden-2.1.5/./detail/policies.kubewarden.io.clusteradmissionpolicy.vue?0db9","webpack://kubewarden-2.1.5/./detail/policies.kubewarden.io.policyserver.vue?d40e","webpack://kubewarden-2.1.5/./components/MetricsChecklist.vue?008c","webpack://kubewarden-2.1.5/./assets lazy ^\\.\\/.*\\.json$ namespace object"],"names":["render","_vm","this","_c","_self","$fetchState","pending","refreshingCharts","attrs","hasAvailability","showChecklist","controllerApp","controllerChart","tracingConfiguration","jaegerQuerySvc","openTelSvc","outdatedTelemetrySpec","unsupportedTelemetrySpec","incompleteTelemetrySpec","emptyPolicies","t","showTable","filteredValidations","TRACE_HEADERS","rowsPerPage","scopedSlots","_u","key","fn","row","staticClass","mode","modeColor","_v","_s","name","namespace","formatTime","startTime","duration","fullColspan","responseMessage","responseCode","mutated","emptyTracesLabel","type","staticRenderFns","dayjs","extend","_duration","ONE_MILLISECOND","ONE_SECOND","ONE_MINUTE","ONE_HOUR","ONE_DAY","UNIT_STEPS","unit","microseconds","ofPrevious","formatDuration","primaryUnit","secondaryUnit","_dropWhile","index","length","_round","primaryValue","Math","floor","primaryUnitString","secondaryValue","round","secondaryUnitString","class","badgeIcon","directives","rawName","value","expression","_e","tracingEnabled","controllerLinkTooltip","controllerLinkDisabled","on","controllerAppRoute","props","Object","default","Boolean","components","Banner","computed","mapGetters","chart","enabled","methods","prop","_this$controllerApp$s","_metadata$annotations","_metadata$annotations2","_metadata$annotations3","_metadata$annotations4","_metadata$annotations5","_this$currentCluster","metadata","spec","query","NAMESPACE","annotations","CATALOG","NAME","RELEASE_NAME","VERSION","REPO","SOURCE_REPO_NAME","REPO_TYPE","SOURCE_REPO_TYPE","CHART","$router","push","params","cluster","currentCluster","id","component","relativeTime","resource","String","relatedPolicies","Array","policy","BadgeState","Loading","SortableTable","TraceChecklist","mixins","ResourceFetch","fetchData","data","MODE_MAP","OPERATION_MAP","isAdminUser","permissions","policyServer","app","clusterRepo","service","specificValidations","charts","allApps","$store","getters","APP","allServices","SERVICE","_this$allApps","find","_app$spec","KUBEWARDEN_CHARTS","CONTROLLER","_this$charts","chartName","groupField","isPolicyServer","KUBEWARDEN","POLICY_SERVER","isEmpty","emptyTraces","values","every","_this$controllerApp","_this$controllerApp2","_this$controllerApp3","version","telemetry","semver","gte","_telemetry$sidecar","_telemetry$sidecar2","tracingIsUndefinedOrBoolean","undefined","tracing","endpointIsDefined","sidecar","jaeger","endpoint","_telemetry$tracing","jaegerServices","_this$allServices","filter","svc","_svc$metadata","labels","_svc$spec","ports","p","port","openTelemetryServices","_this$allServices2","_svc$metadata2","KUBERNETES","MANAGED_NAME","_svc$spec2","flatMap","v","traces","setAdminUser","setPermissions","fetchCanListResources","handleJaegerTracing","fetchControllerAppValues","types","CLUSTER_REPO","entries","forEach","canListTypes","promises","$fetchType","allHash","options","store","queryService","jaegerTraces","fetchValues","opColor","op","time","policyGauges","_l","group","relatedPoliciesTotal","count","color","tracesGauges","traceGaugeTotals","model","callback","$$v","RELATED_HEADERS","groupPreference","operation","proxy","active","CountGauge","MetricsTab","ResourceTabs","ResourceTable","Tab","TraceTable","CreateEditView","_CREATE","required","hash","allRelatedPolicies","assignIfNotEmpty","reloadRequired","policyTraces","_group","mapPref","GROUP_RESOURCES","filteredTraces","policyTraceObj","out","_this$filteredTraces","hasNamespaceSelector","namespaceSelector","___CSS_LOADER_API_IMPORT___","exports","module","i","cattleDashboardNs","conflictingGrafanaDashboards","kubewardenServiceMonitor","kubewardenGrafanaDashboards","metricsConfiguration","monitoringApp","monitoringChart","policyObj","policyServerObj","outdatedServiceMonitor","updateServiceMonitors","updateServiceMonitorLabels","metricsProxy","policyName","async","grafanaProxy","config","grafana","grafanaService","base","path","e","handleGrowl","error","dispatch","root","findKubewardenDashboards","CONFIG_MAP","selector","addKubewardenDashboards","dashboardEnums","KubewardenDashboards","_existing$metadata","file","fileKey","existing","KubewardenDashboardLabels","DASHBOARD","PART_OF","GRAFANA_DASHBOARD","HelmAnnotations","configMapTemplate","JSON","stringify","save","findServiceMonitor","allServiceMonitors","_policyObj$spec","policyServerName","sm","_sm$spec","matchLabels","isPolicyServerResource","addKubewardenServiceMonitor","controllerNs","serviceMonitor","MONITORING","SERVICEMONITOR","_policyObj$spec3","_policyServerObj","_policyServerObj2","_policyServerObj3","_policyObj$spec2","policyServerID","defaultLabels","_policyServerObj4","serviceMonitorTemplate","apiVersion","kind","endpoints","interval","matchNames","serviceMonitorObj","isServiceMonitorOutOfDate","ps","_ps$metadata","_sm$spec2","psLabels","smLabels","newLabels","psIsNewStyle","smHasNewLabels","monitoringLinkTooltip","$event","monitoringAppRoute","monitoringChartLink","updateServiceMonitorsTooltip","updateServiceMonitorButtonDisabled","updateServiceMonitor","serviceMonitorsTooltip","serviceMonitorButtonDisabled","addServiceMonitor","hasKubewardenDashboards","dashboardsTooltip","dashboardButtonDisabled","addDashboards","showConflictingDashboardsBanner","configMap","detailLocation","kubewardenDashboards","AsyncButton","_this$controllerApp$m","btnCb","$emit","_this$policyServerObj","_this$policyObj","psName","err","isArray","emptyProp","goToInstall","_this$monitoringApp$m","_this$monitoringApp$m2","_this$monitoringApp$s","_this$monitoringApp$s2","_this$monitoringApp$s3","_this$monitoringApp$s4","_this$currentCluster2","DashboardMetrics","MetricsChecklist","METRICS_TYPE","POLICY","metricsService","debouncedRefreshCharts","watch","dashboardExists","monitoringStatus","jaegerPolicyName","allRepos","allConfigMaps","allNamespaces","allPolicyServers","_this$allNamespaces","ns","_ns$metadata","_this$allConfigMaps","_configMap$metadata","monitoringServices","_this$allConfigMaps2","_configMap$metadata2","_this$controllerApp4","metricsIsUndefinedOrBoolean","metrics","_telemetry$metrics","_this$allApps2","_app$spec2","_this$charts2","_svc$metadata3","policyServerSvcs","policyServerNames","map","_svc$metadata4","missingDependencies","some","initDebouncedRefreshCharts","fetchResourcesData","refreshChartsIfNeeded","handleGrafanaDashboard","debounce","init","refreshCharts","resourceMap","property","reduce","acc","installed","_statusText","message","handleMetricsChecklist","val","proxyUrl","view","links","idx","lastIndexOf","proxyUrlFromBase","slice","scheme","schemaNamePort","encodeURIComponent","cleanPath","replace","cleanBase","Error","jaegerTraceRequest","res","Promise","all","o","scaffoldPolicyTrace","console","warn","_policy$metadata","_policy$metadata2","_policy$metadata3","apiPath","lookbackTime","JAEGER_PATH","url","filterTraces","trace","_validationSpan$tags","validationSpan","spans","span","operationName","matchedTag","tags","tag","convertedTags","convertTagsToObject","traceID","allowed","response_message","response_code","updatedTrace","relatedPolicy","relatedTraces","arr","result","item","parseInt","parseFloat","content","__esModule","locals","add","PolicyDetail","hasRelationships","policyReadme","hasRules","rulesRows","rows","RULE_HEADERS","apiGroups","apiVersions","joinColumn","operations","resources","join","Markdown","RulesTable","_this$value","ARTIFACTHUB_PKG_ANNOTATION","artifactHubPackage","artifactHubPackageVersion","readme","parse","dashboardVars","_this$value2","policy_name","_this$value3","relationships","_this$rulesRows","_this$value4","rules","webpackAsyncContext","req","__webpack_require__","resolve","then","code","ids","keys"],"mappings":"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","file":"kubewarden-2.1.5.umd.min.detail.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.$fetchState.pending || _vm.refreshingCharts)?_c('Loading',{attrs:{\"mode\":\"relative\"}}):_c('div',[(!_vm.hasAvailability)?_c('Banner',{staticClass:\"mt-20 mb-20\",attrs:{\"color\":\"error\",\"data-testid\":\"kw-unavailability-banner\",\"label\":_vm.t('kubewarden.unavailability.banner', { type: _vm.t('kubewarden.unavailability.type.tracingDashboard') })}}):(_vm.showChecklist)?_c('TraceChecklist',{attrs:{\"controller-app\":_vm.controllerApp,\"controller-chart\":_vm.controllerChart,\"tracing-configuration\":_vm.tracingConfiguration,\"jaeger-query-svc\":_vm.jaegerQuerySvc,\"open-tel-svc\":_vm.openTelSvc,\"outdated-telemetry-spec\":_vm.outdatedTelemetrySpec,\"unsupported-telemetry-spec\":_vm.unsupportedTelemetrySpec,\"incomplete-telemetry-spec\":_vm.incompleteTelemetrySpec}}):(!_vm.showChecklist && _vm.emptyPolicies)?_c('Banner',{attrs:{\"color\":\"error\",\"label\":_vm.t('kubewarden.tracing.noRelatedPolicies')}}):(_vm.showTable)?_c('SortableTable',{attrs:{\"rows\":_vm.filteredValidations,\"headers\":_vm.TRACE_HEADERS,\"table-actions\":false,\"row-actions\":false,\"key-field\":\"id\",\"default-sort-by\":\"startTime\",\"sub-expandable\":true,\"sub-expand-column\":true,\"sub-rows\":true,\"paging\":true,\"rows-per-page\":_vm.rowsPerPage},scopedSlots:_vm._u([{key:\"col:mode\",fn:function({row}){return [_c('td',[_c('BadgeState',{staticClass:\"text-capitalize\",attrs:{\"label\":row.mode,\"color\":_vm.modeColor(row.mode)}})],1)]}},{key:\"col:name\",fn:function({row}){return [_c('td',{staticClass:\"text-bold\"},[_vm._v(\" \"+_vm._s(row.name)+\" \")])]}},{key:\"col:namespace\",fn:function({row}){return [_c('td',[_vm._v(\" \"+_vm._s(row.namespace ? row.namespace : '-')+\" \")])]}},{key:\"col:startTime\",fn:function({row}){return [_c('td',[_vm._v(\" \"+_vm._s(_vm.formatTime(row.startTime))+\" \")])]}},{key:\"col:duration\",fn:function({row}){return [_c('td',[_vm._v(\" \"+_vm._s(_vm.duration(row.duration))+\" \")])]}},{key:\"sub-row\",fn:function({row, fullColspan}){return [_c('td',{staticClass:\"sub-row\",attrs:{\"colspan\":fullColspan}},[_c('div',{staticClass:\"details\"},[_c('section',{staticClass:\"col\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Response Message\")]),_c('span',{staticClass:\"text-info text-capitalize\"},[_vm._v(\" \"+_vm._s(row.responseMessage ? row.responseMessage : '-')+\" \")])]),_c('section',{staticClass:\"col\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Response Code\")]),_c('span',{staticClass:\"text-info\"},[_vm._v(\" \"+_vm._s(row.responseCode ? row.responseCode : '-')+\" \")])]),_c('section',{staticClass:\"col\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Mutated\")]),_c('span',{staticClass:\"text-info\"},[_vm._v(\" \"+_vm._s(row.mutated)+\" \")])])])])]}}])}):_c('Banner',{attrs:{\"color\":\"warning\",\"label\":_vm.t(_vm.emptyTracesLabel)}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import dayjs from 'dayjs';\nimport _dropWhile from 'lodash/dropWhile';\nimport _round from 'lodash/round';\nimport _duration from 'dayjs/plugin/duration';\n\ndayjs.extend(_duration);\n\nexport const STANDARD_DATE_FORMAT = 'YYYY-MM-DD';\nexport const STANDARD_TIME_FORMAT = 'HH:mm';\nexport const STANDARD_DATETIME_FORMAT = 'MMMM D YYYY, HH:mm:ss.SSS';\n\n/** @constant 1ms as the number of microseconds, which is the precision of Jaeger timestamps */\nexport const ONE_MILLISECOND = 1000 * 1;\n\nconst ONE_SECOND = 1000 * ONE_MILLISECOND;\nconst ONE_MINUTE = 60 * ONE_SECOND;\nconst ONE_HOUR = 60 * ONE_MINUTE;\nconst ONE_DAY = 24 * ONE_HOUR;\n\nconst UNIT_STEPS: { unit: string; microseconds: number; ofPrevious: number }[] = [\n  {\n    unit: 'd', microseconds: ONE_DAY, ofPrevious: 24\n  },\n  {\n    unit: 'h', microseconds: ONE_HOUR, ofPrevious: 60\n  },\n  {\n    unit: 'm', microseconds: ONE_MINUTE, ofPrevious: 60\n  },\n  {\n    unit: 's', microseconds: ONE_SECOND, ofPrevious: 1000\n  },\n  {\n    unit: 'ms', microseconds: ONE_MILLISECOND, ofPrevious: 1000\n  },\n  {\n    unit: 's', microseconds: 1, ofPrevious: 1000\n  },\n];\n\nexport function formatDuration(duration: number): string {\n  // Drop all units that are too large except the last one\n  const [primaryUnit, secondaryUnit] = _dropWhile(\n    UNIT_STEPS,\n    ({ microseconds }, index) => index < UNIT_STEPS.length - 1 && microseconds > duration\n  );\n\n  if (primaryUnit.ofPrevious === 1000) {\n    // If the unit is decimal based, display as a decimal\n    return `${ _round(duration / primaryUnit.microseconds, 2) }${ primaryUnit.unit }`;\n  }\n\n  const primaryValue = Math.floor(duration / primaryUnit.microseconds);\n  const primaryUnitString = `${ primaryValue }${ primaryUnit.unit }`;\n  const secondaryValue = Math.round((duration / secondaryUnit.microseconds) % primaryUnit.ofPrevious);\n  const secondaryUnitString = `${ secondaryValue }${ secondaryUnit.unit }`;\n\n  return secondaryValue === 0 ? primaryUnitString : `${ primaryUnitString } ${ secondaryUnitString }`;\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('p',{staticClass:\"checklist__description mb-20\",attrs:{\"data-testid\":\"kw-tracing-checklist-description\"}},[_vm._v(\" \"+_vm._s(_vm.t('kubewarden.tracing.description'))+\" \")]),_c('div',{staticClass:\"checklist__prereq mb-20\"},[_c('h2',[_vm._v(_vm._s(_vm.t('kubewarden.tracing.prerequisites.label')))]),_c('p',[_vm._v(_vm._s(_vm.t('kubewarden.tracing.prerequisites.description')))])]),_c('Banner',{attrs:{\"color\":\"warning\",\"label\":_vm.t('kubewarden.tracing.prerequisites.warning')}}),_c('div',{staticClass:\"checklist__container mt-20 mb-20\"},[_c('div',{staticClass:\"checklist__step mt-20 mb-20\",attrs:{\"data-testid\":\"kw-tracing-checklist-step-open-tel\"}},[_c('i',{staticClass:\"icon mr-10\",class:_vm.badgeIcon(_vm.openTelSvc)}),_c('p',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.t('kubewarden.tracing.openTelemetry', {}, true)),expression:\"t('kubewarden.tracing.openTelemetry', {}, true)\"}]})]),_c('div',{staticClass:\"checklist__step mb-20\",attrs:{\"data-testid\":\"kw-tracing-checklist-step-jaeger\"}},[_c('i',{staticClass:\"icon mr-10\",class:_vm.badgeIcon(_vm.jaegerQuerySvc)}),_c('p',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.t('kubewarden.tracing.jaeger', {}, true)),expression:\"t('kubewarden.tracing.jaeger', {}, true)\"}],attrs:{\"p\":\"\"}})]),_c('div',[(_vm.outdatedTelemetrySpec)?_c('Banner',{attrs:{\"color\":\"error\",\"label\":_vm.t('kubewarden.tracing.prerequisites.outdated')}}):_vm._e(),(_vm.unsupportedTelemetrySpec)?_c('Banner',{attrs:{\"color\":\"error\",\"label\":_vm.t('kubewarden.tracing.prerequisites.unsupported')}}):_vm._e(),(_vm.incompleteTelemetrySpec)?_c('Banner',{attrs:{\"color\":\"error\",\"label\":_vm.t('kubewarden.tracing.prerequisites.incomplete')}}):_vm._e()],1),_c('div',{staticClass:\"checklist__step mb-20\",attrs:{\"data-testid\":\"kw-tracing-checklist-step-config\"}},[_c('i',{staticClass:\"icon mr-10\",class:_vm.badgeIcon(_vm.tracingEnabled)}),_c('div',{staticClass:\"checklist__config\"},[_c('p',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.t('kubewarden.tracing.config.label', {}, true)),expression:\"t('kubewarden.tracing.config.label', {}, true)\"}]}),_c('button',{directives:[{name:\"clean-tooltip\",rawName:\"v-clean-tooltip\",value:(_vm.controllerLinkTooltip),expression:\"controllerLinkTooltip\"}],staticClass:\"btn role-primary ml-10\",attrs:{\"data-testid\":\"kw-tracing-checklist-step-config-button\",\"disabled\":_vm.controllerLinkDisabled},on:{\"click\":_vm.controllerAppRoute}},[_vm._v(\" \"+_vm._s(_vm.t(\"kubewarden.tracing.config.link\"))+\" \")])])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\n\nimport { CATALOG } from '@shell/config/labels-annotations';\nimport {\n  REPO_TYPE, REPO, CHART, NAME, VERSION, NAMESPACE\n} from '@shell/config/query-params';\n\nimport { Banner } from '@components/Banner';\n\nexport default {\n  props: {\n    controllerApp: {\n      type:    Object,\n      default: null\n    },\n    controllerChart: {\n      type:    Object,\n      default: null\n    },\n    tracingConfiguration: {\n      type:    Object,\n      default: null\n    },\n    jaegerQuerySvc: {\n      type:    Object,\n      default: null\n    },\n    openTelSvc: {\n      type:    Object,\n      default: null\n    },\n    outdatedTelemetrySpec: {\n      type:    Boolean,\n      default: false\n    },\n    unsupportedTelemetrySpec: {\n      type:    Boolean,\n      default: false\n    },\n    incompleteTelemetrySpec: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  components: { Banner },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n\n    controllerLinkTooltip() {\n      if ( !this.openTelSvc || !this.jaegerQuerySvc ) {\n        return this.t('kubewarden.monitoring.prerequisites.tooltips.prerequisites');\n      }\n\n      if ( !this.controllerApp || !this.controllerChart ) {\n        return this.t('kubewarden.monitoring.prerequisites.tooltips.chartError', { chart: 'Kubewarden Controller' }, true);\n      }\n\n      return null;\n    },\n\n    controllerLinkDisabled() {\n      return !this.openTelSvc || !this.jaegerQuerySvc || !this.controllerApp || !this.controllerChart;\n    },\n\n    tracingEnabled() {\n      if ( this.tracingConfiguration ) {\n        return this.tracingConfiguration.enabled;\n      }\n\n      return null;\n    }\n  },\n\n  methods: {\n    badgeIcon(prop) {\n      return {\n        'icon-dot-open': !prop, 'icon-checkmark': prop, 'text-success': prop\n      };\n    },\n\n    controllerAppRoute() {\n      if ( this.controllerApp ) {\n        const metadata = this.controllerApp.spec?.chart?.metadata;\n\n        const query = {\n          [NAMESPACE]: metadata?.annotations?.[CATALOG.NAMESPACE],\n          [NAME]:      metadata?.annotations?.[CATALOG.RELEASE_NAME],\n          [VERSION]:   metadata?.annotations?.['catalog.cattle.io/upstream-version'],\n          [REPO]:      metadata?.annotations?.[CATALOG.SOURCE_REPO_NAME],\n          [REPO_TYPE]: metadata?.annotations?.[CATALOG.SOURCE_REPO_TYPE],\n          [CHART]:     metadata?.name\n        };\n\n        this.$router.push({\n          name:   'c-cluster-apps-charts-install',\n          params: { cluster: this.currentCluster?.id || '_' },\n          query,\n        });\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <p class=\"checklist__description mb-20\" data-testid=\"kw-tracing-checklist-description\">\n      {{ t('kubewarden.tracing.description') }}\n    </p>\n    <div class=\"checklist__prereq mb-20\">\n      <h2>{{ t('kubewarden.tracing.prerequisites.label') }}</h2>\n      <p>{{ t('kubewarden.tracing.prerequisites.description') }}</p>\n    </div>\n    <Banner\n      color=\"warning\"\n      :label=\"t('kubewarden.tracing.prerequisites.warning')\"\n    />\n    <div class=\"checklist__container mt-20 mb-20\">\n      <div class=\"checklist__step mt-20 mb-20\" data-testid=\"kw-tracing-checklist-step-open-tel\">\n        <i class=\"icon mr-10\" :class=\"badgeIcon(openTelSvc)\" />\n        <p v-clean-html=\"t('kubewarden.tracing.openTelemetry', {}, true)\" />\n      </div>\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-tracing-checklist-step-jaeger\">\n        <i class=\"icon mr-10\" :class=\"badgeIcon(jaegerQuerySvc)\" />\n        <p v-clean-html=\"t('kubewarden.tracing.jaeger', {}, true)\" p />\n      </div>\n\n      <!-- Telemetry banners -->\n      <div>\n        <Banner\n          v-if=\"outdatedTelemetrySpec\"\n          color=\"error\"\n          :label=\"t('kubewarden.tracing.prerequisites.outdated')\"\n        />\n        <Banner\n          v-if=\"unsupportedTelemetrySpec\"\n          color=\"error\"\n          :label=\"t('kubewarden.tracing.prerequisites.unsupported')\"\n        />\n        <Banner\n          v-if=\"incompleteTelemetrySpec\"\n          color=\"error\"\n          :label=\"t('kubewarden.tracing.prerequisites.incomplete')\"\n        />\n      </div>\n\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-tracing-checklist-step-config\">\n        <i class=\"icon mr-10\" :class=\"badgeIcon(tracingEnabled)\" />\n        <div class=\"checklist__config\">\n          <p v-clean-html=\"t('kubewarden.tracing.config.label', {}, true)\" />\n          <button\n            v-clean-tooltip=\"controllerLinkTooltip\"\n            data-testid=\"kw-tracing-checklist-step-config-button\"\n            class=\"btn role-primary ml-10\"\n            :disabled=\"controllerLinkDisabled\"\n            @click=\"controllerAppRoute\"\n          >\n            {{ t(\"kubewarden.tracing.config.link\") }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.checklist {\n  &__container {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    border: 1px solid var(--border);\n    padding: 10px;\n  }\n\n  &__step, &__config {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n  }\n\n  &__step {\n    min-height: 40px;\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TraceChecklist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TraceChecklist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TraceChecklist.vue?vue&type=template&id=f489d41c&scoped=true&\"\nimport script from \"./TraceChecklist.vue?vue&type=script&lang=js&\"\nexport * from \"./TraceChecklist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TraceChecklist.vue?vue&type=style&index=0&id=f489d41c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f489d41c\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { mapGetters } from 'vuex';\nimport isEmpty from 'lodash/isEmpty';\nimport semver from 'semver';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\nimport { CATALOG, SERVICE } from '@shell/config/types';\nimport { KUBERNETES } from '@shell/config/labels-annotations';\nimport ResourceFetch from '@shell/mixins/resource-fetch';\nimport { allHash } from '@shell/utils/promise';\n\nimport { BadgeState } from '@components/BadgeState';\nimport { Banner } from '@components/Banner';\nimport Loading from '@shell/components/Loading';\nimport SortableTable from '@shell/components/SortableTable';\n\nimport { TRACE_HEADERS } from '../config/table-headers';\nimport { KUBEWARDEN, KUBEWARDEN_CHARTS, MODE_MAP, OPERATION_MAP } from '../types';\nimport { jaegerTraces } from '../modules/jaegerTracing';\nimport { isAdminUser } from '../utils/permissions';\nimport { formatDuration } from '../utils/duration-format';\n\nimport TraceChecklist from './TraceChecklist';\n\ndayjs.extend(relativeTime);\n\nexport default {\n  props: {\n    resource: {\n      type:    String,\n      default: () => ''\n    },\n    relatedPolicies: {\n      type:    Array,\n      default: () => []\n    },\n    policy: {\n      type:    Object,\n      default: () => {}\n    }\n  },\n\n  components: {\n    BadgeState, Banner, Loading, SortableTable, TraceChecklist\n  },\n\n  mixins: [ResourceFetch],\n\n  async fetch() {\n    await this.fetchData();\n  },\n\n  data() {\n    return {\n      MODE_MAP,\n      TRACE_HEADERS,\n      OPERATION_MAP,\n\n      isAdminUser: false,\n      permissions: {\n        policyServer: false,\n        app:          false,\n        clusterRepo:  false,\n        service:      false\n      },\n\n      specificValidations:      null,\n      outdatedTelemetrySpec:    false,\n      unsupportedTelemetrySpec: false,\n      incompleteTelemetrySpec: false\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n    ...mapGetters({ charts: 'catalog/charts', refreshingCharts: 'kubewarden/refreshingCharts' }),\n\n    allApps() {\n      return this.$store.getters['cluster/all'](CATALOG.APP);\n    },\n\n    allServices() {\n      return this.$store.getters['cluster/all'](SERVICE);\n    },\n\n    controllerApp() {\n      return this.allApps?.find(\n        (app) => app?.spec?.chart?.metadata?.name === KUBEWARDEN_CHARTS.CONTROLLER\n      );\n    },\n\n    controllerChart() {\n      return this.charts?.find(\n        (chart) => chart?.chartName === KUBEWARDEN_CHARTS.CONTROLLER\n      );\n    },\n\n    groupField() {\n      return this.isPolicyServer ? 'policy_id' : null;\n    },\n\n    isPolicyServer() {\n      return this.resource === KUBEWARDEN.POLICY_SERVER;\n    },\n\n    emptyPolicies() {\n      return this.resource === KUBEWARDEN.POLICY_SERVER ? isEmpty(this.relatedPolicies) : isEmpty(this.policy);\n    },\n\n    emptyTraces() {\n      return isEmpty(this.filteredValidations);\n    },\n\n    emptyTracesLabel() {\n      return this.resource === KUBEWARDEN.POLICY_SERVER ? 'kubewarden.tracing.noRelatedTraces' : 'kubewarden.tracing.noTraces';\n    },\n\n    hasAvailability() {\n      return this.isAdminUser || Object.values(this.permissions).every((value) => value);\n    },\n\n    rowsPerPage() {\n      return this.isPolicyServer ? 40 : 20;\n    },\n\n    tracingConfiguration() {\n      if (!this.controllerApp?.values) {\n        return null;\n      }\n\n      const version = this.controllerApp?.spec?.chart?.metadata?.version;\n      const telemetry = this.controllerApp?.values?.telemetry;\n\n      if (semver.gte(version, '4.0.0-0')) {\n        const tracingIsUndefinedOrBoolean =\n          telemetry?.tracing === undefined || typeof telemetry?.tracing === 'boolean';\n        const endpointIsDefined = !!telemetry?.sidecar?.tracing?.jaeger?.endpoint;\n        if (telemetry?.mode === 'custom') {\n          this.unsupportedTelemetrySpec = true;\n\n          return null;\n        }\n        if (!tracingIsUndefinedOrBoolean) {\n          this.outdatedTelemetrySpec = true;\n\n          return null;\n        }\n        if (telemetry?.tracing === true && !endpointIsDefined) {\n          this.incompleteTelemetrySpec = true;\n\n          return null;\n        }\n        if (telemetry?.tracing !== true) {\n          return null;\n        }\n\n        return telemetry?.sidecar?.tracing;\n      } else {\n        return telemetry?.tracing?.enabled;\n      }\n    },\n\n    jaegerServices() {\n      return this.allServices?.filter(\n        (svc) => svc?.metadata?.labels?.['app.kubernetes.io/part-of'] === 'jaeger'\n      );\n    },\n\n    jaegerQuerySvc() {\n      if ( !isEmpty(this.jaegerServices) ) {\n        return this.jaegerServices.find((svc) => {\n          const ports = svc?.spec?.ports;\n\n          if ( ports.length ) {\n            return ports.find(p => p.port === 16685 || p.port === 16686);\n          }\n        });\n      }\n\n      return null;\n    },\n\n    openTelemetryServices() {\n      return this.allServices?.filter(\n        (svc) => svc?.metadata?.labels?.[KUBERNETES.MANAGED_NAME] === 'opentelemetry-operator'\n      );\n    },\n\n    openTelSvc() {\n      if ( !isEmpty(this.openTelemetryServices) ) {\n        return this.openTelemetryServices.find((svc) => {\n          const ports = svc?.spec?.ports;\n\n          if ( ports.length ) {\n            return ports.find(p => p.port === 8080);\n          }\n        });\n      }\n\n      return null;\n    },\n\n    showChecklist() {\n      return (!this.openTelSvc || !this.jaegerQuerySvc || !this.tracingConfiguration);\n    },\n\n    showTable() {\n      return (!this.emptyPolicies && !this.showChecklist && !this.emptyTraces);\n    },\n\n    filteredValidations() {\n      if ( !isEmpty(this.specificValidations) ) {\n        return this.specificValidations.flatMap((v) => {\n          return this.currentCluster?.id === v.cluster ? v.traces : [];\n        });\n      }\n\n      return [];\n    }\n  },\n\n  methods: {\n    async fetchData() {\n      this.setAdminUser();\n      this.setPermissions();\n      await this.fetchCanListResources();\n      await this.handleJaegerTracing();\n      await this.fetchControllerAppValues();\n    },\n\n    setAdminUser() {\n      this.isAdminUser = isAdminUser(this.$store.getters);\n    },\n\n    setPermissions() {\n      const types = {\n        policyServer: { type: KUBEWARDEN.POLICY_SERVER },\n        app:          { type: CATALOG.APP },\n        clusterRepo:  { type: CATALOG.CLUSTER_REPO },\n        service:      { type: SERVICE }\n      };\n\n      Object.entries(types).forEach(([key, value]) => {\n        if (this.$store.getters['cluster/canList'](value)) {\n          this.permissions[key] = true;\n        }\n      });\n    },\n\n    async fetchCanListResources() {\n      const canListTypes = [CATALOG.APP, CATALOG.CLUSTER_REPO, SERVICE];\n      const promises = [];\n\n      canListTypes.forEach((type) => {\n        if (this.$store.getters['cluster/canList'](type)) {\n          promises.push(this.$fetchType(type));\n        }\n      });\n\n      await allHash(promises);\n    },\n\n    async handleJaegerTracing() {\n      if (this.jaegerQuerySvc) {\n        const options = {\n          store:           this.$store,\n          queryService:    this.jaegerQuerySvc,\n          resource:        this.resource,\n          relatedPolicies: null,\n          policy:          null\n        };\n\n        if (this.resource === KUBEWARDEN.POLICY_SERVER) {\n          options.relatedPolicies = this.relatedPolicies;\n        } else {\n          options.policy = this.policy;\n        }\n\n        this.specificValidations = await jaegerTraces(options);\n      }\n    },\n\n    async fetchControllerAppValues() {\n      if (this.controllerApp) {\n        await this.controllerApp.fetchValues(true);\n      }\n    },\n\n    modeColor(mode) {\n      return this.MODE_MAP[mode];\n    },\n\n    opColor(op) {\n      return this.OPERATION_MAP[op];\n    },\n\n    formatTime(time) {\n      return dayjs(time / 1000);\n    },\n\n    duration(duration) {\n      return formatDuration(duration);\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending || refreshingCharts\" mode=\"relative\" />\n  <div v-else>\n    <Banner\n      v-if=\"!hasAvailability\"\n      color=\"error\"\n      class=\"mt-20 mb-20\"\n      data-testid=\"kw-unavailability-banner\"\n      :label=\"t('kubewarden.unavailability.banner', { type: t('kubewarden.unavailability.type.tracingDashboard') })\"\n    />\n\n    <TraceChecklist\n      v-else-if=\"showChecklist\"\n      :controller-app=\"controllerApp\"\n      :controller-chart=\"controllerChart\"\n      :tracing-configuration=\"tracingConfiguration\"\n      :jaeger-query-svc=\"jaegerQuerySvc\"\n      :open-tel-svc=\"openTelSvc\"\n      :outdated-telemetry-spec=\"outdatedTelemetrySpec\"\n      :unsupported-telemetry-spec=\"unsupportedTelemetrySpec\"\n      :incomplete-telemetry-spec=\"incompleteTelemetrySpec\"\n    />\n\n    <Banner\n      v-else-if=\"!showChecklist && emptyPolicies\"\n      color=\"error\"\n      :label=\"t('kubewarden.tracing.noRelatedPolicies')\"\n    />\n\n    <SortableTable\n      v-else-if=\"showTable\"\n      :rows=\"filteredValidations\"\n      :headers=\"TRACE_HEADERS\"\n      :table-actions=\"false\"\n      :row-actions=\"false\"\n      key-field=\"id\"\n      default-sort-by=\"startTime\"\n      :sub-expandable=\"true\"\n      :sub-expand-column=\"true\"\n      :sub-rows=\"true\"\n      :paging=\"true\"\n      :rows-per-page=\"rowsPerPage\"\n    >\n      <template #col:mode=\"{row}\">\n        <td>\n          <BadgeState\n            :label=\"row.mode\"\n            :color=\"modeColor(row.mode)\"\n            class=\"text-capitalize\"\n          />\n        </td>\n      </template>\n\n      <template #col:name=\"{row}\">\n        <td class=\"text-bold\">\n          {{ row.name }}\n        </td>\n      </template>\n\n      <template #col:namespace=\"{row}\">\n        <td>\n          {{ row.namespace ? row.namespace : '-' }}\n        </td>\n      </template>\n\n      <template #col:startTime=\"{row}\">\n        <td>\n          {{ formatTime(row.startTime) }}\n        </td>\n      </template>\n\n      <template #col:duration=\"{row}\">\n        <td>\n          {{ duration(row.duration) }}\n        </td>\n      </template>\n\n      <template #sub-row=\"{row, fullColspan}\">\n        <td :colspan=\"fullColspan\" class=\"sub-row\">\n          <div class=\"details\">\n            <section class=\"col\">\n              <div class=\"title\">Response Message</div>\n              <span class=\"text-info text-capitalize\">\n                {{ row.responseMessage ? row.responseMessage : '-' }}\n              </span>\n            </section>\n            <section class=\"col\">\n              <div class=\"title\">Response Code</div>\n              <span class=\"text-info\">\n                {{ row.responseCode ? row.responseCode : '-' }}\n              </span>\n            </section>\n            <section class=\"col\">\n              <div class=\"title\">Mutated</div>\n              <span class=\"text-info\">\n                {{ row.mutated }}\n              </span>\n            </section>\n          </div>\n        </td>\n      </template>\n    </SortableTable>\n\n    <Banner\n      v-else\n      color=\"warning\"\n      :label=\"t(emptyTracesLabel)\"\n    />\n  </div>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TraceTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TraceTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TraceTable.vue?vue&type=template&id=8d43285a&\"\nimport script from \"./TraceTable.vue?vue&type=script&lang=js&\"\nexport * from \"./TraceTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MetricsChecklist.vue?vue&type=style&index=0&id=450512ba&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.$fetchState.pending)?_c('Loading'):_c('div',[(_vm.policyGauges)?[_c('div',{staticClass:\"row\"},[[_c('div',{staticClass:\"col span-6\"},[_c('h3',{attrs:{\"data-testid\":\"kw-ps-detail-status-title\"}},[_vm._v(\" \"+_vm._s(_vm.t('kubewarden.policyServer.policyGauge.byStatus'))+\" \")]),_c('div',{staticClass:\"gauges mb-20\"},_vm._l((_vm.policyGauges),function(group,key){return _c('CountGauge',{key:key,attrs:{\"total\":_vm.relatedPoliciesTotal,\"useful\":group.count || 0,\"graphical\":false,\"primary-color-var\":`--sizzle-${group.color}`,\"name\":key}})}),1)])],(!_vm.emptyTraces)?[_c('div',{staticClass:\"col span-6\"},[_c('h3',[_vm._v(\" \"+_vm._s(_vm.t('kubewarden.policyServer.policyGauge.traces'))+\" \")]),_c('div',{staticClass:\"gauges mb-20\"},_vm._l((_vm.tracesGauges),function(group,key){return _c('CountGauge',{key:key,attrs:{\"useful\":group.count || 0,\"total\":_vm.traceGaugeTotals,\"graphical\":false,\"primary-color-var\":`--sizzle-${group.color}`,\"name\":key}})}),1)])]:_vm._e()],2)]:_vm._e(),_c('ResourceTabs',{attrs:{\"mode\":_vm.mode},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('Tab',{attrs:{\"name\":\"related-policies\",\"label\":\"Policies\",\"weight\":99},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('ResourceTable',{attrs:{\"rows\":_vm.relatedPolicies || [],\"headers\":_vm.RELATED_HEADERS,\"groupable\":true,\"group-by\":_vm.groupPreference,\"table-actions\":true,\"data-testid\":\"kw-ps-detail-related-policies-list\"},scopedSlots:_vm._u([{key:\"col:operation\",fn:function({ row }){return [_c('td',[_c('BadgeState',{attrs:{\"data-testid\":`kw-ps-detail-${ row.id }-state`,\"label\":row.operation,\"color\":_vm.color(row.operation)}})],1)]}}])})]},proxy:true}])}),_c('Tab',{staticClass:\"relative\",attrs:{\"name\":\"policy-tracing\",\"label\":\"Tracing\",\"weight\":98}},[_c('TraceTable',{attrs:{\"resource\":_vm.resource,\"related-policies\":_vm.relatedPolicies}})],1),_c('Tab',{staticClass:\"relative\",attrs:{\"name\":\"policy-metrics\",\"label\":\"Metrics\",\"weight\":97},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('MetricsTab',{attrs:{\"resource\":_vm.resource,\"policy-server-obj\":_vm.value,\"active\":props.active}})]}}])})],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport isEmpty from 'lodash/isEmpty';\n\nimport { _CREATE } from '@shell/config/query-params';\nimport { allHash } from '@shell/utils/promise';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { mapPref, GROUP_RESOURCES } from '@shell/store/prefs';\n\nimport CountGauge from '@shell/components/CountGauge';\nimport Loading from '@shell/components/Loading';\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\nimport ResourceTable from '@shell/components/ResourceTable';\nimport Tab from '@shell/components/Tabbed/Tab';\n\nimport { RELATED_HEADERS } from '../config/table-headers';\n\nimport MetricsTab from '../components/MetricsTab';\nimport TraceTable from '../components/TraceTable';\n\nexport default {\n  name: 'PolicyServer',\n\n  components: {\n    CountGauge, Loading, MetricsTab, ResourceTabs, ResourceTable, Tab, TraceTable\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE,\n    },\n    resource: {\n      type:    String,\n      default: null\n    },\n    value: {\n      type:     Object,\n      required: true,\n    }\n  },\n\n  async fetch() {\n    const hash = await allHash({\n      relatedPolicies:      this.value.allRelatedPolicies(),\n      policyGauges:         this.value.policyGauges()\n    });\n\n    const assignIfNotEmpty = (prop, value) => {\n      if ( !isEmpty(value) ) {\n        this[prop] = value;\n      }\n    };\n\n    assignIfNotEmpty('relatedPolicies', hash.relatedPolicies);\n    assignIfNotEmpty('policyGauges', hash.policyGauges);\n  },\n\n  data() {\n    return {\n      RELATED_HEADERS,\n      policyGauges:         null,\n      relatedPolicies:      null,\n      reloadRequired:       false,\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n    ...mapGetters({ policyTraces: 'kubewarden/policyTraces' }),\n    _group: mapPref(GROUP_RESOURCES),\n\n    filteredTraces() {\n      if ( !isEmpty(this.policyTraces) ) {\n        return this.policyTraces.filter((policyTraceObj) => {\n          if ( this.currentCluster?.id === policyTraceObj.cluster ) {\n            return policyTraceObj;\n          }\n        });\n      }\n\n      return null;\n    },\n\n    emptyTraces() {\n      return isEmpty(this.filteredTraces);\n    },\n\n    groupPreference() {\n      const out = this._group === 'namespace' ? 'kind' : null;\n\n      return out;\n    },\n\n    relatedPoliciesTotal() {\n      if ( isEmpty(this.relatedPolicies) ) {\n        return 0;\n      }\n\n      return this.relatedPolicies.length;\n    },\n\n    tracesGauges() {\n      if ( !this.emptyTraces ) {\n        return this.value.tracesGauges(this.filteredTraces);\n      }\n\n      return null;\n    },\n\n    traceGaugeTotals() {\n      if ( !this.emptyTraces ) {\n        return this.filteredTraces?.flatMap(policyTraceObj => policyTraceObj.traces).length;\n      }\n\n      return 0;\n    }\n  },\n\n  methods: {\n    hasNamespaceSelector(row) {\n      return row.namespaceSelector;\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <template v-if=\"policyGauges\">\n      <div class=\"row\">\n        <template>\n          <div class=\"col span-6\">\n            <h3 data-testid=\"kw-ps-detail-status-title\">\n              {{ t('kubewarden.policyServer.policyGauge.byStatus') }}\n            </h3>\n            <div class=\"gauges mb-20\">\n              <CountGauge\n                v-for=\"(group, key) in policyGauges\"\n                :key=\"key\"\n                :total=\"relatedPoliciesTotal\"\n                :useful=\"group.count || 0\"\n                :graphical=\"false\"\n                :primary-color-var=\"`--sizzle-${group.color}`\"\n                :name=\"key\"\n              />\n            </div>\n          </div>\n        </template>\n        <template v-if=\"!emptyTraces\">\n          <div class=\"col span-6\">\n            <h3>\n              {{ t('kubewarden.policyServer.policyGauge.traces') }}\n            </h3>\n            <div class=\"gauges mb-20\">\n              <CountGauge\n                v-for=\"(group, key) in tracesGauges\"\n                :key=\"key\"\n                :useful=\"group.count || 0\"\n                :total=\"traceGaugeTotals\"\n                :graphical=\"false\"\n                :primary-color-var=\"`--sizzle-${group.color}`\"\n                :name=\"key\"\n              />\n            </div>\n          </div>\n        </template>\n      </div>\n    </template>\n\n    <ResourceTabs v-model=\"value\" :mode=\"mode\">\n      <Tab name=\"related-policies\" label=\"Policies\" :weight=\"99\">\n        <template #default>\n          <ResourceTable\n            :rows=\"relatedPolicies || []\"\n            :headers=\"RELATED_HEADERS\"\n            :groupable=\"true\"\n            :group-by=\"groupPreference\"\n            :table-actions=\"true\"\n            data-testid=\"kw-ps-detail-related-policies-list\"\n          >\n            <template #col:operation=\"{ row }\">\n              <td>\n                <BadgeState\n                  :data-testid=\"`kw-ps-detail-${ row.id }-state`\"\n                  :label=\"row.operation\"\n                  :color=\"color(row.operation)\"\n                />\n              </td>\n            </template>\n          </ResourceTable>\n        </template>\n      </Tab>\n\n      <Tab name=\"policy-tracing\" label=\"Tracing\" :weight=\"98\" class=\"relative\">\n        <TraceTable :resource=\"resource\" :related-policies=\"relatedPolicies\" />\n      </Tab>\n\n      <Tab #default=\"props\" name=\"policy-metrics\" label=\"Metrics\" :weight=\"97\" class=\"relative\">\n        <MetricsTab :resource=\"resource\" :policy-server-obj=\"value\" :active=\"props.active\" />\n      </Tab>\n    </ResourceTabs>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.relative {\n  position: relative;\n}\n\n.policy {\n  &__mode {\n    display: flex;\n    align-items: center;\n\n    i {\n      margin-left: 5px;\n      font-size: 22px;\n      color: var(--warning);\n    }\n  }\n}\n\n.gaugesContainer {\n  display: flex;\n}\n\n.gauges {\n  display: flex;\n  justify-content: space-around;\n\n  flex-wrap: wrap;\n  justify-content: left;\n\n  .count-gauge {\n    width: 46%;\n    margin-bottom: 10px;\n    flex: initial;\n  }\n\n  & > *{\n    flex: 1;\n    margin-right: $column-gutter;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./policies.kubewarden.io.policyserver.vue?vue&type=template&id=a88dafa8&scoped=true&\"\nimport script from \"./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js&\"\nexport * from \"./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js&\"\nimport style0 from \"./policies.kubewarden.io.policyserver.vue?vue&type=style&index=0&id=a88dafa8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a88dafa8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.policyserver.vue?vue&type=style&index=0&id=a88dafa8&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".checklist__container[data-v-450512ba]{display:flex;justify-content:center;flex-direction:column;border:1px solid var(--border);padding:10px}.checklist__config[data-v-450512ba],.checklist__step[data-v-450512ba]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.checklist__step[data-v-450512ba]{min-height:40px}.conflicting-banner[data-v-450512ba]{display:flex;flex-direction:column}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.$fetchState.pending)?_c('Loading',{attrs:{\"mode\":\"relative\"}}):_c('div',[(!_vm.hasAvailability)?_c('Banner',{staticClass:\"mt-20 mb-20\",attrs:{\"color\":\"error\",\"data-testid\":\"kw-unavailability-banner\",\"label\":_vm.t('kubewarden.unavailability.banner', { type: _vm.t('kubewarden.unavailability.type.metricsDashboard') })}}):(_vm.showChecklist)?_c('MetricsChecklist',{attrs:{\"cattle-dashboard-ns\":_vm.cattleDashboardNs,\"conflicting-grafana-dashboards\":_vm.conflictingGrafanaDashboards,\"controller-app\":_vm.controllerApp,\"controller-chart\":_vm.controllerChart,\"kubewarden-service-monitor\":_vm.kubewardenServiceMonitor,\"kubewarden-dashboards\":_vm.kubewardenGrafanaDashboards,\"metrics-configuration\":_vm.metricsConfiguration,\"monitoring-app\":_vm.monitoringApp,\"monitoring-chart\":_vm.monitoringChart,\"open-tel-svc\":_vm.openTelSvc,\"policy-obj\":_vm.policyObj,\"policy-server-obj\":_vm.policyServerObj,\"outdated-telemetry-spec\":_vm.outdatedTelemetrySpec,\"unsupported-telemetry-spec\":_vm.unsupportedTelemetrySpec,\"outdated-service-monitor\":_vm.outdatedServiceMonitor},on:{\"updateServiceMonitors\":_vm.updateServiceMonitors,\"updateServiceMonitorLabels\":_vm.updateServiceMonitorLabels}}):[(_vm.monitoringApp && !_vm.metricsProxy)?_c('Banner',{attrs:{\"color\":\"error\",\"label\":_vm.t('kubewarden.monitoring.warning.noProxy')}}):_vm._e(),(_vm.metricsProxy && _vm.active)?_c('DashboardMetrics',{attrs:{\"data-testid\":\"kw-ps-metrics-dashboard\",\"detail-url\":_vm.metricsProxy,\"summary-url\":_vm.metricsProxy,\"vars\":{'policy_name': _vm.policyName},\"graph-height\":\"825px\"}}):_vm._e()]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import isEmpty from 'lodash/isEmpty';\n\nimport { CONFIG_MAP, SERVICE } from '@shell/config/types';\n\nimport {\n  CatalogApp,\n  KubewardenDashboards,\n  KubewardenDashboardLabels,\n  GrafanaDashboardLabels,\n  GrafanaDashboardAnnotations,\n  HelmAnnotations\n} from '../types';\nimport { handleGrowl, GrowlConfig } from '../utils/handle-growl';\n\ninterface MetricsConfig {\n  store: any,\n  type: string\n}\n\ninterface DashboardConfig {\n  store: any,\n  monitoringApp: CatalogApp,\n  controllerApp: CatalogApp\n}\n\nexport async function grafanaProxy(config: MetricsConfig): Promise<any> {\n  const { store, type } = config;\n\n  try {\n    const grafana = await grafanaService(store);\n\n    if ( !isEmpty(grafana) ) {\n      const base = `/api/v1/namespaces/${ grafana.metadata.namespace }/services`;\n      const proxy = `/http:${ grafana.metadata.name }:80/proxy`;\n      const path = `/d/${ type }?orgId=1&kiosk`;\n\n      return base + proxy + path;\n    }\n  } catch (e) {\n    handleGrowl({\n      error: e as GrowlConfig | any, store, type: 'warning'\n    });\n  }\n\n  return null;\n}\n\nexport async function grafanaService(store: any) {\n  try {\n    return await store.dispatch('cluster/find', {\n      type: SERVICE,\n      id:   'cattle-monitoring-system/rancher-monitoring-grafana'\n    }, { root: true });\n  } catch (e) {\n    handleGrowl({\n      error: e as GrowlConfig | any, store, type: 'warning'\n    });\n  }\n}\n\nexport async function findKubewardenDashboards(store: any) {\n  try {\n    return await store.dispatch('cluster/findMatching', {\n      type:     CONFIG_MAP,\n      selector: `kubewarden/part-of=cattle-kubewarden-system`\n    });\n  } catch (e) {\n    handleGrowl({\n      error: e as GrowlConfig | any, store, type: 'warning'\n    });\n  }\n}\n\n/**\n   * Creates a ConfigMap for the Grafana dashboard depending on the type supplied\n   * @param `store, type` | Type of resource ( PolicyServer || (Cluster)AdmissionPolicy )\n   */\nexport async function addKubewardenDashboards(config: DashboardConfig): Promise<void> {\n  const { store, monitoringApp, controllerApp } = config;\n\n  if ( monitoringApp && controllerApp ) {\n    /**\n     * There are 2 dashboards for Kubewarden:\n     * PolicyServer is the default one copied from https://grafana.com/grafana/dashboards/15314-kubewarden/\n     * Policies have a condensed version\n    */\n    const dashboardEnums = Object.values(KubewardenDashboards);\n\n    for ( const type of dashboardEnums ) {\n      const file = await import(/* webpackChunkName: \"policyDashboard\" */ `../assets/${ type }.json`);\n      const fileKey = `${ type }.json`;\n\n      /** Check for existing configmaps */\n      const existing = await findKubewardenDashboards(store);\n\n      if ( existing && existing?.metadata?.name === type ) {\n        return;\n      }\n\n      const labels: GrafanaDashboardLabels = {\n        [KubewardenDashboardLabels.DASHBOARD]:         type,\n        [KubewardenDashboardLabels.PART_OF]:           controllerApp.metadata.namespace,\n        [KubewardenDashboardLabels.APP]:               'rancher-monitoring-grafana',\n        [KubewardenDashboardLabels.GRAFANA_DASHBOARD]: '1',\n        'app.kubernetes.io/instance':                  monitoringApp.metadata.name\n      };\n\n      const annotations: GrafanaDashboardAnnotations = {\n        [HelmAnnotations.NAME]:      monitoringApp.metadata.name,\n        [HelmAnnotations.NAMESPACE]: monitoringApp.metadata.namespace\n      };\n\n      const configMapTemplate = await store.dispatch(\n        'cluster/create',\n        {\n          type:     CONFIG_MAP,\n          metadata: {\n            annotations,\n            labels,\n            name:        type,\n            namespace:   'cattle-dashboards',\n          },\n          data: { [fileKey]: JSON.stringify(file) },\n        }\n      );\n\n      try {\n        await configMapTemplate.save();\n      } catch (e) {\n        handleGrowl({ error: e as GrowlConfig | any, store });\n      }\n    }\n  }\n}","import isEmpty from 'lodash/isEmpty';\nimport { MONITORING } from '@shell/config/types';\n\nimport type { PolicyServer, ServiceMonitorConfigured } from '../types';\nimport { KUBEWARDEN, MonitoringConfig, ServiceMonitor, ServiceMonitorConfig } from '../types';\n\nimport { handleGrowl, GrowlConfig } from '../utils/handle-growl';\nimport { isPolicyServerResource } from '../modules/policyServer';\n\n/**\n * Determines if the Monitoring App is configured correctly with the namespace and label selectors for\n * the Kubewarden controller and policy servers.\n * @param config `serviceMonitorSpec, controllerApp, policyServerSvcs` | Needs monitoring app service monitor spec,\n * kubewarden controller app, and the policy server services.\n * @returns `boolean` | `true` if configured correctly\n */\nexport function monitoringIsConfigured(config: MonitoringConfig): boolean {\n  const configured = serviceMonitorsConfigured(config);\n\n  if ( Array.isArray(configured) ) {\n    return configured?.some((c: ServiceMonitorConfigured) => {\n      const selectorsConfigured = !isEmpty(c?.selectors) && c?.selectors?.some((selector) => {\n        for (const key in selector) {\n          if ( selector[key] && selector[key] === true ) {\n            return true;\n          }\n        }\n\n        return false;\n      });\n\n      return c.namespace && selectorsConfigured;\n    });\n  }\n\n  return false;\n}\n\n/**\n * Searchs for matching `namespaceSelector` and `matchLabels` selector between `serviceMonitorSpec`, `controllerApp`, and `policyServerSvcs`\n * @param config `serviceMonitorSpec, controllerApp, policyServerSvcs` | Needs monitoring app service monitor spec,\n * kubewarden controller app, and the policy server services.\n * @returns `ServiceMonitorConfigured[] | boolean` | If `serviceMonitorSpec` is provided, will return a `ServiceMonitorConfigured` object\n * which contains a `namespace` boolean for a match and selectors[] for `matchLabels`\n */\nexport function serviceMonitorsConfigured(config: MonitoringConfig): ServiceMonitorConfigured[] | boolean {\n  const { serviceMonitorSpec, controllerApp, policyServerSvcs } = config;\n\n  if ( serviceMonitorSpec ) {\n    return serviceMonitorSpec?.map((sm) => {\n      const configured: ServiceMonitorConfigured = {\n        namespace: false,\n        selectors: []\n      };\n\n      /** Find a matching namespaceSelector to the controllerApp */\n      if ( !isEmpty(controllerApp) ) {\n        const hasNamespace: boolean = sm.namespaceSelector?.matchNames?.includes(controllerApp?.metadata?.namespace) || false;\n\n        configured.namespace = hasNamespace;\n      }\n\n      /** Find matching label selectors for policy server services */\n      if ( !isEmpty(policyServerSvcs) ) {\n        policyServerSvcs.forEach((svc) => {\n          if ( sm.selector?.matchLabels ) {\n            for ( const key of Object.keys(sm.selector.matchLabels) ) {\n              const hasLabel = svc?.metadata?.labels?.[key] && svc.metadata.labels[key] === sm.selector.matchLabels[key];\n\n              configured?.selectors?.push({ [key]: !!hasLabel });\n            }\n          }\n        });\n      }\n\n      return configured;\n    });\n  }\n\n  return false;\n}\n\n/**\n * Searches provided ServiceMonitors for a matching resource.\n *\n * It checks the labels under `spec.selector.matchLabels` for:\n * - The legacy label: `app=kubewarden-policy-server-<policyServerName>`\n * - The new strict labels as described.\n *\n * @param {Object} config - An object containing:\n *        { policyObj?, policyServerObj?, allServiceMonitors }.\n *        Needs either a policy object or policy server object with all fetched ServiceMonitors.\n * @returns {Object|undefined} The matching ServiceMonitor if found.\n */\nexport function findServiceMonitor(config: ServiceMonitorConfig): ServiceMonitor | undefined {\n  const { policyObj, policyServerObj, allServiceMonitors } = config;\n\n  if (!isEmpty(allServiceMonitors)) {\n    const policyServerName = policyObj ? policyObj.spec?.policyServer : policyServerObj?.id;\n\n    return allServiceMonitors?.find((sm: ServiceMonitor) => {\n      // For ServiceMonitors, labels are under spec.selector.matchLabels\n      const labels = sm?.spec?.selector?.matchLabels;\n\n      return isPolicyServerResource(labels, policyServerName as string);\n    });\n  }\n}\n\n/**\n * Creates a Service Monitor for a PolicyServer when provided either a PS or a policy\n * @param config: `store, policyObj?, policyServerObj?, controllerNs` | Needs kubewarden-controller app namespace, either a policy server or policy.\n */\nexport async function addKubewardenServiceMonitor(config: ServiceMonitorConfig): Promise<void> {\n  const {\n    store, policyObj, controllerNs, serviceMonitor\n  } = config;\n  let { policyServerObj } = config;\n\n  if (!serviceMonitor && store.getters['cluster/schemaFor'](MONITORING.SERVICEMONITOR)) {\n    // Fetch the policy server object if not provided to determine the labels necessary for the service monitor\n    if (!policyServerObj && policyObj && store.getters['cluster/schemaFor'](KUBEWARDEN.POLICY_SERVER)) {\n      const policyServer = await store.dispatch(\n        'cluster/find',\n        {\n          type: KUBEWARDEN.POLICY_SERVER,\n          id:   policyObj.spec?.policyServer\n        }\n      );\n\n      if (policyServer) {\n        policyServerObj = policyServer as PolicyServer;\n      }\n    }\n\n    const policyServerID = policyObj ? policyObj.spec?.policyServer : policyServerObj?.id as string;\n    const defaultLabels = {\n      'app.kubernetes.io/instance':   `policy-server-${ policyServerID }`,\n      'app.kubernetes.io/component':  'policy-server',\n      'app.kubernetes.io/part-of':    'kubewarden'\n    };\n    let labels;\n\n    if (policyServerObj?.metadata?.labels && policyServerObj?.metadata?.labels['app']) {\n      labels = { app: policyServerObj?.metadata?.labels['app'] };\n    } else {\n      labels = defaultLabels;\n    }\n\n    const serviceMonitorTemplate: ServiceMonitor = {\n      apiVersion: 'monitoring.coreos.com/v1',\n      kind:       'ServiceMonitor',\n      type:       MONITORING.SERVICEMONITOR,\n      metadata:   {\n        name:        `kubewarden-${ policyServerID }`,\n        namespace:   controllerNs\n      },\n      spec: {\n        endpoints:         [{ interval: '10s', port: 'metrics' }],\n        namespaceSelector: { matchNames: [controllerNs] },\n        selector:          { matchLabels: labels }\n      }\n    };\n\n    const serviceMonitorObj = await store.dispatch(\n      'cluster/create',\n      serviceMonitorTemplate\n    );\n\n    try {\n      await serviceMonitorObj.save();\n    } catch (e) {\n      handleGrowl({\n        error: e as GrowlConfig | any,\n        store\n      });\n    }\n  }\n}\n\n/**\n * Returns `true` if the ServiceMonitor is missing the matching label style\n * of the PolicyServer. In other words, if the PolicyServer is new-style\n * but the SM only has old-style (or no) labels, or vice versa, then its out of date.\n */\nexport function isServiceMonitorOutOfDate(ps: PolicyServer, sm: ServiceMonitor): boolean {\n  if (!ps || !sm) {\n    return false;\n  }\n\n  const psLabels = ps.metadata?.labels || {};\n  const smLabels = sm.spec?.selector?.matchLabels || {};\n\n  const newLabels = {\n    'app.kubernetes.io/component': 'policy-server',\n    'app.kubernetes.io/part-of':   'kubewarden'\n  };\n\n  // Determine if the PolicyServer is using the new label style.\n  const psIsNewStyle =\n    psLabels['app.kubernetes.io/instance'] &&\n    psLabels['app.kubernetes.io/component'] &&\n    psLabels['app.kubernetes.io/part-of'];\n\n  // Only if the PolicyServer is new style do we need the ServiceMonitor to have the new labels.\n  if (psIsNewStyle) {\n    const smHasNewLabels =\n      smLabels['app.kubernetes.io/instance'] &&\n      smLabels['app.kubernetes.io/component'] === newLabels['app.kubernetes.io/component'] &&\n      smLabels['app.kubernetes.io/part-of'] === newLabels['app.kubernetes.io/part-of'];\n\n    return !smHasNewLabels;\n  }\n\n  // If the PolicyServer is still using old labels, we consider the ServiceMonitor up-to-date.\n  return false;\n}\n\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"checklist__container\"},[_c('div',{staticClass:\"checklist__prereq mb-20\"},[_c('h2',[_vm._v(_vm._s(_vm.t('kubewarden.monitoring.prerequisites.label')))]),_c('p',[_vm._v(_vm._s(_vm.t('kubewarden.monitoring.prerequisites.description')))])]),_c('Banner',{attrs:{\"color\":\"warning\",\"label\":_vm.t('kubewarden.monitoring.prerequisites.warning')}}),_c('div',{staticClass:\"mt-20 mb-20\"},[_c('div',{staticClass:\"checklist__step mb-20\",attrs:{\"data-testid\":\"kw-monitoring-checklist-step-open-tel\"}},[_c('i',{staticClass:\"icon mr-10\",class:_vm.badgeIcon(_vm.openTelSvc),attrs:{\"data-testid\":\"kw-otel-icon\"}}),_c('p',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.t('kubewarden.tracing.openTelemetry', {}, true)),expression:\"t('kubewarden.tracing.openTelemetry', {}, true)\"}]})]),_c('div',{staticClass:\"checklist__step mb-20\",attrs:{\"data-testid\":\"kw-monitoring-checklist-step-monitoring-app\"}},[_c('i',{staticClass:\"icon mr-10\",class:_vm.badgeIcon(_vm.monitoringApp),attrs:{\"data-testid\":\"kw-monitoring-icon\"}}),_c('div',{staticClass:\"checklist__config\"},[_c('p',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.t('kubewarden.monitoring.prerequisites.monitoringApp.label', {}, true)),expression:\"t('kubewarden.monitoring.prerequisites.monitoringApp.label', {}, true)\"}],attrs:{\"p\":\"\"}}),(!_vm.monitoringApp)?_c('button',{directives:[{name:\"clean-tooltip\",rawName:\"v-clean-tooltip\",value:(_vm.monitoringLinkTooltip),expression:\"monitoringLinkTooltip\"}],staticClass:\"btn role-primary ml-10\",attrs:{\"data-testid\":\"kw-monitoring-checklist-step-config-button\",\"disabled\":!_vm.monitoringChart},on:{\"click\":function($event){return _vm.monitoringAppRoute()}}},[_vm._v(\" \"+_vm._s(_vm.monitoringChartLink)+\" \")]):_vm._e()])]),_c('div',{staticClass:\"checklist__step mb-20\",attrs:{\"data-testid\":\"kw-monitoring-checklist-step-service-monitor-map\"}},[(_vm.outdatedServiceMonitor)?[_c('i',{staticClass:\"icon mr-10\",class:_vm.badgeIcon(!_vm.outdatedServiceMonitor),attrs:{\"data-testid\":\"kw-sm-icon\"}}),_c('div',{staticClass:\"checklist__config\"},[_c('p',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.t('kubewarden.monitoring.prerequisites.serviceMonitor.upgrade.label', {}, true)),expression:\"t('kubewarden.monitoring.prerequisites.serviceMonitor.upgrade.label', {}, true)\"}],attrs:{\"p\":\"\"}}),(_vm.kubewardenServiceMonitor && _vm.outdatedServiceMonitor)?_c('AsyncButton',{directives:[{name:\"clean-tooltip\",rawName:\"v-clean-tooltip\",value:(_vm.updateServiceMonitorsTooltip),expression:\"updateServiceMonitorsTooltip\"}],staticClass:\"ml-10\",attrs:{\"data-testid\":\"kw-monitoring-checklist-step-service-monitor-upgrade-button\",\"mode\":\"serviceMonitorUpgrade\",\"disabled\":_vm.updateServiceMonitorButtonDisabled},on:{\"click\":_vm.updateServiceMonitor}}):_vm._e()],1)]:[_c('i',{staticClass:\"icon mr-10\",class:_vm.badgeIcon(_vm.kubewardenServiceMonitor),attrs:{\"data-testid\":\"kw-sm-icon\"}}),_c('div',{staticClass:\"checklist__config\"},[_c('p',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.t('kubewarden.monitoring.prerequisites.serviceMonitor.label', {}, true)),expression:\"t('kubewarden.monitoring.prerequisites.serviceMonitor.label', {}, true)\"}],attrs:{\"p\":\"\"}}),(!_vm.kubewardenServiceMonitor)?_c('AsyncButton',{directives:[{name:\"clean-tooltip\",rawName:\"v-clean-tooltip\",value:(_vm.serviceMonitorsTooltip),expression:\"serviceMonitorsTooltip\"}],staticClass:\"ml-10\",attrs:{\"data-testid\":\"kw-monitoring-checklist-step-service-monitor-button\",\"mode\":\"serviceMonitor\",\"disabled\":_vm.serviceMonitorButtonDisabled},on:{\"click\":_vm.addServiceMonitor}}):_vm._e()],1)]],2),_c('div',{staticClass:\"checklist__step mb-20\",attrs:{\"data-testid\":\"kw-monitoring-checklist-step-config-map\"}},[_c('i',{staticClass:\"icon mr-10\",class:_vm.badgeIcon(_vm.hasKubewardenDashboards),attrs:{\"data-testid\":\"kw-dashboard-icon\"}}),_c('div',{staticClass:\"checklist__config\"},[_c('p',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.t('kubewarden.monitoring.prerequisites.configMap.label', {}, true)),expression:\"t('kubewarden.monitoring.prerequisites.configMap.label', {}, true)\"}],attrs:{\"p\":\"\"}}),(!_vm.hasKubewardenDashboards)?_c('AsyncButton',{directives:[{name:\"clean-tooltip\",rawName:\"v-clean-tooltip\",value:(_vm.dashboardsTooltip),expression:\"dashboardsTooltip\"}],staticClass:\"ml-10\",attrs:{\"data-testid\":\"kw-monitoring-checklist-step-config-map-button\",\"mode\":\"grafanaDashboard\",\"disabled\":_vm.dashboardButtonDisabled},on:{\"click\":_vm.addDashboards}}):_vm._e()],1)]),(_vm.showConflictingDashboardsBanner)?_c('Banner',{attrs:{\"color\":\"error\"}},[_c('div',{staticClass:\"conflicting-banner\",attrs:{\"data-testid\":\"kw-monitoring-checklist-conflicting-banner\"}},[_c('p',[_vm._v(\" \"+_vm._s(_vm.t('kubewarden.monitoring.prerequisites.configMap.conflictingDashboardsBanner', { count: _vm.conflictingGrafanaDashboards.length }, true))+\" \")]),_vm._l((_vm.conflictingGrafanaDashboards),function(configMap){return _c('n-link',{key:configMap.metadata.name,staticClass:\"text-bold\",attrs:{\"to\":configMap.detailLocation}},[_vm._v(\" \"+_vm._s(configMap.metadata.name)+\" \")])})],2)]):_vm._e(),_c('div',[(_vm.outdatedTelemetrySpec)?_c('Banner',{attrs:{\"data-testid\":\"kw-monitoring-checklist-outdated-telemetry\",\"color\":\"error\",\"label\":_vm.t('kubewarden.monitoring.prerequisites.outdated')}}):_vm._e(),(_vm.unsupportedTelemetrySpec)?_c('Banner',{attrs:{\"data-testid\":\"kw-monitoring-checklist-unsupported-telemetry\",\"color\":\"error\",\"label\":_vm.t('kubewarden.monitoring.prerequisites.unsupported')}}):_vm._e()],1),_c('div',{staticClass:\"checklist__step mb-20\",attrs:{\"data-testid\":\"kw-monitoring-checklist-step-controller-config\"}},[_c('i',{staticClass:\"icon mr-10\",class:_vm.badgeIcon(_vm.metricsConfiguration),attrs:{\"data-testid\":\"kw-metrics-config-icon\"}}),_c('div',{staticClass:\"checklist__config\"},[_c('p',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.t('kubewarden.monitoring.prerequisites.controllerConfig.label', {}, true)),expression:\"t('kubewarden.monitoring.prerequisites.controllerConfig.label', {}, true)\"}],attrs:{\"p\":\"\"}}),(!_vm.metricsConfiguration)?_c('button',{directives:[{name:\"clean-tooltip\",rawName:\"v-clean-tooltip\",value:(_vm.controllerLinkTooltip),expression:\"controllerLinkTooltip\"}],staticClass:\"btn role-primary ml-10\",attrs:{\"data-testid\":\"kw-monitoring-checklist-step-config-button\",\"disabled\":_vm.controllerLinkDisabled},on:{\"click\":function($event){return _vm.controllerAppRoute()}}},[_vm._v(\" \"+_vm._s(_vm.t(\"kubewarden.monitoring.prerequisites.controllerConfig.button\"))+\" \")]):_vm._e()])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport isEmpty from 'lodash/isEmpty';\n\nimport { CATALOG } from '@shell/config/labels-annotations';\n\nimport {\n  REPO_TYPE, REPO, CHART, NAME, VERSION, NAMESPACE\n} from '@shell/config/query-params';\n\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { Banner } from '@components/Banner';\n\nimport { handleGrowl } from '../utils/handle-growl';\nimport { addKubewardenDashboards } from '../modules/grafana';\nimport { addKubewardenServiceMonitor } from '../modules/metricsConfig';\n\nexport default {\n  props: {\n    cattleDashboardNs: {\n      type:    Object,\n      default: null\n    },\n    conflictingGrafanaDashboards: {\n      type:    Array,\n      default: null\n    },\n    controllerApp: {\n      type:    Object,\n      default: null\n    },\n    controllerChart: {\n      type:    Object,\n      default: null\n    },\n    kubewardenServiceMonitor: {\n      type:    Object,\n      default: null\n    },\n    kubewardenDashboards: {\n      type:    Array,\n      default: null\n    },\n    metricsConfiguration: {\n      type:    Object,\n      default: null\n    },\n    monitoringApp: {\n      type:    Object,\n      default: null\n    },\n    monitoringChart: {\n      type:    Object,\n      default: null\n    },\n    openTelSvc: {\n      type:    Object,\n      default: null\n    },\n    policyObj: {\n      type:    Object,\n      default: null\n    },\n    policyServerObj: {\n      type:    Object,\n      default: null\n    },\n    outdatedTelemetrySpec: {\n      type:    Boolean,\n      default: false\n    },\n    unsupportedTelemetrySpec: {\n      type:    Boolean,\n      default: false\n    },\n    outdatedServiceMonitor: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  components: { AsyncButton, Banner },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n    ...mapGetters({ t: 'i18n/t' }),\n\n    controllerLinkDisabled() {\n      return (!this.openTelSvc || !this.monitoringApp || !this.hasKubewardenDashboards || !this.controllerChart || !this.controllerApp);\n    },\n\n    controllerLinkTooltip() {\n      if ( this.controllerLinkDisabled ) {\n        return this.t('kubewarden.monitoring.prerequisites.tooltips.prerequisites');\n      }\n\n      if ( !this.controllerChart ) {\n        return this.t('kubewarden.monitoring.prerequisites.tooltips.chartError', { chart: 'Kubewarden Controller' }, true);\n      }\n\n      return null;\n    },\n\n    dashboardsTooltip() {\n      if ( !this.monitoringApp ) {\n        return this.t('kubewarden.monitoring.prerequisites.tooltips.appNotInstalled', { app: 'Rancher Monitoring' }, true);\n      }\n\n      if ( this.monitoringApp && isEmpty(this.cattleDashboardNs) ) {\n        return this.t('kubewarden.monitoring.prerequisites.tooltips.nsNotFound');\n      }\n\n      return null;\n    },\n\n    dashboardButtonDisabled() {\n      return (!this.monitoringApp ||\n              isEmpty(this.cattleDashboardNs) ||\n              (!this.hasKubewardenDashboards && !!this.conflictingGrafanaDashboards.length)\n      );\n    },\n\n    hasKubewardenDashboards() {\n      return !isEmpty(this.kubewardenDashboards);\n    },\n\n    monitoringChartLink() {\n      if ( !this.monitoringApp ) {\n        return this.t('kubewarden.monitoring.prerequisites.monitoringApp.install');\n      }\n\n      return this.t('kubewarden.monitoring.prerequisites.monitoringApp.edit');\n    },\n\n    monitoringLinkTooltip() {\n      if ( !this.monitoringChart ) {\n        return this.t('kubewarden.monitoring.prerequisites.tooltips.chartError', { chart: 'Rancher Monitoring' }, true);\n      }\n\n      return null;\n    },\n\n    serviceMonitorButtonDisabled() {\n      return (!this.controllerApp || !this.monitoringApp);\n    },\n\n    serviceMonitorsTooltip() {\n      if ( !this.monitoringApp ) {\n        return this.t('kubewarden.monitoring.prerequisites.tooltips.prerequisites');\n      }\n\n      if ( !this.kubewardenServiceMonitor && this.controllerApp ) {\n        return this.t(\n          'kubewarden.monitoring.prerequisites.tooltips.monitorsNotFound',\n          { namespace: this.controllerApp.metadata?.namespace },\n          true\n        );\n      }\n\n      return null;\n    },\n\n    updateServiceMonitorsTooltip() {\n      return this.t(\n        'kubewarden.monitoring.prerequisites.tooltips.updateServiceMonitor',\n        {},\n        true\n      );\n    },\n\n    updateServiceMonitorButtonDisabled() {\n      if (!this.kubewardenServiceMonitor || !this.monitoringApp) {\n        return true;\n      }\n\n      return false;\n    },\n\n    showConflictingDashboardsBanner() {\n      return !this.hasKubewardenDashboards && !isEmpty(this.conflictingGrafanaDashboards);\n    }\n  },\n\n  methods: {\n    async addDashboards(btnCb) {\n      try {\n        await addKubewardenDashboards({\n          store:         this.$store,\n          monitoringApp: this.monitoringApp,\n          controllerApp: this.controllerApp\n        });\n        btnCb(true);\n      } catch (e) {\n        handleGrowl({ error: e, store: this.$store });\n        btnCb(false);\n      }\n    },\n\n    async addServiceMonitor(btnCb) {\n      try {\n        await addKubewardenServiceMonitor({\n          store:           this.$store,\n          policyObj:       this.policyObj,\n          policyServerObj: this.policyServerObj,\n          controllerNs:    this.controllerApp?.metadata?.namespace,\n          serviceMonitor:  this.kubewardenServiceMonitor\n        });\n        this.$emit('updateServiceMonitors');\n        btnCb(true);\n      } catch (e) {\n        handleGrowl({ error: e, store: this.$store });\n        btnCb(false);\n      }\n    },\n\n    async updateServiceMonitor(btnCb) {\n      if (!this.kubewardenServiceMonitor) {\n        btnCb(false);\n\n        return;\n      }\n\n      try {\n        const sm = this.kubewardenServiceMonitor;\n\n        const psName = this.policyServerObj?.metadata?.name || this.policyObj?.spec?.policyServer;\n\n        sm.spec.selector.matchLabels = {\n          'app.kubernetes.io/instance':  `policy-server-${ psName }`,\n          'app.kubernetes.io/component': 'policy-server',\n          'app.kubernetes.io/part-of':   'kubewarden'\n        };\n\n        await sm.save();\n        this.$emit('updateServiceMonitorLabels');\n\n        btnCb(true);\n      } catch (err) {\n        handleGrowl({\n          error: err,\n          store: this.$store\n        });\n        btnCb(false);\n      }\n    },\n\n    badgeIcon(prop) {\n      if ( Array.isArray(prop) ) {\n        const emptyProp = isEmpty(prop);\n\n        return {\n          'icon-dot-open': emptyProp, 'icon-checkmark': !emptyProp, 'text-success': !emptyProp\n        };\n      }\n\n      return {\n        'icon-dot-open': !prop, 'icon-checkmark': prop, 'text-success': prop\n      };\n    },\n\n    monitoringAppRoute() {\n      if ( !this.monitoringApp && this.monitoringChart ) {\n        this.monitoringChart.goToInstall();\n      }\n\n      if ( this.monitoringApp ) {\n        const query = {\n          [NAMESPACE]: this.monitoringApp.metadata?.namespace,\n          [NAME]:      this.monitoringApp.metadata?.name,\n          [VERSION]:   this.monitoringApp.spec?.chart?.metadata?.version,\n          [REPO]:      this.monitoringApp.spec?.chart?.metadata?.annotations?.[CATALOG.SOURCE_REPO_NAME],\n          [REPO_TYPE]: this.monitoringApp.spec?.chart?.metadata?.annotations?.[CATALOG.SOURCE_REPO_TYPE],\n          [CHART]:     this.monitoringApp.spec?.chart?.metadata?.name\n        };\n\n        this.$router.push({\n          name:   'c-cluster-apps-charts-install',\n          params: { cluster: this.currentCluster?.id || '_' },\n          query,\n        });\n      }\n    },\n\n    controllerAppRoute() {\n      if ( this.controllerApp ) {\n        const metadata = this.controllerApp.spec?.chart?.metadata;\n\n        const query = {\n          [NAMESPACE]: metadata?.annotations?.[CATALOG.NAMESPACE],\n          [NAME]:      metadata?.annotations?.[CATALOG.RELEASE_NAME],\n          [VERSION]:   metadata?.annotations?.['catalog.cattle.io/upstream-version'],\n          [REPO]:      metadata?.annotations?.[CATALOG.SOURCE_REPO_NAME],\n          [REPO_TYPE]: metadata?.annotations?.[CATALOG.SOURCE_REPO_TYPE],\n          [CHART]:     metadata?.name\n        };\n\n        this.$router.push({\n          name:   'c-cluster-apps-charts-install',\n          params: { cluster: this.currentCluster?.id || '_' },\n          query,\n        });\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"checklist__container\">\n    <div class=\"checklist__prereq mb-20\">\n      <h2>{{ t('kubewarden.monitoring.prerequisites.label') }}</h2>\n      <p>{{ t('kubewarden.monitoring.prerequisites.description') }}</p>\n    </div>\n\n    <Banner\n      color=\"warning\"\n      :label=\"t('kubewarden.monitoring.prerequisites.warning')\"\n    />\n\n    <!-- Basic prerequisites items: OpenTelemetry, Monitoring app, etc. -->\n    <div class=\"mt-20 mb-20\">\n      <!-- openTel -->\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-monitoring-checklist-step-open-tel\">\n        <i data-testid=\"kw-otel-icon\" class=\"icon mr-10\" :class=\"badgeIcon(openTelSvc)\" />\n        <p v-clean-html=\"t('kubewarden.tracing.openTelemetry', {}, true)\" />\n      </div>\n\n      <!-- Monitoring -->\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-monitoring-checklist-step-monitoring-app\">\n        <i data-testid=\"kw-monitoring-icon\" class=\"icon mr-10\" :class=\"badgeIcon(monitoringApp)\" />\n        <div class=\"checklist__config\">\n          <p v-clean-html=\"t('kubewarden.monitoring.prerequisites.monitoringApp.label', {}, true)\" p />\n          <button\n            v-if=\"!monitoringApp\"\n            v-clean-tooltip=\"monitoringLinkTooltip\"\n            data-testid=\"kw-monitoring-checklist-step-config-button\"\n            class=\"btn role-primary ml-10\"\n            :disabled=\"!monitoringChart\"\n            @click=\"monitoringAppRoute()\"\n          >\n            {{ monitoringChartLink }}\n          </button>\n        </div>\n      </div>\n\n      <!-- ServiceMonitor: now split for \"outdated\" vs. \"non-existent\" -->\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-monitoring-checklist-step-service-monitor-map\">\n        <template v-if=\"outdatedServiceMonitor\">\n          <!-- If it's outdated, we show an \"Update\" path -->\n          <i data-testid=\"kw-sm-icon\" class=\"icon mr-10\" :class=\"badgeIcon(!outdatedServiceMonitor)\" />\n          <div class=\"checklist__config\">\n            <p v-clean-html=\"t('kubewarden.monitoring.prerequisites.serviceMonitor.upgrade.label', {}, true)\" p />\n            <AsyncButton\n              v-if=\"kubewardenServiceMonitor && outdatedServiceMonitor\"\n              v-clean-tooltip=\"updateServiceMonitorsTooltip\"\n              data-testid=\"kw-monitoring-checklist-step-service-monitor-upgrade-button\"\n              mode=\"serviceMonitorUpgrade\"\n              class=\"ml-10\"\n              :disabled=\"updateServiceMonitorButtonDisabled\"\n              @click=\"updateServiceMonitor\"\n            />\n          </div>\n        </template>\n        <template v-else>\n          <!-- If it's not outdated, maybe it's simply missing? Show a \"Create\" path -->\n          <i data-testid=\"kw-sm-icon\" class=\"icon mr-10\" :class=\"badgeIcon(kubewardenServiceMonitor)\" />\n          <div class=\"checklist__config\">\n            <p v-clean-html=\"t('kubewarden.monitoring.prerequisites.serviceMonitor.label', {}, true)\" p />\n            <AsyncButton\n              v-if=\"!kubewardenServiceMonitor\"\n              v-clean-tooltip=\"serviceMonitorsTooltip\"\n              data-testid=\"kw-monitoring-checklist-step-service-monitor-button\"\n              mode=\"serviceMonitor\"\n              class=\"ml-10\"\n              :disabled=\"serviceMonitorButtonDisabled\"\n              @click=\"addServiceMonitor\"\n            />\n          </div>\n        </template>\n      </div>\n\n      <!-- Dashboards -->\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-monitoring-checklist-step-config-map\">\n        <i data-testid=\"kw-dashboard-icon\" class=\"icon mr-10\" :class=\"badgeIcon(hasKubewardenDashboards)\" />\n        <div class=\"checklist__config\">\n          <p v-clean-html=\"t('kubewarden.monitoring.prerequisites.configMap.label', {}, true)\" p />\n          <AsyncButton\n            v-if=\"!hasKubewardenDashboards\"\n            v-clean-tooltip=\"dashboardsTooltip\"\n            data-testid=\"kw-monitoring-checklist-step-config-map-button\"\n            mode=\"grafanaDashboard\"\n            class=\"ml-10\"\n            :disabled=\"dashboardButtonDisabled\"\n            @click=\"addDashboards\"\n          />\n        </div>\n      </div>\n      <Banner\n        v-if=\"showConflictingDashboardsBanner\"\n        color=\"error\"\n      >\n        <div data-testid=\"kw-monitoring-checklist-conflicting-banner\" class=\"conflicting-banner\">\n          <p>\n            {{ t('kubewarden.monitoring.prerequisites.configMap.conflictingDashboardsBanner', { count: conflictingGrafanaDashboards.length }, true) }}\n          </p>\n          <n-link\n            v-for=\"configMap of conflictingGrafanaDashboards\"\n            :key=\"configMap.metadata.name\"\n            :to=\"configMap.detailLocation\"\n            class=\"text-bold\"\n          >\n            {{ configMap.metadata.name }}\n          </n-link>\n        </div>\n      </Banner>\n\n      <!-- Telemetry banners -->\n      <div>\n        <Banner\n          v-if=\"outdatedTelemetrySpec\"\n          data-testid=\"kw-monitoring-checklist-outdated-telemetry\"\n          color=\"error\"\n          :label=\"t('kubewarden.monitoring.prerequisites.outdated')\"\n        />\n        <Banner\n          v-if=\"unsupportedTelemetrySpec\"\n          data-testid=\"kw-monitoring-checklist-unsupported-telemetry\"\n          color=\"error\"\n          :label=\"t('kubewarden.monitoring.prerequisites.unsupported')\"\n        />\n      </div>\n\n      <!-- Controller metrics configuration -->\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-monitoring-checklist-step-controller-config\">\n        <i data-testid=\"kw-metrics-config-icon\" class=\"icon mr-10\" :class=\"badgeIcon(metricsConfiguration)\" />\n        <div class=\"checklist__config\">\n          <p v-clean-html=\"t('kubewarden.monitoring.prerequisites.controllerConfig.label', {}, true)\" p />\n          <button\n            v-if=\"!metricsConfiguration\"\n            v-clean-tooltip=\"controllerLinkTooltip\"\n            data-testid=\"kw-monitoring-checklist-step-config-button\"\n            class=\"btn role-primary ml-10\"\n            :disabled=\"controllerLinkDisabled\"\n            @click=\"controllerAppRoute()\"\n          >\n            {{ t(\"kubewarden.monitoring.prerequisites.controllerConfig.button\") }}\n          </button>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.checklist {\n  &__container {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    border: 1px solid var(--border);\n    padding: 10px;\n  }\n\n  &__step, &__config {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n  }\n\n  &__step {\n    min-height: 40px;\n  }\n}\n\n.conflicting-banner {\n  display: flex;\n  flex-direction: column;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MetricsChecklist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MetricsChecklist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MetricsChecklist.vue?vue&type=template&id=450512ba&scoped=true&\"\nimport script from \"./MetricsChecklist.vue?vue&type=script&lang=js&\"\nexport * from \"./MetricsChecklist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MetricsChecklist.vue?vue&type=style&index=0&id=450512ba&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"450512ba\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { mapGetters } from 'vuex';\nimport isEmpty from 'lodash/isEmpty';\nimport debounce from 'lodash/debounce';\nimport semver from 'semver';\n\nimport {\n  CATALOG, CONFIG_MAP, MONITORING, NAMESPACE, SERVICE\n} from '@shell/config/types';\nimport { KUBERNETES } from '@shell/config/labels-annotations';\nimport { dashboardExists } from '@shell/utils/grafana';\nimport { monitoringStatus } from '@shell/utils/monitoring';\nimport { allHash } from '@shell/utils/promise';\nimport ResourceFetch from '@shell/mixins/resource-fetch';\n\nimport DashboardMetrics from '@shell/components/DashboardMetrics';\nimport Loading from '@shell/components/Loading';\nimport { Banner } from '@components/Banner';\n\nimport { KUBEWARDEN, KUBEWARDEN_CHARTS, KubewardenDashboardLabels, KubewardenDashboards } from '../types';\nimport { isAdminUser } from '../utils/permissions';\nimport { handleGrowl } from '../utils/handle-growl';\nimport { refreshCharts } from '../utils/chart';\nimport { grafanaProxy } from '../modules/grafana';\nimport { findServiceMonitor, isServiceMonitorOutOfDate } from '../modules/metricsConfig';\nimport { jaegerPolicyName } from '../modules/jaegerTracing';\nimport { findPolicyServerResource } from '../modules/policyServer';\n\nimport MetricsChecklist from './MetricsChecklist';\n\nexport default {\n  props: {\n    active: {\n      type:    Boolean,\n      default: null\n    },\n    resource: {\n      type:    String,\n      default: null\n    },\n    policyObj: {\n      type:    Object,\n      default: null\n    },\n    policyServerObj: {\n      type:    Object,\n      default: null\n    }\n  },\n\n  components: {\n    Banner, DashboardMetrics, Loading, MetricsChecklist\n  },\n\n  mixins: [ResourceFetch],\n\n  async fetch() {\n    await this.fetchData();\n  },\n\n  data() {\n    const METRICS_TYPE = this.resource === KUBEWARDEN.POLICY_SERVER ? KubewardenDashboards.POLICY_SERVER : KubewardenDashboards.POLICY;\n\n    return {\n      METRICS_TYPE,\n\n      isAdminUser: false,\n      permissions: {\n        policyServer:   false,\n        app:            false,\n        clusterRepo:    false,\n        configMap:      false,\n        serviceMonitor: false,\n        namespace:      false,\n        service:        false\n      },\n\n      [CATALOG.APP]:               null,\n      [CATALOG.CLUSTER_REPO]:      null,\n      [CONFIG_MAP]:                null,\n      [MONITORING.SERVICEMONITOR]: null,\n      [SERVICE]:                   null,\n      metricsProxy:                null,\n      metricsService:              null,\n      debouncedRefreshCharts:      null,\n      outdatedTelemetrySpec:       false,\n      unsupportedTelemetrySpec:    false\n    };\n  },\n\n  watch: {\n    async grafanaService() {\n      if ( !this.metricsProxy ) {\n        this.metricsProxy = await grafanaProxy({ store: this.$store, type: this.METRICS_TYPE });\n\n        if ( this.metricsProxy ) {\n          this.metricsService = await dashboardExists('v2', this.$store, this.currentCluster?.id, this.metricsProxy);\n        }\n      }\n    },\n\n    async controllerApp() {\n      if (this.controllerApp) {\n        await this.controllerApp.fetchValues(true);\n      }\n    }\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster', 'productId']),\n    ...mapGetters({ charts: 'catalog/charts' }),\n    ...monitoringStatus(),\n\n    policyName() {\n      return jaegerPolicyName(this.policyObj);\n    },\n\n    allApps() {\n      return this.$store.getters['cluster/all'](CATALOG.APP);\n    },\n\n    allRepos() {\n      return this.$store.getters['cluster/all'](CATALOG.CLUSTER_REPO);\n    },\n\n    allConfigMaps() {\n      return this.$store.getters['cluster/all'](CONFIG_MAP);\n    },\n\n    allNamespaces() {\n      return this.$store.getters['cluster/all'](NAMESPACE);\n    },\n\n    allPolicyServers() {\n      return this.$store.getters['cluster/all'](KUBEWARDEN.POLICY_SERVER);\n    },\n\n    allServiceMonitors() {\n      return this.$store.getters['cluster/all'](MONITORING.SERVICEMONITOR);\n    },\n\n    allServices() {\n      return this.$store.getters['cluster/all'](SERVICE);\n    },\n\n    cattleDashboardNs() {\n      return this.allNamespaces?.find(ns => ns?.metadata?.name === 'cattle-dashboards');\n    },\n\n    conflictingGrafanaDashboards() {\n      return this.allConfigMaps?.filter((configMap) => {\n        const name = configMap?.metadata?.name;\n\n        if ( name ) {\n          return name === KubewardenDashboards.POLICY_SERVER || name === KubewardenDashboards.POLICY;\n        }\n      });\n    },\n\n    controllerApp() {\n      return this.allApps?.find(app => app?.spec?.chart?.metadata?.name === KUBEWARDEN_CHARTS.CONTROLLER);\n    },\n\n    controllerChart() {\n      return this.charts?.find(chart => chart.chartName === KUBEWARDEN_CHARTS.CONTROLLER);\n    },\n\n    grafanaService() {\n      const monitoringServices = this.allServices?.filter(svc => svc?.metadata?.labels?.['app.kubernetes.io/instance'] === 'rancher-monitoring');\n\n      return monitoringServices?.find(svc => svc?.metadata?.labels?.['app.kubernetes.io/name'] === 'grafana');\n    },\n\n    hasAvailability() {\n      return this.isAdminUser || Object.values(this.permissions).every((value) => value);\n    },\n\n    kubewardenGrafanaDashboards() {\n      return this.allConfigMaps?.filter(configMap => configMap?.metadata?.labels?.[KubewardenDashboardLabels.DASHBOARD]);\n    },\n\n    kubewardenServiceMonitor() {\n      return findServiceMonitor({\n        policyObj:          this.policyObj,\n        policyServerObj:    this.policyServerObj,\n        controllerNs:       this.controllerApp?.metadata?.namespace,\n        allServiceMonitors: this.allServiceMonitors\n      });\n    },\n\n    metricsConfiguration() {\n      if (!this.controllerApp?.values) {\n        return null;\n      }\n\n      const version = this.controllerApp?.spec?.chart?.metadata?.version;\n      const telemetry = this.controllerApp?.values?.telemetry;\n\n      if (semver.gte(version, '4.0.0-0')) {\n        // In version 4+, telemetry.metrics should be boolean or undefined (treated as false).\n        // sidecar.metrics is only meaningful if telemetry.metrics === true.\n        const metricsIsUndefinedOrBoolean = telemetry?.metrics === undefined || typeof telemetry?.metrics === 'boolean';\n\n        // Check for unsupported 'custom' mode\n        if (telemetry?.mode === 'custom') {\n          this.unsupportedTelemetrySpec = true;\n\n          return null;\n        }\n\n        // If metrics is not undefined or boolean, it's outdated\n        if (!metricsIsUndefinedOrBoolean) {\n          this.outdatedTelemetrySpec = true;\n\n          return null;\n        }\n\n        // If telemetry.metrics is undefined or false, treat it as false.\n        // sidecar config is irrelevant in that case, and not considered outdated.\n        if (telemetry?.metrics !== true) {\n          // metrics is off, no sidecar config needed\n          return null;\n        }\n\n        // If we get here, telemetry.metrics === true and portIsDefined === true\n        return telemetry?.metrics;\n      } else {\n        // Old schema: just return telemetry.metrics.enabled\n        return telemetry?.metrics?.enabled;\n      }\n    },\n\n    monitoringApp() {\n      return this.allApps?.find(app => app?.spec?.chart?.metadata?.name === 'rancher-monitoring');\n    },\n\n    monitoringChart() {\n      return this.charts?.find(chart => chart.chartName === 'rancher-monitoring');\n    },\n\n    outdatedServiceMonitor() {\n      const sm = this.kubewardenServiceMonitor;\n      const ps = this.policyServerObj;\n\n      if (!sm || !ps) {\n        return false;\n      }\n\n      return isServiceMonitorOutOfDate(ps, sm);\n    },\n\n    openTelemetryServices() {\n      if ( this.allServices ) {\n        return this.allServices.filter(svc => svc?.metadata?.labels?.[KUBERNETES.MANAGED_NAME] === 'opentelemetry-operator');\n      }\n\n      return null;\n    },\n\n    openTelSvc() {\n      if ( !isEmpty(this.openTelemetryServices) ) {\n        return this.openTelemetryServices.find((svc) => {\n          const ports = svc?.spec?.ports;\n\n          if ( ports.length ) {\n            return ports.find(p => p.port === 8080);\n          }\n        });\n      }\n\n      return null;\n    },\n\n    policyServerSvcs() {\n      if ( !isEmpty(this.allPolicyServers) ) {\n        const policyServerNames = this.allPolicyServers.map(ps => ps?.metadata?.name);\n        const out = [];\n\n        for ( const ps of policyServerNames ) {\n          out.push(this.allServices?.find(svc => svc?.metadata?.labels?.app === `kubewarden-policy-server-${ ps }`));\n        }\n\n        return out;\n      }\n\n      return null;\n    },\n\n    showChecklist() {\n      const missingDependencies = [\n        !this.openTelSvc,\n        !this.monitoringApp,\n        !this.kubewardenServiceMonitor,\n        !this.metricsConfiguration,\n        !this.kubewardenGrafanaDashboards || isEmpty(this.kubewardenGrafanaDashboards),\n        this.outdatedServiceMonitor\n      ];\n\n      return missingDependencies.some(Boolean);\n    }\n  },\n\n  methods: {\n    async fetchData() {\n      this.setAdminUser();\n      this.setPermissions();\n      this.initDebouncedRefreshCharts();\n      await this.fetchResourcesData();\n      this.refreshChartsIfNeeded();\n      await this.handleGrafanaDashboard();\n      await this.fetchControllerAppValues();\n    },\n\n    setAdminUser() {\n      // Determine if the current user is an admin.\n      this.isAdminUser = isAdminUser(this.$store.getters);\n    },\n\n    setPermissions() {\n      // Map resource types to their respective keys.\n      const types = {\n        policyServer:   { type: KUBEWARDEN.POLICY_SERVER },\n        app:            { type: CATALOG.APP },\n        clusterRepo:    { type: CATALOG.CLUSTER_REPO },\n        configMap:      { type: CONFIG_MAP },\n        serviceMonitor: { type: MONITORING.SERVICEMONITOR },\n        namespace:      { type: NAMESPACE },\n        service:        { type: SERVICE }\n      };\n\n      // Set permissions based on store getters.\n      Object.entries(types).forEach(([key, value]) => {\n        if (this.$store.getters['cluster/canList'](value)) {\n          this.permissions[key] = true;\n        }\n      });\n    },\n\n    initDebouncedRefreshCharts() {\n      // Create a debounced function for refreshing charts.\n      this.debouncedRefreshCharts = debounce((init = false) => {\n        refreshCharts({\n          store:     this.$store,\n          chartName: 'rancher-monitoring',\n          init\n        });\n      }, 500);\n    },\n\n    async fetchResourcesData() {\n      // Define the mapping of resource names to their stored properties.\n      const resourceMap = [\n        {\n          name:     CATALOG.APP,\n          property: this.allApps\n        },\n        {\n          name:     CATALOG.CLUSTER_REPO,\n          property: this.allRepos\n        },\n        {\n          name:     CONFIG_MAP,\n          property: this.allConfigMaps\n        },\n        {\n          name:     KUBEWARDEN.POLICY_SERVER,\n          property: this.allPolicyServers\n        },\n        {\n          name:     MONITORING.SERVICEMONITOR,\n          property: this.allServiceMonitors\n        },\n        {\n          name:     NAMESPACE,\n          property: this.allNamespaces\n        },\n        {\n          name:     SERVICE,\n          property: this.allServices\n        }\n      ];\n\n      // Collect resource fetch promises if the property is empty and listing is allowed.\n      const promises = resourceMap.reduce((acc, resource) => {\n        if (isEmpty(resource.property) && this.$store.getters['cluster/canList'](resource.name)) {\n          acc.push(this.$fetchType(resource.name));\n        }\n\n        return acc;\n      }, []);\n\n      await allHash(promises);\n    },\n\n    refreshChartsIfNeeded() {\n      // Refresh charts if the checklist is shown and no monitoring chart exists.\n      if (this.showChecklist && !this.monitoringChart) {\n        this.debouncedRefreshCharts(true);\n      }\n    },\n\n    async handleGrafanaDashboard() {\n      if (this.monitoringStatus.installed) {\n        try {\n          this.metricsProxy = await grafanaProxy({\n            store: this.$store,\n            type:  this.METRICS_TYPE\n          });\n\n          if (this.metricsProxy) {\n            this.metricsService = await dashboardExists(\n              'v2',\n              this.$store,\n              this.currentCluster?.id,\n              this.metricsProxy\n            );\n          }\n        } catch (error) {\n          handleGrowl({\n            error: {\n              _statusText: 'Error',\n              message:     `Error fetching Grafana Service: ${ error }`\n            },\n            store: this.$store\n          });\n        }\n      }\n    },\n\n    async fetchControllerAppValues() {\n      if (this.controllerApp) {\n        await this.controllerApp.fetchValues(true);\n      }\n    },\n\n    async updateServiceMonitors() {\n      await this.$fetchType(MONITORING.SERVICEMONITOR);\n    },\n\n    async updateServiceMonitorLabels() {\n      await this.$fetchType(MONITORING.SERVICEMONITOR);\n      this.outdatedServiceMonitor = false;\n    },\n\n    handleMetricsChecklist(prop, val) {\n      this[prop] = val;\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <div v-else>\n    <Banner\n        v-if=\"!hasAvailability\"\n        color=\"error\"\n        class=\"mt-20 mb-20\"\n        data-testid=\"kw-unavailability-banner\"\n        :label=\"t('kubewarden.unavailability.banner', { type: t('kubewarden.unavailability.type.metricsDashboard') })\"\n      />\n\n      <MetricsChecklist\n        v-else-if=\"showChecklist\"\n        :cattle-dashboard-ns=\"cattleDashboardNs\"\n        :conflicting-grafana-dashboards=\"conflictingGrafanaDashboards\"\n        :controller-app=\"controllerApp\"\n        :controller-chart=\"controllerChart\"\n        :kubewarden-service-monitor=\"kubewardenServiceMonitor\"\n        :kubewarden-dashboards=\"kubewardenGrafanaDashboards\"\n        :metrics-configuration=\"metricsConfiguration\"\n        :monitoring-app=\"monitoringApp\"\n        :monitoring-chart=\"monitoringChart\"\n        :open-tel-svc=\"openTelSvc\"\n        :policy-obj=\"policyObj\"\n        :policy-server-obj=\"policyServerObj\"\n        :outdated-telemetry-spec=\"outdatedTelemetrySpec\"\n        :unsupported-telemetry-spec=\"unsupportedTelemetrySpec\"\n        :outdated-service-monitor=\"outdatedServiceMonitor\"\n        @updateServiceMonitors=\"updateServiceMonitors\"\n        @updateServiceMonitorLabels=\"updateServiceMonitorLabels\"\n      />\n\n    <template v-else>\n      <Banner\n        v-if=\"monitoringApp && !metricsProxy\"\n        color=\"error\"\n        :label=\"t('kubewarden.monitoring.warning.noProxy')\"\n      />\n      <DashboardMetrics\n        v-if=\"metricsProxy && active\"\n        data-testid=\"kw-ps-metrics-dashboard\"\n        :detail-url=\"metricsProxy\"\n        :summary-url=\"metricsProxy\"\n        :vars=\"{'policy_name': policyName}\"\n        graph-height=\"825px\"\n      />\n    </template>\n  </div>\n</template>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MetricsTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MetricsTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MetricsTab.vue?vue&type=template&id=3f23de49&\"\nimport script from \"./MetricsTab.vue?vue&type=script&lang=js&\"\nexport * from \"./MetricsTab.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export function proxyUrl(service: any, port: number): string {\n  const view: string = service?.links['view'];\n  const idx: number = view.lastIndexOf(`/`);\n\n  return proxyUrlFromBase(view.slice(0, idx), 'http', service?.metadata.name, port);\n}\n\nexport function proxyUrlFromBase(base: string, scheme: string, name: string, port: number, path?: any): string {\n  const schemaNamePort = (scheme ? `${ encodeURIComponent(scheme) }:` : '') + encodeURIComponent(name) + (port ? `:${ encodeURIComponent(port) }` : '');\n\n  const cleanPath = `/${ (path || '').replace(/^\\/+/g, '') }`;\n  const cleanBase = base.replace(/\\/+$/g, '');\n\n  const out = `${ cleanBase }/${ schemaNamePort }/proxy${ cleanPath }`;\n\n  return out;\n}\n","import isEmpty from 'lodash/isEmpty';\n\nimport {\n  KUBEWARDEN, JaegerConfig, PolicyTrace, PolicyTraceConfig, Tag\n} from '../types';\nimport { proxyUrl } from '../utils/service';\n\n/** TODO: Update the `any` types throughout this file */\n\n/**\n * Fetches trace reports from Jaeger for each related policy or singular policy.\n * @param config `JaegerConfig` | Contains the `store`, `jaegerQueryService`, `resource` (policy-server or policy type),\n * `relatedPolicies?` needed for policy server, `policy?` for individual policies, `time?` for trace timeframe.\n * @returns `PolicyTraceConfig | null` | A scaffold object which contains the policy name, cluster id, and traces for the policy.\n */\nexport async function jaegerTraces(config: JaegerConfig): Promise<PolicyTraceConfig | null> {\n  const {\n    store, queryService, resource, relatedPolicies, policy, time\n  } = config;\n\n  try {\n    const proxy = proxyUrl(queryService, 16686);\n\n    const promises = [];\n\n    if ( !isEmpty(relatedPolicies) ) {\n      relatedPolicies?.forEach((p: any) => {\n        const hash = jaegerTraceRequest(store, proxy, p, time);\n\n        if ( hash ) {\n          promises.push(hash);\n        }\n      });\n    } else if ( policy ) {\n      promises.push(jaegerTraceRequest(store, proxy, policy, time));\n    } else {\n      throw new Error('Policy is undefined');\n    }\n\n    let res = await Promise.all(promises);\n\n    res = res.flatMap(o => o?.data);\n\n    return scaffoldPolicyTrace(store, res, resource, relatedPolicies, policy);\n  } catch (e) {\n    console.warn(`Error fetching Jaeger traces: ${ e }`); // eslint-disable-line no-console\n  }\n\n  return null;\n}\n\nexport function jaegerPolicyName(policy: any) {\n  let out = null;\n\n  switch (policy?.kind) {\n  case 'ClusterAdmissionPolicy':\n    out = `clusterwide-${ policy?.metadata?.name }`;\n    break;\n\n  case 'AdmissionPolicy':\n    out = `namespaced-${ policy?.metadata?.namespace }-${ policy?.metadata?.name }`;\n    break;\n\n  default:\n    break;\n  }\n\n  return out;\n}\n\nfunction jaegerTraceRequest(store: any, proxyUrl: any, policy: any, time?: any) {\n  let apiPath = null;\n\n  const name = jaegerPolicyName(policy);\n  const lookbackTime = time || '2d';\n\n  const options = `lookback=${ lookbackTime }&tags={\"policy_id\"%3A\"${ name }\"}`;\n\n  // The service `kubewarden-policy-server` is **not** a k8s Service\n  apiPath = `api/traces?service=kubewarden-policy-server&operation=validation&${ options }`;\n  const JAEGER_PATH = `${ proxyUrl + apiPath }`;\n\n  return store.dispatch('cluster/request', { url: JAEGER_PATH });\n}\n\nfunction scaffoldPolicyTrace(store: any, traces: any, resource: any, relatedPolicies: any, policy: any): any {\n  const currentCluster = store.getters['currentCluster'];\n  const out = [];\n\n  function filterTraces(p: any) {\n    const policyName = jaegerPolicyName(p);\n\n    return traces.reduce((acc: any, trace: any): PolicyTrace[] => {\n      let out = {};\n\n      const validationSpan = trace.spans.find((span: any) => span.operationName === 'validation');\n      const matchedTag = validationSpan?.tags?.find((tag: any) => tag?.key === 'policy_id' && tag?.value === policyName);\n\n      if ( matchedTag ) {\n        const convertedTags = convertTagsToObject(validationSpan.tags);\n\n        out = {\n          id:              trace.traceID,\n          allowed:         convertedTags.allowed,\n          mode:            p.spec.mode,\n          name:            convertedTags.name,\n          operation:       convertedTags.operation,\n          kind:            convertedTags.kind,\n          namespace:       convertedTags.namespace || null,\n          startTime:       validationSpan.startTime,\n          duration:        validationSpan.duration,\n          responseMessage: convertedTags.response_message,\n          responseCode:    convertedTags.response_code,\n          mutated:         convertedTags.mutated\n        };\n      }\n\n      if ( !isEmpty(out) ) {\n        acc.push(out);\n        store.dispatch('kubewarden/updatePolicyTraces', {\n          policyName:   p.metadata.name,\n          cluster:      currentCluster?.id,\n          updatedTrace: out\n        });\n      }\n\n      return acc;\n    }, []);\n  }\n\n  if ( resource === KUBEWARDEN.POLICY_SERVER ) {\n    for ( const relatedPolicy of relatedPolicies ) {\n      const relatedTraces = filterTraces(relatedPolicy);\n\n      if ( !isEmpty(relatedTraces) ) {\n        out.push({\n          policyName: relatedPolicy.metadata.name,\n          cluster:    currentCluster?.id,\n          traces:     relatedTraces\n        });\n      }\n    }\n  } else {\n    const relatedTraces = filterTraces(policy);\n\n    if ( !isEmpty(relatedTraces) ) {\n      out.push({\n        policyName: policy.metadata.name,\n        cluster:    currentCluster?.id,\n        traces:     relatedTraces\n      });\n    }\n  }\n\n  return out;\n}\n\nexport function convertTagsToObject(arr: Tag[]): Record<string, string | number | boolean> {\n  const result: Record<string, string | number | boolean> = {};\n\n  for (const item of arr) {\n    switch (item.type) {\n    case 'string':\n      result[item.key] = item.value as string;\n      break;\n    case 'int64':\n      result[item.key] = parseInt(item.value as string, 10);\n      break;\n    case 'float64':\n      result[item.key] = parseFloat(item.value as string);\n      break;\n    case 'bool':\n      result[item.key] = item.value === 'true';\n      break;\n    default:\n      result[item.key] = item.value;\n    }\n  }\n\n  return result;\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".relative[data-v-a88dafa8]{position:relative}.policy__mode[data-v-a88dafa8]{display:flex;align-items:center}.policy__mode i[data-v-a88dafa8]{margin-left:5px;font-size:22px;color:var(--warning)}.gauges[data-v-a88dafa8],.gaugesContainer[data-v-a88dafa8]{display:flex}.gauges[data-v-a88dafa8]{justify-content:space-around;flex-wrap:wrap;justify-content:left}.gauges .count-gauge[data-v-a88dafa8]{width:46%;margin-bottom:10px;flex:initial}.gauges>*[data-v-a88dafa8]{flex:1;margin-right:1.75%}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TraceChecklist.vue?vue&type=style&index=0&id=f489d41c&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5f488408\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('PolicyDetail',{attrs:{\"value\":_vm.value,\"mode\":_vm.mode,\"resource\":_vm.resource}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { _CREATE } from '@shell/config/query-params';\n\nimport PolicyDetail from '../components/Policies/PolicyDetail';\n\nexport default {\n  name: 'AdmissionPolicy',\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE,\n    },\n\n    resource: {\n      type:    String,\n      default: null\n    },\n\n    value: {\n      type:     Object,\n      required: true,\n    },\n  },\n\n  components: { PolicyDetail }\n};\n</script>\n\n<template>\n  <PolicyDetail :value=\"value\" :mode=\"mode\" :resource=\"resource\" />\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=template&id=7e8e6b54&\"\nimport script from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js&\"\nexport * from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".checklist__container[data-v-f489d41c]{display:flex;justify-content:center;flex-direction:column;border:1px solid var(--border);padding:10px}.checklist__config[data-v-f489d41c],.checklist__step[data-v-f489d41c]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.checklist__step[data-v-f489d41c]{min-height:40px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TraceChecklist.vue?vue&type=style&index=0&id=f489d41c&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"mb-20\"},[_c('h3',[_vm._v(_vm._s(_vm.t('namespace.resources')))])]),_c('ResourceTabs',{attrs:{\"data-testid\":\"kw-policy-detail-tabs\",\"mode\":_vm.mode,\"need-related\":_vm.hasRelationships},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[(_vm.policyReadme)?_c('Tab',{attrs:{\"name\":\"policy-readme\",\"label\":\"Readme\",\"weight\":99}},[_c('Markdown',{attrs:{\"data-testid\":\"kw-policy-detail-readme\"},model:{value:(_vm.policyReadme),callback:function ($$v) {_vm.policyReadme=$$v},expression:\"policyReadme\"}})],1):_vm._e(),(_vm.hasRules)?_c('Tab',{attrs:{\"name\":\"policy-rules\",\"label\":\"Rules\",\"weight\":98}},[_c('RulesTable',{attrs:{\"rows\":_vm.rulesRows,\"data-testid\":\"kw-policy-detail-rules-table\"}})],1):_vm._e(),_c('Tab',{attrs:{\"name\":\"policy-tracing\",\"label\":\"Tracing\",\"weight\":97}},[_c('TraceTable',{attrs:{\"resource\":_vm.resource,\"policy\":_vm.value,\"data-testid\":\"kw-policy-detail-trace-table\"}})],1),_c('Tab',{attrs:{\"name\":\"policy-metrics\",\"label\":\"Metrics\",\"weight\":96},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('MetricsTab',{attrs:{\"resource\":_vm.resource,\"policy-obj\":_vm.value,\"active\":props.active}})]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.rows.length > 0)?_c('SortableTable',{attrs:{\"data-testid\":\"kw-policy-rules-sortable-table\",\"rows\":_vm.rows,\"headers\":_vm.RULE_HEADERS,\"table-actions\":false,\"row-actions\":false,\"key-field\":\"traceID\",\"default-sort-by\":\"startTime\"},scopedSlots:_vm._u([{key:\"col:apiGroup\",fn:function({row}){return [_c('td',[_c('span',[_vm._v(_vm._s(row.apiGroups || '-'))])])]}},{key:\"col:apiVersion\",fn:function({row}){return [_c('td',[_c('span',[_vm._v(_vm._s(row.apiVersions || '-'))])])]}},{key:\"col:operations\",fn:function({row}){return [_c('td',[_c('span',[_vm._v(_vm._s(_vm.joinColumn(row.operations)))])])]}},{key:\"col:resources\",fn:function({row}){return [_c('td',[_c('span',[_vm._v(_vm._s(_vm.joinColumn(row.resources)))])])]}}],null,false,1857136105)}):_c('div',[_c('Banner',{staticClass:\"type-banner mb-20 mt-0\",attrs:{\"color\":\"warning\",\"label\":_vm.t('kubewarden.policies.noRules')}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { Banner } from '@components/Banner';\nimport SortableTable from '@shell/components/SortableTable';\n\nimport { RULE_HEADERS } from '../config/table-headers';\n\nexport default {\n  props: {\n    rows: {\n      type:     Array,\n      default:  () => []\n    }\n  },\n\n  components: { Banner, SortableTable },\n\n  data() {\n    return { RULE_HEADERS };\n  },\n\n  methods: {\n    joinColumn(resource) {\n      return resource?.join(', ') || '';\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <SortableTable\n      v-if=\"rows.length > 0\"\n      data-testid=\"kw-policy-rules-sortable-table\"\n      :rows=\"rows\"\n      :headers=\"RULE_HEADERS\"\n      :table-actions=\"false\"\n      :row-actions=\"false\"\n      key-field=\"traceID\"\n      default-sort-by=\"startTime\"\n    >\n      <template #col:apiGroup=\"{row}\">\n        <td>\n          <span>{{ row.apiGroups || '-' }}</span>\n        </td>\n      </template>\n\n      <template #col:apiVersion=\"{row}\">\n        <td>\n          <span>{{ row.apiVersions || '-' }}</span>\n        </td>\n      </template>\n\n      <template #col:operations=\"{row}\">\n        <td>\n          <span>{{ joinColumn(row.operations) }}</span>\n        </td>\n      </template>\n\n      <template #col:resources=\"{row}\">\n        <td>\n          <span>{{ joinColumn(row.resources) }}</span>\n        </td>\n      </template>\n    </SortableTable>\n    <div v-else>\n      <Banner\n        class=\"type-banner mb-20 mt-0\"\n        color=\"warning\"\n        :label=\"t('kubewarden.policies.noRules')\"\n      />\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RulesTable.vue?vue&type=template&id=43829b53&\"\nimport script from \"./RulesTable.vue?vue&type=script&lang=js&\"\nexport * from \"./RulesTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { mapGetters } from 'vuex';\nimport isEmpty from 'lodash/isEmpty';\n\nimport { _CREATE } from '@shell/config/query-params';\nimport { monitoringStatus } from '@shell/utils/monitoring';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n\nimport Markdown from '@shell/components/Markdown';\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\nimport Tab from '@shell/components/Tabbed/Tab';\n\nimport { ARTIFACTHUB_PKG_ANNOTATION } from '../../types';\n\nimport MetricsTab from '../MetricsTab';\nimport RulesTable from '../RulesTable';\nimport TraceTable from '../TraceTable';\n\nexport default {\n  name: 'PolicyDetail',\n\n  components: {\n    Markdown, MetricsTab, ResourceTabs, RulesTable, Tab, TraceTable\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE,\n    },\n\n    resource: {\n      type:    String,\n      default: null\n    },\n\n    value: {\n      type:    Object,\n      default: () => {},\n    },\n  },\n\n  async mounted() {\n    if ( this.value?.metadata?.annotations?.[ARTIFACTHUB_PKG_ANNOTATION] ) {\n      try {\n        const artifactHubPackage = await this.value.artifactHubPackageVersion();\n\n        if ( artifactHubPackage && !artifactHubPackage.error && artifactHubPackage.readme ) {\n          this.policyReadme = JSON.parse(JSON.stringify(artifactHubPackage.readme));\n        }\n      } catch (e) {\n        console.warn(`Unable to fetch artifacthub package: ${ e }`); // eslint-disable-line no-console\n      }\n    }\n  },\n\n  data() {\n    return { policyReadme: null };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n    ...monitoringStatus(),\n\n    dashboardVars() {\n      return { policy_name: `clusterwide-${ this.value?.id }` };\n    },\n\n    hasRelationships() {\n      return !!this.value?.metadata?.relationships;\n    },\n\n    hasRules() {\n      return !isEmpty(this.rulesRows?.[0]);\n    },\n\n    rulesRows() {\n      return this.value?.spec?.rules;\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"mb-20\">\n      <h3>{{ t('namespace.resources') }}</h3>\n    </div>\n    <ResourceTabs v-model=\"value\" data-testid=\"kw-policy-detail-tabs\" :mode=\"mode\" :need-related=\"hasRelationships\">\n      <Tab v-if=\"policyReadme\" name=\"policy-readme\" label=\"Readme\" :weight=\"99\">\n        <Markdown v-model=\"policyReadme\" data-testid=\"kw-policy-detail-readme\" />\n      </Tab>\n\n      <Tab v-if=\"hasRules\" name=\"policy-rules\" label=\"Rules\" :weight=\"98\">\n        <RulesTable :rows=\"rulesRows\" data-testid=\"kw-policy-detail-rules-table\" />\n      </Tab>\n\n      <Tab name=\"policy-tracing\" label=\"Tracing\" :weight=\"97\">\n        <TraceTable :resource=\"resource\" :policy=\"value\" data-testid=\"kw-policy-detail-trace-table\" />\n      </Tab>\n\n      <Tab #default=\"props\" name=\"policy-metrics\" label=\"Metrics\" :weight=\"96\">\n        <MetricsTab :resource=\"resource\" :policy-obj=\"value\" :active=\"props.active\" />\n      </Tab>\n    </ResourceTabs>\n  </div>\n</template>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PolicyDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PolicyDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PolicyDetail.vue?vue&type=template&id=4e9a1d50&\"\nimport script from \"./PolicyDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./PolicyDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('PolicyDetail',{attrs:{\"value\":_vm.value,\"mode\":_vm.mode,\"resource\":_vm.resource}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { _CREATE } from '@shell/config/query-params';\n\nimport PolicyDetail from '../components/Policies/PolicyDetail';\n\nexport default {\n  name: 'ClusterAdmissionPolicy',\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE,\n    },\n\n    resource: {\n      type:    String,\n      default: null\n    },\n\n    value: {\n      type:     Object,\n      required: true,\n    },\n  },\n\n  components: { PolicyDetail }\n};\n</script>\n\n<template>\n  <PolicyDetail :value=\"value\" :mode=\"mode\" :resource=\"resource\" />\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=template&id=58c4f9b2&\"\nimport script from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js&\"\nexport * from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.policyserver.vue?vue&type=style&index=0&id=a88dafa8&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5b3b0e05\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MetricsChecklist.vue?vue&type=style&index=0&id=450512ba&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"ca468012\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var map = {\n\t\"./kubewarden-dashboard-policy.json\": [\n\t\t\"ec40\",\n\t\t8\n\t],\n\t\"./kubewarden-dashboard-policyserver.json\": [\n\t\t\"82e7\",\n\t\t9\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"cb8a\";\nmodule.exports = webpackAsyncContext;"],"sourceRoot":""}