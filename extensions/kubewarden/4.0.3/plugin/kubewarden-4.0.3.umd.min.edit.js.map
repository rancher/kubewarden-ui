{"version":3,"file":"kubewarden-4.0.3.umd.min.edit.js","mappings":"mPAGIA,EAA0B,IAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,4CAA6C,KAEtF,c,wGCPAC,IAAA,EA0HMD,GAAG,aACHE,MAAM,e,uLAnBKC,EAAAC,YAAYC,UAAO,kBAAlCC,EAAAA,EAAAA,aAAsDC,EAAA,CAxGxDN,IAAA,EAwGsCO,KAAK,gB,kBACzCF,EAAAA,EAAAA,aA+BcG,EAAA,CAxIhBR,IAAA,EA2GKS,SAAUC,EAAAC,MACVJ,KAAMG,EAAAE,SACN,YAAU,EACV,aAAYV,EAAAW,UACZC,OAAQZ,EAAAY,OACR,oBAAmBC,EAAAC,iBACnBC,SAAQF,EAAAG,Q,CAjHbC,SAAAC,EAAAA,EAAAA,UAmHI,IAIE,EAJFC,EAAAA,EAAAA,aAIEC,EAAA,CAHCX,MAAOD,EAAAC,MACP,eAAcY,EAAAC,YACdjB,KAAMG,EAAAH,M,wCAGDQ,EAAAU,YAAS,kBADjBC,EAAAA,EAAAA,oBAeM,MAfNC,EAeM,uBAVJD,EAAAA,EAAAA,oBASSE,EAAAA,SAAA,MAtIfC,EAAAA,EAAAA,YA8H2B3B,EAAAY,QA9H3B,CA8HgBgB,EAAKC,M,kBADf1B,EAAAA,EAAAA,aASS2B,EAAA,CAPNhC,IAAK+B,EACNE,MAAM,QACL,cAAW,eAAkBF,IAC7BG,UAAU,EACVC,QAAKC,GAAErB,EAAAsB,WAAWN,I,CAnI3BZ,SAAAC,EAAAA,EAAAA,UAqIQ,IAAS,EArIjBkB,EAAAA,EAAAA,kBAAAC,EAAAA,EAAAA,iBAqIWT,GAAG,MArIdU,EAAA,G,6CAAAC,EAAAA,EAAAA,oBAAA,UAAAD,EAAA,G,0LCAAxC,IAAA,EAwJcC,MAAM,qB,GAxJpBD,IAAA,EAyJmCC,MAAM,0B,GAShCA,MAAM,mB,2OAXEC,EAAAC,YAAYC,UAAO,kBAAlCC,EAAAA,EAAAA,aAAsDC,EAAA,CAvJxDN,IAAA,EAuJsCO,KAAK,gB,kBACzCmB,EAAAA,EAAAA,oBAkDM,MAlDNC,EAkDM,CAjDOZ,EAAA2B,UAAY3B,EAAA4B,SAAM,kBAA7BjB,EAAAA,EAAAA,oBAQM,MARNkB,EAQM,EAPJvB,EAAAA,EAAAA,aAMEwB,EAAA,CALQlC,MAAOY,EAAAuB,WA3JvB,iBAAAC,EAAA,KAAAA,EAAA,GAAAX,GA2JuBb,EAAAuB,WAAUV,GACzB,cAAY,sCACXY,QAASzB,EAAA0B,aACV,iBAAe,qBACf,eAAa,qB,gCA/JrBR,EAAAA,EAAAA,oBAAA,QAkKIS,EAAAA,EAAAA,oBAuCM,MAvCNC,EAuCM,CAtCY5B,EAAA6B,WAAQ,kBACtB/C,EAAAA,EAAAA,aAaSgD,EAAA,CAjLjBrD,IAAA,EAqKUsD,IAAI,OACH,aAAW,EACZrD,MAAM,wBACLsD,UAAOR,EAAA,KAAAA,EAAA,GAAAX,GAAErB,EAAAyC,WAAWpB,K,CAxK/BjB,SAAAC,EAAAA,EAAAA,UA0KU,IAME,qBANFf,EAAAA,EAAAA,cAMEoD,EAAAA,EAAAA,yBALKlC,EAAAmC,iBAAe,CACZ/C,MAAOY,EAAAoC,OA5K3B,iBAAAZ,EAAA,KAAAA,EAAA,GAAAX,GA4K2Bb,EAAAoC,OAAMvB,GACpB3B,SAAUC,EAAAC,MACVJ,KAAMG,EAAAH,KACNqD,mBAAmB7C,EAAA8C,wB,8DA/KhCrB,EAAA,G,OAmL4BzB,EAAA2B,WAAY3B,EAAA4B,QAAYpB,EAAA6B,UAnLpDX,EAAAA,EAAAA,oBAAA,SAmL4D,kBACpDpC,EAAAA,EAAAA,aAUEyD,EAAA,CA9LV9D,IAAA,EAqLUsD,IAAI,OACI3C,MAAOY,EAAAwC,kBAtLzB,iBAAAhB,EAAA,KAAAA,EAAA,GAAAX,GAsLyBb,EAAAwC,kBAAiB3B,GAChC,cAAY,sCACZnC,MAAM,wBACL+D,WAAW,EACX,sBAAqBzC,EAAA0C,mBACrB,cAAalD,EAAAmD,WACb,wBAAsB,EACtBC,YAAWpD,EAAAqD,kB,sEAIhB/C,EAAAA,EAAAA,aAOEgD,EAAA,CANAf,IAAI,cACJ,cAAY,sCACX,mBAAiB,EACjB,WAAS,EACTgB,eAAavB,EAAA,KAAAA,EAAA,GAAAX,GAAEb,EAAAgD,cAAgBhD,EAAAuB,YAC/B0B,gBAAczB,EAAA,KAAAA,EAAA,GAAAX,GAAEb,EAAAuB,WAAavB,EAAAgD,gB,sIArLtC,GACEE,KAAM,SAENC,MAAO,CACLnE,KAAM,CACJoE,KAASC,OACTzD,QAAS0D,EAAAA,IAGXrD,YAAa,CACXmD,KAAUG,OACV3D,QAAUA,QAGZR,MAAO,CACLgE,KAAUG,OACVC,UAAU,IAIdC,WAAY,CACVC,YAAW,IACXC,QAAO,IACPC,oBAAmB,IACnBC,OAAM,IACNC,WAAUA,EAAAA,GAGZ,aAAMC,GACJ,MAAMC,EAAaC,KAAKC,eAExBD,KAAKzB,kBAAoBwB,EACzBC,KAAKvB,mBAAqBsB,EAE1B,UACQC,KAAKE,qBACb,CAAE,MAAOC,GACPC,EAAQC,MAAM,mCAAoCF,IACpD,CACF,EAEAG,IAAAA,GACE,MAAO,CACL7C,aAAY,KACZc,kBAAqB,GACrBE,mBAAqB,GACrBb,UAAqB,EACrB2C,aAAqB,KACrBC,eAAqB,EACrBC,qBAAqB,EACrBvC,gBAAqB,KACrBa,cAAqB2B,EAAAA,GAAaC,KAClCrD,WAAqBoD,EAAAA,GAAaC,KAClCxC,OAAqB6B,KAAKhE,YAE9B,EAEA4E,MAAO,CACLtD,UAAAA,CAAWuD,EAAKC,GACd,OAAQD,GACR,KAAKH,EAAAA,GAAaC,KAChBX,KAAKpC,UAAW,EAChB,MACF,KAAK8C,EAAAA,GAAaK,KACZD,IAAQJ,EAAAA,GAAaC,OACvBX,KAAKzB,kBAAoByB,KAAKC,eAC9BD,KAAKpB,oBAGPoB,KAAKpC,UAAW,EAChB,MAEJ,GAGFoD,SAAU,CACRtC,UAAAA,GACE,OAAOuC,EAAAA,EAAaC,SACtB,EAEAhE,QAAAA,GACE,OAAO8C,KAAKjF,OAASsE,EAAAA,EACvB,EAEAlC,MAAAA,GACE,OAAO6C,KAAKjF,OAASoG,EAAAA,EACvB,GAGFC,QAAS,CACPnB,YAAAA,GACE,MAAMoB,EAAUrB,KAAKsB,OAAOC,QAAQ,eAAeC,EAAAA,IAC7CC,GAAOC,EAAAA,EAAAA,IAAWL,EAASrB,KAAK7E,OAAOgE,KAAMa,KAAKhE,aAElD2F,EAAQF,EAAKG,MAAM,MACnBC,EAAgBF,EAAMG,QAAQC,IAAUA,EAAKC,SAAS,oCACtDC,EAAeJ,EAAcK,KAAK,MAExC,OAAOD,CACT,EAEA,yBAAM/B,GACJ,GAAIF,KAAK7E,MAAMgH,cAAc,4BAA6B,CACxD,MAAMC,EAAWpC,KAAK7E,MAAMkH,gBAAgB,4BAE5CrC,KAAK9B,iBAAkBoE,EAAAA,EAAAA,UAAQC,EAAAA,EAAAA,sBAAqBH,IAEpDpC,KAAKS,qBAAsB,CAC7B,CACF,EAEAzC,UAAAA,GACEwE,OAAOC,UAAY,CACrB,EAEA7D,gBAAAA,GACE,IAAK8D,IAAQ1C,KAAKzB,mBAAoB,CACpC,MAAMoE,EAASC,IAAAA,KAAY5C,KAAKzB,mBAE5BoE,GACFE,IAAM7C,KAAKhE,YAAa2G,EAE5B,CACF,EAEAtE,sBAAAA,CAAuByE,GACrB9C,KAAK+C,MAAM,oBAAqBD,EAClC,I,sBC1IJ,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,QFMA,GACExD,WAAY,CACVyD,OAAM,IACNC,YAAW,IACXxD,QAAO,IACPyD,OAAMA,GAGRC,OAAQ,CAACC,EAAAA,GAETnE,MAAO,CACLnE,KAAM,CACJoE,KAASC,OACTzD,QAASwF,EAAAA,IAGX/F,SAAU,CACR+D,KAASC,OACTzD,QAASwF,EAAAA,IAGXhG,MAAO,CACLgE,KAAUG,OACVC,UAAU,IAId,WAAM+D,GACJ,MAAMC,EAASvD,KAAKsB,OAAOC,QAAQ,qBAAqBiC,EAAAA,GAAWC,qBAE7DF,EAAOG,qBACf,EAEApD,IAAAA,GACE,MAAO,CAAEtE,YAAagE,KAAK7E,MAC7B,EAEA2E,OAAAA,GACME,KAAK9C,UACP2F,IAAM7C,KAAKhE,YAAa2H,gBAAgBC,EAAAA,uBAE5C,EAEA5C,SAAU,CACR9D,QAAAA,GACE,OAAO8C,KAAK5E,WAAaiE,EAAAA,EAC3B,EAEApD,SAAAA,GACE,OAAO+D,KAAK1E,QAAQuI,QAAUC,MAAMC,QAAQ/D,KAAK1E,OACnD,EAEAE,gBAAAA,GACE,QAASwE,KAAKhE,aAAagI,UAAU/E,IACvC,GAGFmC,QAAS,CACPvE,UAAAA,CAAWoH,GACT,MAAM3I,EAAS0E,KAAK1E,OAAOwG,QAAO,CAAC9E,EAAGT,IAAMA,IAAM0H,IAElDjE,KAAK1E,OAASA,CAChB,EAEA,YAAMI,CAAOwI,GAEX,MAAMC,EAAmBnE,KAAKhE,aAAaoI,MAAMD,iBAE7CA,GACF,CAAC,MAAO,aAAaE,SAASlF,IAC5B,MAAMmF,EAAiBH,EAAiBhF,IAAOmF,eAE3CA,GAAyD,IAAvChF,OAAOiF,KAAKD,GAAgBT,eACzCM,EAAiBhF,GAAMmF,cAChC,IAIJ,UACQtE,KAAKwE,KAAKN,EAClB,CAAE,MAAO/D,GACPH,KAAK1E,OAAOjB,KAAK8F,EACnB,CACF,IG7FJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASsE,KAEpE,O,uBCJA,IAAIC,EAAU,EAAQ,OACnBA,EAAQC,aAAYD,EAAUA,EAAQ/I,SACnB,kBAAZ+I,IAAsBA,EAAU,CAAC,CAACpK,EAAOC,GAAImK,EAAS,MAC7DA,EAAQE,SAAQtK,EAAOuK,QAAUH,EAAQE,QAE5C,IAAIE,EAAM,WACGA,EAAI,WAAYJ,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,G,uBCN5E,IAAIA,EAAU,EAAQ,OACnBA,EAAQC,aAAYD,EAAUA,EAAQ/I,SACnB,kBAAZ+I,IAAsBA,EAAU,CAAC,CAACpK,EAAOC,GAAImK,EAAS,MAC7DA,EAAQE,SAAQtK,EAAOuK,QAAUH,EAAQE,QAE5C,IAAIE,EAAM,WACGA,EAAI,WAAYJ,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,G,uFCNxEtK,EAA0B,IAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,gUAAiU,KAE1W,c,wFCJIH,EAA0B,IAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,4fAA6f,KAEtiB,c,wFCJIH,EAA0B,IAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,6OAA8O,KAEvR,c,wBCJA,IAAImK,EAAU,EAAQ,OACnBA,EAAQC,aAAYD,EAAUA,EAAQ/I,SACnB,kBAAZ+I,IAAsBA,EAAU,CAAC,CAACpK,EAAOC,GAAImK,EAAS,MAC7DA,EAAQE,SAAQtK,EAAOuK,QAAUH,EAAQE,QAE5C,IAAIE,EAAM,WACGA,EAAI,WAAYJ,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,G,6FCT5ElK,IAAA,G,GAgmBkFC,MAAM,S,GAkD3EA,MAAM,iB,GAGJA,MAAM,6B,GArpBrBD,IAAA,EA+pBwBC,MAAM,S,uVA1EbsB,EAAAgJ,YAAS,kBAAxBlK,EAAAA,EAAAA,aAA4CC,EAAA,CArlB9CN,IAAA,EAqlB4BO,KAAK,gB,kBAC/BmB,EAAAA,EAAAA,oBAyGM,MA/rBRC,EAAA,CAulBqBZ,EAAAyJ,wBAvlBrB/H,EAAAA,EAAAA,oBAAA,SAulB2C,kBACrCpC,EAAAA,EAAAA,aAWS2B,EAAA,CAnmBfhC,IAAA,EAylBQ,cAAY,qCACZC,MAAM,yBACNgC,MAAM,UACLC,UAAU,EACVC,QAAKY,EAAA,KAAAA,EAAA,GAAAX,GAAErB,EAAA0J,YAAY,kC,CA7lB5BtJ,SAAAC,EAAAA,EAAAA,UA+lBQ,IAGM,EAHN8B,EAAAA,EAAAA,oBAGM,kCAFJA,EAAAA,EAAAA,oBAAwF,IAAxFN,EAAwF,cAAvE1C,EAAAwK,EAAE,yCAA0C,CAAC,GAAG,OACjErJ,EAAAA,EAAAA,aAAqEsJ,EAAA,CAAxDpK,KAAK,0BAA2BqK,QAAO7J,EAAA8J,e,yBAjmB9DrI,EAAA,KAqmBqBzB,EAAA+J,gBArmBrBrI,EAAAA,EAAAA,oBAAA,SAqmBmC,kBAC7BpC,EAAAA,EAAAA,aAQS2B,EAAA,CA9mBfhC,IAAA,EAumBQ,cAAY,4BACZC,MAAM,yBACNgC,MAAM,UACLC,UAAU,EACVC,QAAKY,EAAA,KAAAA,EAAA,GAAAX,GAAErB,EAAA0J,YAAY,gC,CA3mB5BtJ,SAAAC,EAAAA,EAAAA,UA6mBQ,IAAkD,EAAlD8B,EAAAA,EAAAA,oBAAkD,UAAAX,EAAAA,EAAAA,iBAA5CrC,EAAAwK,EAAE,qCAAD,MA7mBflI,EAAA,KAgnBqBzB,EAAAgK,kBAhnBrBtI,EAAAA,EAAAA,oBAAA,SAgnBqC,kBAC/BpC,EAAAA,EAAAA,aAOE2B,EAAA,CAxnBRhC,IAAA,EAknBQ,cAAY,6BACZC,MAAM,yBACNgC,MAAM,UACLC,UAAU,EACV8I,MAAO9K,EAAAwK,EAAE,qCACTvI,QAAKY,EAAA,KAAAA,EAAA,GAAAX,GAAErB,EAAA0J,YAAY,kC,mBAIhB/J,EAAAC,QAAK,kBADbN,EAAAA,EAAAA,aA6DS4K,EAAA,CAvrBbjL,IAAA,EA4nBMsD,IAAI,SACH3C,MAAOD,EAAAC,MACR,cAAY,0BACXG,OAAQZ,EAAAY,OACRoK,MAAOnK,EAAAmK,MACP,eAAa,EACb,mBAAiB,EAClBjL,MAAM,SACLkL,OAAMpK,EAAAqK,MACNC,SAAQtK,EAAAuK,KACRrK,SAAQF,EAAAG,Q,CAEEqK,UAAQnK,EAAAA,EAAAA,UACjB,IAKE,EALFC,EAAAA,EAAAA,aAKEmK,EAAA,CAJA,cAAY,yBACXjL,KAAMG,EAAAH,KACNkL,OAAQ1K,EAAA2K,0BACRC,eAAY5I,EAAA,KAAAA,EAAA,GAAAX,GAAErB,EAAA6K,aAAaxJ,K,6BAIrBuB,QAAMvC,EAAAA,EAAAA,UACf,IAeM,EAfN8B,EAAAA,EAAAA,oBAeM,MAfNC,EAeM,EAdJD,EAAAA,EAAAA,oBAA0B,WAAAX,EAAAA,EAAAA,iBAAnBhB,EAAAsK,aAAW,GACD9K,EAAA+K,cAppB3BrJ,EAAAA,EAAAA,oBAAA,SAopBuC,kBAA7Bf,EAAAA,EAAAA,oBAYWE,EAAAA,SAAA,CAhqBrB5B,IAAA,KAqpBYkD,EAAAA,EAAAA,oBAEI,IAFJ6I,GAEIxJ,EAAAA,EAAAA,iBADChB,EAAAyK,kBAAgB,GAGbzK,EAAA0K,wBAA0B1K,EAAA0K,uBAAuBC,QAAUhM,EAAAiM,qBAAqBC,aAAe7K,EAAA8K,sBAAmB,kBAD1H3K,EAAAA,EAAAA,oBAMS,UA9pBrB1B,IAAA,EA0pBcC,MAAM,6CACL2K,QAAK7H,EAAA,KAAAA,EAAA,OAAAuJ,IAAEvL,EAAAwL,YAAAxL,EAAAwL,cAAAD,M,qBAELpM,EAAAwK,EAAE,mDAAD,wBAENhJ,EAAAA,EAAAA,oBAAgC,MAAhC8K,KAAgC,QAGpCnL,EAAAA,EAAAA,aASEC,EAAA,CARCX,MAAOD,EAAAC,MACP,eAAcY,EAAAC,YACd,cAAaD,EAAAkL,WACblM,KAAMG,EAAAH,KACN,gBAAeQ,EAAA+K,aACf,wBAAuBvK,EAAA8K,oBACvBK,SAAM3J,EAAA,KAAAA,EAAA,GAAEX,GAAUb,EAAAuB,WAAaV,GAC/BuK,mBAAgB5J,EAAA,KAAAA,EAAA,GAAEX,GAAUb,EAAAkL,WAAarK,I,iGAInClB,QAAME,EAAAA,EAAAA,UACf,IAME,EANFC,EAAAA,EAAAA,aAMEsJ,EAAA,CALA,cAAY,iCACXiC,UAAW7L,EAAA8L,UACZtM,KAAK,SACLN,MAAM,QACL2K,QAAO7J,EAAAG,Q,kCAprBlBsB,EAAA,G,+DAAAC,EAAAA,EAAAA,oBAAA,QAyrBoBlB,EAAA0K,wBAA0B1K,EAAA0K,uBAAuBC,SAAUhM,EAAAiM,qBAAqBC,WAAerL,EAAA+K,cAAiBvK,EAAA8K,qBAzrBpI5J,EAAAA,EAAAA,oBAAA,SAyrBuJ,kBACjJpC,EAAAA,EAAAA,aAGEyM,EAAA,CA7rBR9M,IAAA,EA2rBQsD,IAAI,cACH,uBAAsB/B,EAAA0K,uB,qQChqBzB,SAAUc,EAAkBC,GAChC,OAAOA,EAAYC,QAAQ,MAAO,GACpC,C,+GCvBM,SAAUC,EAAwBC,GACtC,MAAMC,EAAgB,GAEhBC,EAAYF,GAAaG,SAASH,IACtC,MAAMI,EAAaJ,GAAaK,cAAcC,EAAAA,GAA8BC,YACzDP,GAAaK,cAAcG,EAAAA,GAA0BD,WAExE,GAAIH,EACF,OAAOA,CACT,IAiBF,OAdAF,GAAWC,SAAS7M,IAClB,GAAIA,EAAU,CACZ,MAAM2G,EAAQ3G,EAAS2G,MAAM,KAEzBA,EAAMiC,OAAS,EACjBjC,EAAMyC,SAAS+D,GAAcR,EAAIvN,KAAK+N,EAAEC,UAExCT,EAAIvN,KAAKY,EAEb,CAEA,MAAO,EAAE,KACPqN,OAECV,GAAuB,IAAhBA,GAAK/D,OAIV,IAAI,IAAI0E,IAAIX,EAAI9F,OAAO0G,WAHrB,EAIX,CAQM,SAAUC,EAAed,EAA0BtG,GACvD,GAAIsG,EAAa,CACf,MAAME,EAAkCF,EAAYK,cAAc,yBAAyBpG,MAAM,KACjG,IAAI8G,GAAgC,EAEpC,GAAIb,EACF,IAAK,MAAM5M,KAAY4M,EACrBa,EAAuBrH,GAASsH,MAAMpF,GACpCA,GAAQqF,YAAYC,OAAS5N,KAAgD,IAAnCsI,GAAQqF,YAAYE,iBAAwBC,KAK5F,OAAOL,CACT,CAEA,OAAO,CACT,C,eCpCA,GAA4BM,EAAAA,EAAAA,iBAAiB,CAC3CC,OAAQ,uBACR/J,MAAO,CACLgK,KAAM,CAAC,EACPC,QAAS,CAAC,EACVC,aAAc,CAAEjK,KAAMqJ,SACtBa,WAAY,CAAElK,KAAMqJ,SACpBc,SAAU,CAAC,EACXC,cAAe,CAAC,EAChBC,OAAQ,CAAErK,KAAMqJ,SAChBiB,OAAQ,CAAEtK,KAAMqJ,SAChBkB,iCAAkC,CAAEvK,KAAMqJ,UAE5CmB,MAAO,CAAC,aACRC,KAAAA,CAAMC,GAAgBC,KAAMC,ICf9B,MAAMD,EAAOC,EAEPC,GAAgBlM,EAAAA,EAAAA,OAChBmM,GAAYnM,EAAAA,EAAAA,KAAgB,IAE5BoM,EAAsBA,MAC1BC,EAAAA,EAAAA,WAAS,KACP,MAAMC,EAAQJ,EAAc7O,OAAOkP,KAAKC,cAAc,SAElDF,IACFG,IAEAH,EAAMI,iBAAiB,YAAYnG,SAAQ,CAACoG,EAAKxG,KAC/C,MAAMyG,EAAWA,KACf,MAAMC,GAAYX,EAAc7O,OAAOD,QAAiBgO,MAAQ,GAC1D0B,EAAYZ,EAAc7O,OAAOyP,WAAa,EAEpDd,EAAK,YAAaa,EAASC,EAAY,EAAI3G,GAAO,EAGpDwG,EAAII,iBAAiB,QAASH,GAC9BT,EAAU9O,MAAMd,KAAK,CACnBoQ,IAAKA,EACLC,YACA,IAEN,GACA,EAGEH,EAAyBA,KAC7BN,EAAU9O,MAAMkJ,SAAQ,EAAGoG,MAAKC,eAC9BD,EAAIK,oBAAoB,QAASJ,EAAS,IAE5CT,EAAU9O,MAAQ,EAAE,EDkCtB,OC/BAyF,EAAAA,EAAAA,QAAM,IAAMoJ,EAAc7O,OAAOD,OAAOgO,OAAM,KAC5CgB,GAAqB,KAGvBa,EAAAA,EAAAA,YAAU,KACRb,GAAqB,KAGvBc,EAAAA,EAAAA,kBAAgB,KACdT,GAAwB,IDsBnB,CAAC7P,EAAU6C,MACR0N,EAAAA,EAAAA,cAAc/O,EAAAA,EAAAA,oBAAoB,MAAO,KAAM,EACrDL,EAAAA,EAAAA,cAAaqP,EAAAA,EAAAA,OAAOC,EAAAA,GAAgB,CAClCC,QAAS,gBACTtN,IAAKkM,EACLd,KAAMxO,EAAKwO,KACXC,QAASzO,EAAKyO,QACd,gBAAiBzO,EAAK0O,aACtB,cAAe1O,EAAK2O,WACpB,YAAa3O,EAAK4O,SAClB,kBAAmB5O,EAAK6O,cACxBC,OAAQ9O,EAAK8O,OACbC,OAAQ/O,EAAK+O,OACb,wCAAyC/O,EAAKgP,kCAC7C,KAAM,EAAG,CAAC,OAAQ,UAAW,gBAAiB,cAAe,YAAa,kBAAmB,SAAU,SAAU,4CAGxH,IE5GA,MAAM1G,EAAc,EAEpB,QCFA,MAAM7G,EAAa,CAAE1B,MAAO,0BACtB2C,EAAa,CAAE3C,MAAO,UACtBkD,EAAa,CAAElD,MAAO,wBAgC5B,OAA4BuO,EAAAA,EAAAA,iBAAiB,CAC3CC,OAAQ,cACR/J,MAAO,CACLnE,KAAM,CAAC,EACPkL,OAAQ,CAAC,GAEX0D,MAAO,CAAC,gBACRC,KAAAA,CAAMC,GAAgBC,KAAMC,ICd9B,MAAM7K,EAAQ2K,EAERC,EAAOC,EAKPsB,GAAYC,EAAAA,EAAAA,QAAe,YAAa,IAExCC,GAAQC,EAAAA,EAAAA,MACRC,GAAQC,EAAAA,EAAAA,MACRxG,EAAIqG,EAAMhK,QAAQ,UAElBoK,GAAW7N,EAAAA,EAAAA,KAAY2N,GAAOG,QAAQC,EAAAA,KAAuB,IAC7DC,GAAchO,EAAAA,EAAAA,KAAY2N,GAAOG,QAAQG,EAAAA,KAA2B,IACpEnD,GAAa9K,EAAAA,EAAAA,KAAc,CAACoH,EAAE,kDAC9B8G,GAAyBlO,EAAAA,EAAAA,MAAa,GAEtCmO,GAAajL,EAAAA,EAAAA,WAAS,IAAMuK,EAAMhK,QAAQ,eAAeC,EAAAA,MAEzD0K,GAAiBlL,EAAAA,EAAAA,WAAkB,IAAMuK,EAAMhK,QAAQ,aAAa4K,EAAAA,MAEpEC,GAAqBpL,EAAAA,EAAAA,UAAmB,CAC5CqL,GAAAA,GACE,OAAOzD,EAAWzN,KACpB,EACAmR,GAAAA,CAAIC,GACF,MAAMC,EAAWtH,EAAE,gDAEnB,IAAIuH,EAAU,IAAIF,GAEbE,EAAQ5I,SACX4I,EAAU,CAACD,IAGTC,EAAQ5I,OAAS,GAAK4I,EAAQzK,SAASwK,KACzCC,EAAUA,EAAQ3K,QAAQ4K,GAAMA,IAAMF,KAGxC5D,EAAWzN,MAAQsR,CACrB,IAOIE,GAAiB3L,EAAAA,EAAAA,WAAS,IACvB9B,EAAM+G,QAAQnE,QAAQ8K,IAE3B,MAAMC,EAAeC,EAAaF,GAElC,SAAKV,EAAe/Q,OAAS0R,KAIzBxB,IAAc7H,EAAAA,GAAWuJ,mBAEnBtE,EAAemE,EAAOX,EAAW9Q,OAGhC,KACP,KAMF6R,GAAmBhM,EAAAA,EAAAA,WAAS,KAChC,MAAMiM,EAAUf,EAAe/Q,MACzBsO,EAASqC,EAAY3Q,MACrB+R,EAAelB,EAAuB7Q,MAGtCgS,GAAgB1D,GAAU,IAC7B7H,MAAM,cACNwL,KAAKV,IAAMW,EAAAA,EAAAA,IAAYX,GAAG,KAC1B5K,QAAQ4K,GAAMA,IAEjB,OAAOxN,EAAM+G,OAAOnE,QAAQ8K,IAE1B,GAAIvB,IAAc7H,EAAAA,GAAWuJ,kBAAoBtE,EAAemE,EAAOX,EAAW9Q,OAChF,OAAO,EAIT,MAAMmS,EAAQR,EAAaF,GAE3B,IAAKK,GAAWK,EACd,OAAO,EAIT,GAAIJ,IAAiBN,EAAMW,SACzB,OAAO,EAIT,GAAIJ,EAAatJ,OAAQ,CACvB,MAAM2J,EAAcC,EAAqBb,GACnCc,EAAcC,EAAkBf,GAChCgB,EAAchB,EAAMiB,aAAe,GAEnCC,EAAgBX,EAAaY,OAAOC,GAAWR,GAAeA,EAAYS,MAAMD,IACnFJ,GAAQA,EAAKK,MAAMD,IACpBN,EAAS/E,MAAMuF,GAAMA,EAAED,MAAMD,OAG/B,IAAKF,EACH,OAAO,CAEX,CAGA,GAAIlF,EAAWzN,MAAM0I,OAAQ,CAE3B,GAAI+E,EAAWzN,MAAM6G,SAASkD,EAAE,iDAC9B,OAAO,EAGT,MAAMiJ,EAAoBvF,EAAWzN,MAAMwN,MAAMyF,IAE/C,MAAMC,EAAYC,EAAenT,MAAM6G,SAASoM,GAEhD,GAAIC,EACF,MAAkB,aAAdD,EACKG,EAAW3B,GACK,kBAAdwB,GACFI,EAAe5B,GAInB,CAEL,MAAM/E,EAAY4G,EAAmB7B,GAErC,OAAO/E,GAAW7F,SAASoM,EAC7B,KAGF,IAAKD,EACH,OAAO,CAEX,CAEA,OAAO,CAAI,IACV7F,MAAK,CAACoG,EAAGC,IAAMD,EAAEzP,KAAK2P,cAAcD,EAAE1P,OAAM,IAM3C4P,GAA2B7N,EAAAA,EAAAA,WAAS,KACxC,MAAM4G,EAAuD,GAgC7D,OA9BIkH,EAAgB3T,OAAO0I,QACzB+D,EAAIvN,KACF,CACEwO,KAAO,QACPrD,MAAON,EAAE,yDAER4J,EAAgB3T,OAInBmT,EAAenT,MAAM0I,QACvB+D,EAAIvN,KACF,CACEwO,KAAO,QACPrD,MAAON,EAAE,yDAERoJ,EAAenT,OAIlByM,EAAI/D,QACN+D,EAAImH,QACF7J,EAAE,gDACF,CACE2D,KAAO,UACPrD,MAAO,YAKNoC,CAAG,IAMN0G,GAAiBtN,EAAAA,EAAAA,WAAmB,KACxC,MAAMgO,EAAyB,GAE/B,IAAK,MAAMC,KAAUtC,EAAexR,MACmB,SAAjD8T,GAAQjH,cAAc,wBACxBgH,EAAa3U,KAAK,YAGhB4U,GAAQjH,cAAc,qCACxBgH,EAAa3U,KAAK,iBAItB,MAAO,IAAI,IAAIkO,IAAIyG,EAAalN,OAAO0G,UAAU,IAM7CsG,GAAkB9N,EAAAA,EAAAA,WAAS,IACxB0G,EAAwBiF,EAAexR,SAGhD,SAAS2R,EAAanF,GACpB,MAAMhF,EAASuM,IAAAA,WAAkBvH,EAAYwH,SAG7C,OAAIxM,GAA+B,4BAArBgF,EAAY1I,OACf0D,EAAOX,SAAS,QAGlBW,CACX,CAEA,SAASyM,IACPzD,EAASxQ,MAAQ,GACjByN,EAAWzN,MAAQ,CAAC+J,EAAE,iDACtB4G,EAAY3Q,MAAQ,EACtB,CAKA,SAASkU,EAAcJ,EAAqBzU,GAC1C,OAAOyU,EAAOjH,cAAcC,EAAAA,GAA8BzN,KACnDyU,EAAOjH,cAAcG,EAAAA,GAA0B3N,GACxD,CAEA,SAASiT,EAAqBwB,GAC5B,OAAOI,EAAcJ,EAAQ,iBAAmBA,EAAOhQ,IACzD,CAEA,SAAS0O,EAAkBsB,GACzB,MAAMK,EAAiBD,EAAcJ,EAAQ,aAAe,GACtDM,EAAsBD,EAAiBA,EAAe1N,MAAM,KAAO,GAEzE,MAAO,IACDqN,EAAOvB,UAAY,MACpB6B,GACHzN,OAAO0G,QACX,CAEA,SAASiG,EAAmBQ,GAC1B,OAAOI,EAAcJ,EAAQ,YAC/B,CAEA,SAASV,EAAW3B,GAClB,MAAuE,SAAhEA,EAAM5E,cAAcC,EAAAA,GAA8BuH,SAC3D,CAEA,SAAShB,EAAe5B,GACtB,MAAsF,SAA/EA,EAAM5E,cAAcC,EAAAA,GAA8BwH,wBAC3D,CDmBA,MAAO,CAAC/U,EAAU6C,MACR0N,EAAAA,EAAAA,cAAc/O,EAAAA,EAAAA,oBAAoB,MAAOC,EAAY,EAC3DuB,EAAAA,EAAAA,oBAAoB,MAAON,EAAY,CACpCyR,EAAyB1T,MAAM0I,SAC3BoH,EAAAA,EAAAA,cAAcpQ,EAAAA,EAAAA,cAAaqQ,EAAAA,EAAAA,OAAOwE,EAAAA,GAAgB,CACjDlV,IAAK,EACLW,MAAOiR,EAAmBjR,MAC1B,iBAAkBoC,EAAO,KAAOA,EAAO,GAAMX,GAAkBwP,EAAoBjR,MAAQyB,GAC3F,cAAe,yBACf+S,WAAW,EACXC,UAAU,EACV7U,KAAMmE,EAAMnE,KACZ8U,UAAU,EACVpV,MAAO,qBACP+K,OAAO0F,EAAAA,EAAAA,OAAOhG,EAAPgG,CAAU,qCACjB1N,QAASqR,EAAyB1T,OACjC,KAAM,EAAG,CAAC,QAAS,OAAQ,QAAS,cACvC8B,EAAAA,EAAAA,oBAAoB,IAAI,IAC5BpB,EAAAA,EAAAA,cAAaqP,EAAAA,EAAAA,OAAO4E,EAAAA,GAAe,CACjChS,IAAK,mBACL3C,MAAO2Q,EAAY3Q,MACnB,iBAAkBoC,EAAO,KAAOA,EAAO,GAAMX,GAAkBkP,EAAa3Q,MAAQyB,GACpF,cAAe,yBACf7B,KAAMmE,EAAMnE,KACZN,MAAO,0BACP+K,OAAO0F,EAAAA,EAAAA,OAAOhG,EAAPgG,CAAU,2BACjB6E,aAAa7E,EAAAA,EAAAA,OAAOhG,EAAPgG,CAAU,4BACtB,KAAM,EAAG,CAAC,QAAS,OAAQ,QAAS,iBACvCxN,EAAAA,EAAAA,oBAAoB,SAAU,CAC5B,cAAe,0BACfjD,MAAO,kCACP0E,KAAM,SACNiG,QAASgK,GACR,EACD1R,EAAAA,EAAAA,oBAAoB,IAAK,MAAMX,EAAAA,EAAAA,kBAAiBmO,EAAAA,EAAAA,OAAOhG,EAAPgG,CAAU,iCAAkC,QAGhGxN,EAAAA,EAAAA,oBAAoB,MAAOC,EAAY,EACrC9B,EAAAA,EAAAA,cAAaqP,EAAAA,EAAAA,OAAO8E,EAAAA,GAAW,CAC7B7U,MAAO6Q,EAAuB7Q,MAC9B,iBAAkBoC,EAAO,KAAOA,EAAO,GAAMX,GAAkBoP,EAAwB7Q,MAAQyB,GAC/F4I,OAAO0F,EAAAA,EAAAA,OAAOhG,EAAPgG,CAAU,mCACjB,cAAe,4BACd,KAAM,EAAG,CAAC,QAAS,WACtBxN,EAAAA,EAAAA,oBAAoB,SAAU,CAC5B,cAAe,yBACfjD,MAAO,oBACP0E,KAAM,SACNiG,QAAS7H,EAAO,KAAOA,EAAO,GAAMX,GAAiBkN,EAAK,eAAgB,YACzE,EACDpM,EAAAA,EAAAA,oBAAoB,IAAK,MAAMX,EAAAA,EAAAA,kBAAiBmO,EAAAA,EAAAA,OAAOhG,EAAPgG,CAAU,mCAAoC,QAGlGrP,EAAAA,EAAAA,cAAaqP,EAAAA,EAAAA,OAAO+E,GAAuB,CACzC/G,KAAM8D,EAAiB7R,MACvBgO,SAAS+B,EAAAA,EAAAA,OAAOgF,EAAAA,IAChB,iBAAiB,EACjB,eAAe,EACf,YAAa,SACb,kBAAmB,OACnB1G,QAAQ,EACRC,QAAQ,EACR0G,YAAa5S,EAAO,KAAOA,EAAO,GAAMkN,GAAQX,EAAK,eAAgBW,KACpE,KAAM,EAAG,CAAC,OAAQ,cAGzB,I,qBEpXA,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,S,uBR8BA,IACExL,KAAM,SAENC,MAAO,CACLnE,KAAM,CACJoE,KAASC,OACTzD,QAAS0D,EAAAA,IAGXlE,MAAO,CACLgE,KAAUG,OACV3D,QAAUA,KAAA,CAAS,KAIvB6D,WAAY,CACV4Q,YAAW,IACXnN,OAAM,IACNvD,QAAO,IACP2Q,OAAM,IACNC,YAAW,GACXC,kBAAiB,IACjBpN,OAAMA,GAAAA,GAGRmI,OAAQ,CAAC,aAETlI,OAAQ,CAACC,EAAAA,GAET,aAAMvD,GACJE,KAAK+E,WAAY,EACjB,MAAMyL,EAAgBxQ,KAAKsB,OAAOC,QAAQ,kBAAkBsC,OAAS,GAEhE2M,GAAiBxQ,KAAKsB,OAAOC,QAAQ,mBAAmBkP,EAAAA,GAAQC,qBAC7D1Q,KAAKsB,OAAOqP,SAAS,kBAAmB,CAAExR,KAAMsR,EAAAA,GAAQC,eAGhE,MAAME,EAAiB5Q,KAAKsB,OAAOC,QAAQ,mBAAmBsC,OAAS,EAElE+M,SACG5Q,KAAKsB,OAAOqP,SAAS,mBAG7B3Q,KAAK7E,MAAM0V,WAAa,GAAI7Q,KAAKuD,QAAQqF,YAAYkI,SAAW9Q,KAAKuD,QAAQqF,YAAYuG,UACzFnP,KAAK7E,MAAM0N,KAAO7I,KAAKuD,QAAQqF,YAAYC,KAE3C7I,KAAK+E,WAAY,CACnB,EAEAzE,IAAAA,GACE,MAAMyQ,EAAiB,CACrBC,EAAAA,GAAiBC,eACjBD,EAAAA,GAAiBE,oBACjBF,EAAAA,GAAiBG,yBAGnB,MAAO,CACLJ,iBAEAhM,WAAwB,EACxBsB,YAAwB,KACxBG,iBAAwB,KACxB4K,iBAAwB,EACxBC,SAAwB,KACxBC,WAAwB,KACxBC,oBAAwB,KACxB9K,sBAAwB,KACxB+K,WAAwB,KACxBrC,QAAwB,KACxBtI,qBAAwB,EAExB7K,YAAa,CACXiT,OAAW,CAAC,EACZwC,UAAW,CAAC,GAEdxK,WAAY,GAEZyK,iBAAiB,EACjBpU,WAAiBoD,EAAAA,GAAaC,KAC9BgR,eAAiB,EAGjBC,aAAc,CACZC,QAAW,EACX5S,KAAW,WACXuG,MAAW,WACXsM,OAAW,EACXC,WAAW,EACXC,OAAW,IAEbC,WAAY,CACVhT,KAAW,SACXuG,MAAW,SACXsM,OAAW,EACXC,WAAW,EACXC,OAAW,IAGjB,EAEAhR,SAAU,KACLkR,EAAAA,EAAAA,IAAW,CACZjM,OAAU,iBACVkM,MAAU,kBAGZC,QAAAA,GACE,OAAOpS,KAAKsB,OAAOC,QAAQ,uBAC7B,EAEArE,QAAAA,GACE,OAAO8C,KAAK5E,WAAaiE,EAAAA,EAC3B,EAEAgT,UAAAA,GACE,QAASrS,KAAKuR,mBAChB,EAEAjL,YAAAA,GACE,MAAoC,WAA7BtG,KAAKuR,mBACd,EAGAlK,SAAAA,GACE,OAAIrH,KAAK1C,aAAeoD,EAAAA,GAAaK,QAI5Bf,KAAKhE,aAAaiT,QAAQ7K,MAAM9J,QAAU0F,KAAKsS,WAC1D,EAEAC,qBAAAA,GACE,OAAOvS,KAAKsB,OAAOC,QAAQ,mBAAmBiR,EAAAA,GAAWC,QAAS,0BACpE,EAGAH,WAAAA,GACE,IAAK5P,IAAQ1C,KAAKhE,aAAaiT,SAAWjP,KAAKhE,YAAYiT,OAAO7K,KAAM,CACtE,MAAM,MAAEsO,EAAK,SAAEC,GAAa3S,KAAKhE,YAAYiT,OAAO7K,KAE9CwO,EAAgB,CAAC,cAAe,aAAc,aAC9CC,EAAgB7S,KAAK8S,eAAeJ,EAAOE,GAC3CG,EAAe/S,KAAKhE,YAAYiT,OAAOjL,SAAS/E,KAEhD+T,EAAoBhT,KAAKhE,aAAayV,WAAWA,WAAWrE,KAAK6F,IACrE,GAAIA,EAAE1T,SACJ,OAAO0T,EAAEC,QACX,IACCpR,OAAO0G,SACJ2K,EAAoBnT,KAAK8S,eAAeH,EAAUK,GAExD,GAAMD,IAAiBrQ,IAAQmQ,KAAmBnQ,IAAQsQ,KAAuBtQ,IAAQyQ,IACvF,OAAO,CAEX,CAEA,OAAO,CACT,EAEAnO,sBAAAA,GACE,QAAShF,KAAKoT,wBAA0BpT,KAAKsB,OAAOC,QAAQ,oCAC9D,EAEA+D,cAAAA,GACE,OAAQtF,KAAKgF,wBACLhF,KAAKqT,eAAexP,QACrB7D,KAAKsB,OAAOC,QAAQ,kCAC7B,EAEAgE,gBAAAA,GACE,OAAQvF,KAAKoS,UAAYpS,KAAKsB,OAAOC,QAAQ,oCAC/C,EAEAmE,KAAAA,GACE,MAAMA,EAAQ,GAOd,OALAA,EAAMrL,KACJ2F,KAAK4R,aACL5R,KAAKiS,YAGAvM,EAAM4C,MAAK,CAACoG,EAAGC,IAAMA,EAAEqD,OAAStD,EAAEsD,QAC3C,EAEAqB,cAAAA,GACE,OAAOrT,KAAKiG,QAAQnE,QAAQ8K,GAA8B,sBAApBA,EAAMvB,WAC9C,EAEAnF,yBAAAA,GACE,OAAOlG,KAAKqT,gBAAgBjG,KAAKR,IAC/B,MAAMhF,EAAMgF,EAAM0G,SAAS,GACrBC,EAAYvT,KAAKsB,OAAOC,QAAQ,gBAAgB,CACpDiS,SAAU5L,EAAI4L,SACdC,SAAU7L,EAAI6L,WAGVC,EAAUnM,EAAkBgM,GAAWnP,MAAMuP,KAAO,IAI1D,OAFA/L,EAAI2F,SAAWvN,KAAK+Q,eAAe/O,SAAS0R,GAErC9L,CAAG,GAEd,EAEAgM,WAAAA,GACE,OAAO5T,KAAKmS,MAAM0B,QAAO,CAACC,EAAKC,KAC7BD,EAAIC,EAAK/P,SAAS/E,MAAQ8U,EAEnBD,IACN,CAAC,EACN,EAEAE,UAAAA,GACE,OAAOhU,KAAKmS,MAAM0B,QAAO,CAACC,EAAKC,KAE7B,MAAME,EAAaF,EAAK3P,KAAKuP,KAAOI,EAAK3P,KAAK8P,QACxCR,EAAUO,EAAa1M,EAAkB0M,GAAcA,EAM7D,OAJIP,IACFI,EAAIJ,GAAWK,GAGVD,CAAG,GACT,CAAC,EACN,EAEAV,sBAAAA,GACE,IAAK,MAAMM,KAAW1T,KAAK+Q,eACzB,GAAI/Q,KAAKgU,WAAWN,GAClB,OAAO1T,KAAKgU,WAAWN,GAI3B,OAAO,IACT,GAGFtS,QAAS,CACP,mBAAMiE,CAAc8O,GAClB,IACE,MAAMC,QAAgBpU,KAAKsB,OAAOqP,SAAS,iBAAkB,CAC3DxR,KAAUsR,EAAAA,GAAQC,aAClB1M,SAAU,CAAE/E,KAAM,6BAClBmF,KAAU,CAAEuP,IAAK3C,EAAAA,GAAiBC,kBAGpC,UACQmD,EAAQ5P,MAChB,CAAE,MAAOrE,GAOP,OANAkU,EAAAA,EAAAA,GAAY,CACVhU,MAAOF,EACPoL,MAAOvL,KAAKsB,cAEd6S,GAAM,EAGR,CAEKnU,KAAKoT,8BACFpT,KAAKsB,OAAOqP,SAAS,kBAE/B,CAAE,MAAOxQ,IACPkU,EAAAA,EAAAA,GAAY,CACVhU,MAAOF,EACPoL,MAAOvL,KAAKsB,SAEd6S,GAAM,EACR,CACF,EAGArB,cAAAA,CAAewB,EAAcC,GAC3B,GAAI7R,IAAQ6R,GACV,OAAO,KAGT,IAAIC,EAQJ,OALEA,EADE1Q,MAAMC,QAAQuQ,GACLA,EAAaG,MAAMC,GAAS1U,KAAK2U,gBAAgBD,EAAMH,KAEvDvU,KAAK2U,gBAAgBL,EAAcC,GAGzCC,CACT,EAGAG,eAAAA,CAAgBL,EAAcC,GAC5B,MAAMtG,EAAQ,GAEd,IAAKvL,IAAQ6R,GAAe,CAC1B,IAAK,MAAM/Z,KAAO+Z,EAAapW,SACxBuE,IAAQ4R,EAAa9Z,KAAsC,mBAAtB8Z,EAAa9Z,IAAmD,kBAAtB8Z,EAAa9Z,IAC/FyT,EAAM5T,KAAKG,GAGf,GAAI+Z,GAAgBK,IAAQ3G,EAAOsG,GACjC,OAAOD,CAEX,CAEA,OAAO,IACT,EAEA,iBAAMrP,CAAY4P,EAAQC,EAAQ,GAChC,MAAMC,QAAY/U,KAAKsB,OAAOqP,SAAS,cAAekE,KAAW,GAEnD,IAAVC,GAA6B,UAAdC,GAAK5V,MAAoC,MAAhB4V,GAAKC,cACzChV,KAAKiV,MAAMH,EAAQ,EAE7B,EAEA,qBAAMI,CAAgBC,GACpB,MAAMC,EAAgBpV,KAAKsB,OAAOC,QAAQ,eAAe8T,EAAAA,IACnDC,EAAa,CACjBnW,KAA0BkW,EAAAA,GAC1BrR,SAA0B,CAAE/E,KAAMkW,GAClCI,0BAA0B,GAGtBC,EAAWJ,GAAeX,MAAMgB,GAAMA,GAAGzR,UAAU/E,OAASkW,IAElE,IAAKK,EAAU,CACb,MAAME,QAAmB1V,KAAKsB,OAAOqP,SAAS,iBAAkB2E,GAEhE,UACQI,EAAWlR,MACnB,CAAE,MAAOrE,GACPH,KAAK1E,OAAOjB,KAAK8F,EACnB,CACF,CACF,EAEA2F,IAAAA,GACE9F,KAAK2V,QAAQlO,QAAQ,CACnBxI,KAAQ,6BACR2W,OAAQ,CACNC,QAAU7V,KAAK8V,OAAOF,OAAOC,QAC7BE,QAAUC,EAAAA,GACV/a,SAAU+E,KAAKuD,QAAQhJ,KAG7B,EAEA,YAAMmB,CAAOwI,GACX,IACE,IAAI0D,EAGFA,EADE5H,KAAK1C,aAAeoD,EAAAA,GAAaK,KAC7B6B,IAAAA,KAAY5C,KAAKiH,YAEjBjH,KAAKhE,aAAaiT,OAASjP,KAAKhE,YAAYiT,OAASrM,IAAAA,KAAY5C,KAAKiH,aAG9EgP,EAAAA,EAAAA,GAAiBrO,GAEb5H,KAAK2R,eAAiB,GAExBrS,OAAOiF,KAAKvE,KAAK7E,MAAMiJ,MAAMC,SAAS7J,IAC9BA,KAAOoN,EAAIxD,MACfpE,KAAKkW,QAAQlW,KAAK7E,MAAMiJ,KAAM5J,EAChC,IAIF8E,OAAOiF,KAAKqD,EAAIxD,MAAMC,SAAS7J,IAC7BwF,KAAK7E,MAAMiJ,KAAK5J,IAAMoN,EAAIxD,KAAK5J,EAAI,KAGrCqI,IAAM7C,KAAK7E,MAAOyM,GAIhB5H,KAAKqL,YAAc7H,EAAAA,GAAWuJ,kBAAoB/M,KAAKhE,aAAama,sBAChEnW,KAAKkV,gBAAgBlV,KAAK7E,OAAO6I,UAAUoS,iBAG7CpW,KAAKqW,YAAYnS,EACzB,CAAE,MAAO/D,GACPC,GAAQC,MAAM,wBAAyBF,EACzC,CACF,EAEA,iBAAMkW,CAAYnS,GAIhB,SAHMlE,KAAKwE,KAAKN,GAGZlE,KAAK1E,QAAU0E,KAAK1E,OAAOuI,OAAS,EAAG,CACzC,MAAMxD,EAAQ,IAAIiW,MAAM,yBAGxB,MADAtW,KAAK2R,iBACCtR,CACR,CACF,EAEAkW,QAAAA,CAASC,GACP,IAAKA,EACH,OAAO,KAGT,MAAM7T,EAAS8T,KAAKC,MAAMD,KAAKE,UAAUH,IAEzC,OAAO5T,IAAAA,KAAYD,EACrB,EAGA,qBAAMiU,GACJ,MAAMC,EAAgBlT,gBAAgBmT,EAAAA,IAEtC,GAAI9W,KAAKsG,aAAc,CAErB,MAAMyQ,EAAsB,CAAE3S,KAAM,CAAE4S,sBAAuB,KAEvDC,EAAcpU,IAAM,CAAC,EAAGgU,EAAeE,GAK7C,OAHAzK,EAAAA,EAAAA,IAAItM,KAAKhE,YAAa,SAAUib,QAChCjX,KAAKiH,YAAaiQ,EAAAA,EAAAA,IAAUD,GAG9B,CAEEjX,KAAK7E,MAAM6I,SAASgE,YAAchI,KAAK7E,MAAM6I,SAASgE,aAAe,CAAC,EACtEhI,KAAK7E,MAAM6I,SAASgE,YAAYmP,EAAAA,GAAuBC,WAAapX,KAAKuR,oBAAoB/W,IAC7FwF,KAAK7E,MAAM6I,SAASgE,YAAYmP,EAAAA,GAAuBE,YAAcrX,KAAKuR,oBAAoBtS,KAC9Fe,KAAK7E,MAAM6I,SAASgE,YAAYmP,EAAAA,GAAuBG,eAAiBtX,KAAKuR,oBAAoBpC,QAGnG,IACEnP,KAAKyG,4BAA8BzG,KAAKsB,OAAOqP,SAAS,yBAA0B,CAChF6C,SAAcxT,KAAKuR,oBAAoBiC,SACvCC,SAAczT,KAAKuR,oBAAoBkC,SACvC8D,UAAcvX,KAAKuR,oBAAoBtS,KACvCuY,YAAcxX,KAAKuR,oBAAoBpC,UAGzC,MAAMyH,EAAkB5W,KAAKyG,uBAAuBgL,UAC9CgG,GAAoBC,EAAAA,EAAAA,OAAM1X,KAAKyG,uBAAuBmG,OAAO5E,aAEnE,IAAKyP,EACH,MAAM,IAAInB,MAAM,kCAGlB,IAAIqB,EAAWF,EAAkBG,EAAAA,GAA+BC,UAC5DC,EAAe,GAAIL,EAAkBG,EAAAA,GAA+BG,eAAiBN,EAAkBG,EAAAA,GAA+BI,OAGtIhY,KAAKuS,uBAAuBpX,OAAS6E,KAAKuS,sBAAsBpX,QAAU6E,KAAKuS,sBAAsB5W,UACvGgc,EAAW3X,KAAKuS,sBAAsBpX,OAGpCwc,IACFG,EAAe,GAAIH,KAAcG,KAGnC,MAAMG,EAAgB,CACpBpH,WAAY7Q,KAAK7E,MAAM0V,WACvBhI,KAAY7I,KAAK7E,MAAM0N,KACvB7E,SAAY,IAAKhE,KAAK7E,MAAM6I,UAC5BI,KAAY,CACV9J,OAAUwd,EACV/c,KAAU,UACVmd,SAAyE,SAA/DT,EAAkBG,EAAAA,GAA+BpI,YAAwB,EACnFkD,MAAU1S,KAAKuW,SAASkB,EAAkBG,EAAAA,GAA+BO,SAAW,KAIpFnY,KAAKqL,YAAc7H,EAAAA,GAAW4U,0BAChC9Y,OAAO+Y,OAAOJ,EAAc7T,KAAM,CAAE4S,sBAAuBhX,KAAKuW,SAASkB,EAAkBG,EAAAA,GAA+BnI,2BAA6B,KAGzJ5M,IAAMgU,EAAeoB,IACrB3L,EAAAA,EAAAA,IAAItM,KAAKhE,YAAa,SAAU6a,GAEhC7W,KAAKiH,YAAaiQ,EAAAA,EAAAA,IAAUlX,KAAKhE,YAAYiT,QAEzC2H,IACFtK,EAAAA,EAAAA,IAAItM,KAAKhE,YAAa,YAAa4a,GAGrC5W,KAAKwG,iBAAmBxG,KAAKuR,qBAAqB1D,WACpD,CAAE,MAAO1N,GACPC,GAAQkY,KAAK,2EAA4EnY,GAEzFH,KAAK6G,qBAAsB,EAE3B7G,KAAKqG,YAAc,6BACnBrG,KAAKwG,iBAAmB,qGAAsGrG,EAAEoY,SAAW,oBAG3IjM,EAAAA,EAAAA,IAAItM,KAAKhE,YAAa,SAAU6a,GAChC7W,KAAKiH,YAAaiQ,EAAAA,EAAAA,IAAUL,EAC9B,CACF,EAEAjR,KAAAA,CAAM1B,GACJlE,KAAKwY,WAAU,KACb,GAAItU,EAAMuU,MAAMxZ,OAASe,KAAK4R,aAAa3S,KAAM,CAC/C,MAAMyZ,EAAe,CACnB,SACA,cACA,mBACA,sBACA,wBACA,aACA,UACA,mBAGFA,EAAarU,SAAS9H,IACpByD,KAAKzD,GAAK,IAAI,IAGhByD,KAAK4R,aAAaE,OAAQ,EAC1B9R,KAAKiS,WAAWJ,QAAS,EAEzB7R,KAAKhE,YAAc,CACjBiT,OAAW,CAAC,EACZwC,UAAW,CAAC,GAEdzR,KAAK1C,WAAaoD,EAAAA,GAAaC,KAC/BX,KAAKiH,WAAa,GAGlBjH,KAAK2V,QAAQlO,QAAQ,CACnBkR,KAAO3Y,KAAK8V,OAAO6C,KACnB/M,MAAO5L,KAAK8V,OAAOlK,MACnBgN,KAAO,IAEX,IAEJ,EAEA,kBAAMxS,CAAa6I,GACjBjP,KAAKuR,oBAAsBtC,EAEvBjP,KAAKsG,aACPtG,KAAK0R,iBAAkB,EAEvB1R,KAAK0R,iBAAkB,QAGnB1R,KAAK4W,kBACX5W,KAAK4R,aAAaE,OAAQ,EAC1B9R,KAAK6Y,MAAMC,OAAOC,OAClB/Y,KAAKqG,YAAcrG,KAAKsG,aAAe,gBACrC2I,GAAQjH,cAAcC,EAAAA,GAA8B+Q,eAAiB/J,GAAQhQ,IAEjF,EAEA8H,UAAAA,GACE/G,KAAK6Y,MAAMI,aAAaC,MAC1B,I,SSvkBJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAASzU,GAAQ,CAAC,YAAY,qBAEzF,S,wFCNIrK,EAA0B,IAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,2tDAA4tD,KAErwD,c,wBCJA,IAAImK,EAAU,EAAQ,OACnBA,EAAQC,aAAYD,EAAUA,EAAQ/I,SACnB,kBAAZ+I,IAAsBA,EAAU,CAAC,CAACpK,EAAOC,GAAImK,EAAS,MAC7DA,EAAQE,SAAQtK,EAAOuK,QAAUH,EAAQE,QAE5C,IAAIE,EAAM,WACGA,EAAI,WAAYJ,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,G,gHCNtE,SAAUuR,EAAiBO,GAmB/B,OAlBAlX,OAAOiF,KAAKiS,GAAKnS,SAAS7J,IACxB,MAAMW,EAAQqb,EAAIhc,QAGJuO,IAAV5N,GAAiC,OAAVA,GAA4B,KAAVA,GAAiB2I,MAAMC,QAAQ5I,KAAWA,EAAM0I,cACpF2S,EAAIhc,GACF2e,IAAShe,KAElB8a,EAAiB9a,GAGbuH,IAAQvH,WACHqb,EAAIhc,GAEf,IAIEkI,IAAQ8T,GACH,KAGFA,CACT,C,wBCxBA,IAAI9R,EAAU,EAAQ,MACnBA,EAAQC,aAAYD,EAAUA,EAAQ/I,SACnB,kBAAZ+I,IAAsBA,EAAU,CAAC,CAACpK,EAAOC,GAAImK,EAAS,MAC7DA,EAAQE,SAAQtK,EAAOuK,QAAUH,EAAQE,QAE5C,IAAIE,EAAM,WACGA,EAAI,WAAYJ,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,G,wBCN5E,IAAIA,EAAU,EAAQ,KACnBA,EAAQC,aAAYD,EAAUA,EAAQ/I,SACnB,kBAAZ+I,IAAsBA,EAAU,CAAC,CAACpK,EAAOC,GAAImK,EAAS,MAC7DA,EAAQE,SAAQtK,EAAOuK,QAAUH,EAAQE,QAE5C,IAAIE,EAAM,WACGA,EAAI,WAAYJ,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,G,mPCmH5DnJ,EAAA2B,WAAQ,kBAAtBrC,EAAAA,EAAAA,aAAsDue,EAAA,CA5HxD5e,IAAA,EA4H2BW,MAAOD,EAAAC,MAAQJ,KAAMG,EAAAH,M,8CAC9CF,EAAAA,EAAAA,aAacG,EAAA,CA1IhBR,IAAA,EA+HKc,OAAQZ,EAAAY,OACRL,SAAUC,EAAAC,MACVJ,KAAMG,EAAAE,SACN,YAAU,EACVK,SAAQF,EAAAG,Q,CAnIbC,SAAAC,EAAAA,EAAAA,UAqII,IAIE,EAJFC,EAAAA,EAAAA,aAIEwd,EAAA,CAHCle,MAAOD,EAAAC,MACPJ,KAAMG,EAAAE,SACN+L,mBAAkB5L,EAAA+d,0B,iDAxIzBtc,EAAA,G,iJAYA,GACEiC,KAAM,yBAENC,MAAO,CACL/D,MAAO,CACLgE,KAAUG,OACVC,UAAU,GAGZxE,KAAM,CACJoE,KAASC,OACTzD,QAASwF,EAAAA,IAGX/F,SAAU,CACR+D,KAASC,OACTzD,QAASwF,EAAAA,KAIb3B,WAAY,CACV0D,YAAW,IACXqW,OAAM,IACNC,OAAMA,EAAAA,GAGRpW,OAAQ,CAACC,EAAAA,GAEToW,OAAAA,GACE,MAAO,CACLpO,UAAWrL,KAAK7E,MAAMgE,KACtB/D,SAAW4E,KAAK5E,SAEpB,EAEA4F,SAAU,CACR9D,QAAAA,GACE,OAAO8C,KAAK5E,WAAaiE,EAAAA,EAC3B,EAEAqa,OAAAA,GACE,OAAO1Z,KAAK5E,WAAaue,EAAAA,EAC3B,EAEApW,MAAAA,GACE,OAAOvD,KAAKsB,OAAOC,QAAQ,qBAAqBvB,KAAK7E,MAAMgE,KAC7D,GAGFiC,QAAS,CACP,YAAM1F,CAAOwI,GACX,KACE+R,EAAAA,EAAAA,GAAiBjW,KAAK7E,OAKpB6E,KAAK0Z,SACL1Z,KAAK7E,MAAMye,2BACkD,wBAA7D5Z,KAAK7E,OAAO6I,UAAU6V,SAAS,kCAExB7Z,KAAK7E,OAAO6I,UAAU6V,SAAS,gCAGlC7Z,KAAKwE,KAAKN,EAAQlE,KAAKuD,QAAQuW,QAAQ,eAAiB,GAChE,CAAE,MAAO3Z,IACPkU,EAAAA,EAAAA,GAAY,CACVhU,MAAOF,EACPoL,MAAOvL,KAAKsB,QAEhB,CACF,EAIAgY,wBAAAA,CAAyBxW,GAEvB,MAAMH,EAASC,IAAAA,KAAYE,IAE3BmT,EAAAA,EAAAA,GAAiBtT,GAejBrD,OAAOiF,KAAKvE,KAAK7E,OAAOkJ,SAAS7J,IAC1B8E,OAAOya,UAAUC,eAAeC,KAAKtX,EAAQnI,WACzCwF,KAAK7E,MAAMX,EACpB,IAGF8E,OAAO+Y,OAAOrY,KAAK7E,MAAOwH,GAG1B3C,KAAK+C,MAAM,QAAS/C,KAAK7E,MAC3B,I,sBC7GJ,MAAM6H,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASyB,GAAQ,CAAC,YAAY,qBAEzF,O,2MCNA,MAAMtI,EAAa,CAAE3B,IAAK,GACpB4C,EAAa,CACjB5C,IAAK,EACLC,MAAO,0BAEHkD,EAAa,CAAElD,MAAO,qBACtB8L,EAAa,CAAE9L,MAAO,mBAuC5B,OAA4BuO,EAAAA,EAAAA,iBAAiB,CAC3CC,OAAQ,SACR/J,MAAO,CACLnE,KAAM,CAAC,EACPiB,YAAa,CAAC,EACdsK,aAAc,CAAEnH,KAAMqJ,SACtBrN,MAAO,CAAC,EACR8L,WAAY,CAAC,EACbJ,oBAAqB,CAAE1H,KAAMqJ,UAE/BmB,MAAO,CAAC,SAAU,oBAClBC,KAAAA,CAAMC,GAAgBC,KAAMC,ICtB9B,MAAM7K,EAAQ2K,EACR0B,GAAQC,EAAAA,EAAAA,MACR1B,EAAOC,EAEPmQ,GAAepc,EAAAA,EAAAA,MAAI,GAEnBS,GAAoBT,EAAAA,EAAAA,KAAI,IACxBW,GAAqBX,EAAAA,EAAAA,KAAI,IACzBF,GAAWE,EAAAA,EAAAA,MAAI,GACfI,GAAkBJ,EAAAA,EAAAA,KAAS,MAC3BiB,GAAgBjB,EAAAA,EAAAA,KAAI4C,EAAAA,GAAaC,MACjCrD,GAAaQ,EAAAA,EAAAA,KAAI4C,EAAAA,GAAaC,MAC9BwO,GAAUrR,EAAAA,EAAAA,KAAS,MAEnBY,GAAasC,EAAAA,EAAAA,WAAS,IAAMC,EAAAA,EAAaC,YACzChE,GAAW8D,EAAAA,EAAAA,WAAS,IAAM9B,EAAMnE,OAASsE,EAAAA,KACzClC,GAAS6D,EAAAA,EAAAA,WAAS,IAAM9B,EAAMnE,OAASoG,EAAAA,KAqB7C,SAASlB,IACP,MAAMoB,EAAUkK,EAAMhK,QAAQ,eAAeC,EAAAA,IAEvC2Y,GAAYzC,EAAAA,EAAAA,OAAMxY,EAAMlD,YAAYiT,QAEpCmL,EAASD,EAAYxW,gBAAgBwW,GAAajb,EAAM/D,MAE1D+D,EAAM+H,YAAYpD,OACpBtF,EAAkBpD,MAAQ+D,EAAM+H,WAEhC1I,EAAkBpD,OAAQuG,EAAAA,EAAAA,IAAWL,EAASnC,EAAM/D,OAAOgE,KAAMib,EAErE,CAEA,SAASla,IACP,GAAIhB,EAAM/D,OAAOgH,cAAc,wBAAyB,CAEtD,MAAMC,EAAWlD,EAAM/D,MAAMkH,gBAAgB,wBAE7CnE,EAAgB/C,OAAQmH,EAAAA,EAAAA,UAAQC,EAAAA,EAAAA,sBAAqBH,GACvD,CACF,CAEA,SAASpE,IACPwE,OAAO6X,SAAS,EAAG,EACrB,CAEA,SAASzb,IACPkL,EAAK,mBAAoBvL,EAAkBpD,MAC7C,CDsDA,OCtGAyF,EAAAA,EAAAA,OAAMtD,GAAY,CAACuD,EAAKC,KACtB,OAAQD,GACR,KAAKH,EAAAA,GAAaC,KAChB/C,EAASzC,OAAQ,EACjB2O,EAAK,SAAUjJ,GACf,MACF,KAAKH,EAAAA,GAAaK,KAEZD,IAAQJ,EAAAA,GAAaC,OACvBpC,EAAkBpD,OAAQ+b,EAAAA,EAAAA,IAAUhY,EAAMlD,YAAYiT,QACtDrQ,KAGFhB,EAASzC,OAAQ,EACjB2O,EAAK,SAAUjJ,GACf,MACF,KAkCFkK,EAAAA,EAAAA,YAAUuP,UAER,IACEnL,EAAQhU,MAAQoQ,EAAMhK,QAAQ,mBAAmB,CAC/CiS,SAAW,UACXC,SAAW,aACX8D,UAAWgD,EAAAA,GAAkBC,aAE/Bta,GACF,CAAE,MAAOC,GACPC,EAAQkY,KAAK,4BAA6BnY,IAC5C,CAEAF,IAGIf,EAAMnE,OAASsE,EAAAA,IAA+C,2BAApCH,EAAMlD,aAAaiT,QAAQpG,OAClD3J,EAAMlD,aAAaiT,QAAQ7K,MAAMqW,oBACpCvb,EAAMlD,YAAYiT,OAAO7K,KAAKqW,kBAAoB,CAAC,GAErDvb,EAAMlD,YAAYiT,OAAO7K,KAAKqW,kBAAkBC,iBAAmB,CACjEC,EAAAA,KAIJT,EAAa/e,OAAQ,CAAK,ID2BrB,CAACT,EAAU6C,IACR2c,EAAa/e,QAChB8P,EAAAA,EAAAA,cAAcpQ,EAAAA,EAAAA,cAAaqQ,EAAAA,EAAAA,OAAOxL,EAAAA,GAAU,CAC3ClF,IAAK,EACLO,KAAM,gBAEPkQ,EAAAA,EAAAA,cAAc/O,EAAAA,EAAAA,oBAAoB,MAAOC,EAAY,CACnDe,EAAS/B,OAASgC,EAAOhC,QACrB8P,EAAAA,EAAAA,cAAc/O,EAAAA,EAAAA,oBAAoB,MAAOkB,EAAY,EACpDvB,EAAAA,EAAAA,cAAaqP,EAAAA,EAAAA,OAAOzL,EAAAA,GAAc,CAChCtE,MAAOmC,EAAWnC,MAClB,iBAAkBoC,EAAO,KAAOA,EAAO,GAAMX,GAAkBU,EAAYnC,MAAQyB,GACnF,cAAe,+BACfY,SAAS0N,EAAAA,EAAAA,OAAOzN,EAAAA,IAChB,iBAAkB,qBAClB,eAAgB,qBACf,KAAM,EAAG,CAAC,QAAS,gBAExBR,EAAAA,EAAAA,oBAAoB,IAAI,IAC5BS,EAAAA,EAAAA,oBAAoB,MAAOC,EAAY,EACrCD,EAAAA,EAAAA,oBAAoB,MAAO6I,EAAY,CACpC3I,EAASzC,QACL8P,EAAAA,EAAAA,cAAcpQ,EAAAA,EAAAA,cAAaqQ,EAAAA,EAAAA,OAAOtL,EAAAA,GAAS,CAC1CpF,IAAK,EACLsD,IAAK,OACL,aAAa,EACbrD,MAAO,wBACPsD,UAAWR,EAAO,KAAOA,EAAO,GAAMX,GAAiBoB,MACtD,CACDrC,SAASC,EAAAA,EAAAA,UAAS,IAAM,CACrBsC,EAAgB/C,QACZ8P,EAAAA,EAAAA,cAAcpQ,EAAAA,EAAAA,cAAaoD,EAAAA,EAAAA,yBAAyBC,EAAgB/C,OAAQ,CAC3EX,IAAK,EACLW,MAAOT,EAAKsB,YACZjB,KAAML,EAAKK,KACX,gBAAiBL,EAAK4L,aACtB,wBAAyB5L,EAAKmM,qBAC7B,KAAM,EAAG,CAAC,QAAS,OAAQ,gBAAiB,4BAC/C5J,EAAAA,EAAAA,oBAAoB,IAAI,MAE9BD,EAAG,GACF,OACDE,EAAS/B,QAASgC,EAAOhC,OAAWyC,EAASzC,OAc7C8B,EAAAA,EAAAA,oBAAoB,IAAI,KAbvBgO,EAAAA,EAAAA,cAAcpQ,EAAAA,EAAAA,cAAaqQ,EAAAA,EAAAA,OAAOrL,EAAAA,GAAa,CAC9CrF,IAAK,EACLsD,IAAK,OACL3C,MAAOoD,EAAkBpD,MACzB,iBAAkBoC,EAAO,KAAOA,EAAO,GAAMX,GAAkB2B,EAAmBpD,MAAQyB,GAC1F,cAAe,+BACfnC,MAAO,wBACP+D,WAAW,EACX,sBAAuBC,EAAmBtD,MAC1C,cAAeuD,EAAWvD,MAC1B,wBAAwB,EACxBwD,YAAaC,GACZ,KAAM,EAAG,CAAC,QAAS,sBAAuB,kBAEnD/C,EAAAA,EAAAA,cAAaqP,EAAAA,EAAAA,OAAOvL,EAAAA,GAAsB,CACxC7B,IAAK,cACL,cAAe,+BACf,mBAAmB,EACnB,WAAW,EACXgB,eAAgBvB,EAAO,KAAOA,EAAO,GAAMX,GAAiBmC,EAAc5D,MAAQmC,EAAWnC,OAC7F6D,gBAAiBzB,EAAO,KAAOA,EAAO,GAAMX,GAAiBU,EAAWnC,MAAQ4D,EAAc5D,QAC7F,KAAM,WAKrB,I,sBE5NA,MAAM6H,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,wFCLI5I,EAA0B,IAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,syDAAuyD,KAEh1D,c,wBCJA,IAAImK,EAAU,EAAQ,OACnBA,EAAQC,aAAYD,EAAUA,EAAQ/I,SACnB,kBAAZ+I,IAAsBA,EAAU,CAAC,CAACpK,EAAOC,GAAImK,EAAS,MAC7DA,EAAQE,SAAQtK,EAAOuK,QAAUH,EAAQE,QAE5C,IAAIE,EAAM,WACGA,EAAI,WAAYJ,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,G,mPCyF5DnJ,EAAA2B,WAAQ,kBAAtBrC,EAAAA,EAAAA,aAAsDue,EAAA,CAlGxD5e,IAAA,EAkG2BW,MAAOD,EAAAC,MAAQJ,KAAMG,EAAAH,M,8CAC9CF,EAAAA,EAAAA,aAacG,EAAA,CAhHhBR,IAAA,EAqGKc,OAAQZ,EAAAY,OACRL,SAAUC,EAAAC,MACVJ,KAAMG,EAAAE,SACN,YAAU,EACVK,SAAQF,EAAAG,Q,CAzGbC,SAAAC,EAAAA,EAAAA,UA2GI,IAIE,EAJFC,EAAAA,EAAAA,aAIEwd,EAAA,CAHCle,MAAOD,EAAAC,MACPJ,KAAMG,EAAAE,SACN+L,mBAAkB5L,EAAA+d,0B,iDA9GzBtc,EAAA,G,iJAYA,GACEiC,KAAM,kBAENC,MAAO,CACL/D,MAAO,CACLgE,KAAUG,OACVC,UAAU,GAGZxE,KAAM,CACJoE,KAASC,OACTzD,QAASwF,EAAAA,IAGX/F,SAAU,CACR+D,KAASC,OACTzD,QAASwF,EAAAA,KAIb3B,WAAY,CACV0D,YAAW,IACXqW,OAAM,IACNC,OAAMA,EAAAA,GAGRpW,OAAQ,CAACC,EAAAA,GAEToW,OAAAA,GACE,MAAO,CACLpO,UAAWrL,KAAK7E,MAAMgE,KACtB/D,SAAW4E,KAAK5E,SAEpB,EAEA4F,SAAU,CACR9D,QAAAA,GACE,OAAO8C,KAAK5E,WAAaiE,EAAAA,EAC3B,EAEAqa,OAAAA,GACE,OAAO1Z,KAAK5E,WAAaue,EAAAA,EAC3B,EAEApW,MAAAA,GACE,OAAOvD,KAAKsB,OAAOC,QAAQ,qBAAqBvB,KAAK7E,MAAMgE,KAC7D,GAGFiC,QAAS,CACP,YAAM1F,CAAOwI,GACX,KACE+R,EAAAA,EAAAA,GAAiBjW,KAAK7E,OAKpB6E,KAAK0Z,SACL1Z,KAAK7E,MAAMye,2BACkD,wBAA7D5Z,KAAK7E,OAAO6I,UAAU6V,SAAS,kCAExB7Z,KAAK7E,OAAO6I,UAAU6V,SAAS,gCAGlC7Z,KAAKwE,KAAKN,EAAQlE,KAAKuD,QAAQuW,QAAQ,eAAiB,GAChE,CAAE,MAAO3Z,IACPkU,EAAAA,EAAAA,GAAY,CACVhU,MAAOF,EACPoL,MAAOvL,KAAKsB,QAEhB,CACF,EAIAgY,wBAAAA,CAAyBxW,GACvB,MAAMH,EAASC,IAAAA,KAAYE,IAE3BmT,EAAAA,EAAAA,GAAiBtT,GACjBrD,OAAO+Y,OAAOrY,KAAK7E,MAAOwH,EAC5B,I,sBCrFJ,MAAMK,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASyB,GAAQ,CAAC,YAAY,qBAEzF,O,wBCNA,IAAIC,EAAU,EAAQ,OACnBA,EAAQC,aAAYD,EAAUA,EAAQ/I,SACnB,kBAAZ+I,IAAsBA,EAAU,CAAC,CAACpK,EAAOC,GAAImK,EAAS,MAC7DA,EAAQE,SAAQtK,EAAOuK,QAAUH,EAAQE,QAE5C,IAAIE,EAAM,WACGA,EAAI,WAAYJ,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,G,oHCN5E,MAAMvI,EAAa,CACjB1B,MAAO,oBACPmgB,MAAO,4BAEHxd,EAAa,CAAE3C,MAAO,mBACtBkD,EAAa,CACjBnD,IAAK,EACLC,MAAO,uBAEH8L,EAAa,CAAE9L,MAAO,uBACtBuM,EAAa,CAAEvM,MAAO,4BACtBogB,EAAa,CAAEpgB,MAAO,sBACtBqgB,EAAa,CAAErgB,MAAO,qBAU5B,OAA4BuO,EAAAA,EAAAA,iBAAiB,CAC3CC,OAAQ,oBACR/J,MAAO,CACL6b,mBAAoB,CAAC,GAEvBnR,KAAAA,CAAMC,GAAgBmR,OAAQC,ICtBhC,MAAM/b,EAAQ2K,EAER0B,GAAQC,EAAAA,EAAAA,MACR0P,GAAcpd,EAAAA,EAAAA,MAAI,GAClBoH,EAAIqG,EAAMhK,QAAQ,UAElBiM,GAAcxM,EAAAA,EAAAA,WAAiB,KACnC,MAAM,YAAEgH,GAAgB9I,EAAM6b,mBAAmBnO,MACjD,IAAI3N,EAAOC,EAAM6b,mBAAmBnO,MAAM3N,KAS1C,OAPI+I,IACF/I,EACE+I,EAAYC,EAAAA,GAA8B+Q,eAC1ChR,EAAYG,EAAAA,GAA0B6Q,eACtC/Z,GAGGA,CAAI,IAGPia,EAAOA,KACXgC,EAAY/f,OAAQ,CAAI,EAGpBggB,EAAOA,KACXD,EAAY/f,OAAQ,CAAK,EDgC3B,OC7BA8f,EAAa,CACX/B,OACAiC,SD2BK,CAACzgB,EAAU6C,MACR0N,EAAAA,EAAAA,cAAc/O,EAAAA,EAAAA,oBAAoB,MAAOC,EAAY,CAC1D+e,EAAY/f,QACR8P,EAAAA,EAAAA,cAAc/O,EAAAA,EAAAA,oBAAoB,MAAO,CACxC1B,IAAK,EACLC,MAAO,QACP,cAAe,uBACf2K,QAAS+V,MAEXle,EAAAA,EAAAA,oBAAoB,IAAI,IAC5BS,EAAAA,EAAAA,oBAAoB,MAAO,CACzBjD,OAAO2gB,EAAAA,EAAAA,gBAAgB,CAAC,UAAW,CAAC,MAAQ,EAAO,cAAiBF,EAAY/f,SAChF,cAAe,qBACd,EACDuC,EAAAA,EAAAA,oBAAoB,MAAON,EAAY,CACpC8B,EAAM6b,qBACF9P,EAAAA,EAAAA,cAAc/O,EAAAA,EAAAA,oBAAoB,MAAOyB,EAAY,EACpDD,EAAAA,EAAAA,oBAAoB,MAAO6I,EAAY,EACrC7I,EAAAA,EAAAA,oBAAoB,MAAOsJ,EAAY,EACrCtJ,EAAAA,EAAAA,oBAAoB,SAAU,CAC5BjD,MAAO,uBACP2K,QAAS+V,GACR,EACDzd,EAAAA,EAAAA,oBAAoB,OAAQ,MAAMX,EAAAA,EAAAA,kBAAiBmO,EAAAA,EAAAA,OAAOhG,EAAPgG,CAAU,kBAAmB,GAChF3N,EAAO,KAAOA,EAAO,IAAKG,EAAAA,EAAAA,oBAAoB,IAAK,CAAEjD,MAAO,2BAA6B,MAAO,WAItGiD,EAAAA,EAAAA,oBAAoB,MAAOmd,EAAY,EACrCnd,EAAAA,EAAAA,oBAAoB,KAAMod,GAAY/d,EAAAA,EAAAA,iBAAiByQ,EAAYrS,OAAQ,MAE7EU,EAAAA,EAAAA,cAAaqP,EAAAA,EAAAA,OAAOmQ,EAAAA,GAAc,CAChC5gB,MAAO,QACP,eAAgBC,EAAKqgB,oBACpB,KAAM,EAAG,CAAC,qBAEf9d,EAAAA,EAAAA,oBAAoB,IAAI,MAE7B,KAGP,I,sBEpGA,MAAM+F,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,wFCLI5I,EAA0B,IAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,4CAA6C,KAEtF,c,wFCJIH,EAA0B,IAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,sqBAAyqB,KAEltB,c,qLCJA,MAAM4B,EAAa,CAAE3B,IAAK,GACpB4C,EAAa,CAAE3C,MAAO,WACtBkD,EAAa,CACjBnD,IAAK,EACLC,MAAO,iBAEH8L,EAAa,CAAE9L,MAAO,6BAwB5B,OAA4BuO,EAAAA,EAAAA,iBAAiB,CAC3CC,OAAQ,SACR/J,MAAO,CACLnE,KAAM,CAAC,EACPI,MAAO,CAAC,GAEVwO,MAAO,CAAC,oBACRC,KAAAA,CAAMC,GAAgBC,KAAMC,IClB9B,MAAM7K,EAAQ2K,EACRC,EAAOC,EACPwB,GAAQC,EAAAA,EAAAA,MACRtG,EAAIqG,EAAMhK,QAAQ,UAElBkF,GAAwB3I,EAAAA,EAAAA,KAAS,MACjC9B,GAAc8B,EAAAA,EAAAA,KAAS,MACvBmJ,GAAanJ,EAAAA,EAAAA,KAAI,IACjB0I,GAAmB1I,EAAAA,EAAAA,KAAI,IACvBwd,GAAexd,EAAAA,EAAAA,KAAS,MAExBoc,GAAepc,EAAAA,EAAAA,MAAI,GACnB+I,GAAsB/I,EAAAA,EAAAA,MAAI,GAE1ByU,EAAwBhH,EAAMhK,QAAQ,mBAAmBiR,EAAAA,GAAWC,QAAS,2BAEnF6H,eAAeiB,EAAoBC,EAAkBjE,EAAmBkE,GACtE,IAAKD,KAAcjE,IAAckE,GAG/B,YAFArb,EAAQkY,KAAK,yCAKf,IAAI1L,EAAoB,KACpBuC,EAAe,KAMnB,GAJIqM,IACF5O,GAAQ8K,EAAAA,EAAAA,OAAMnM,EAAMhK,QAAQ,iBAAiB,CAAE/G,IAAKghB,MAGlD5O,EACFuC,EAAUvC,GAAO0G,UAAUmB,MAAMiH,GAAWA,EAAEvM,UAAYsM,QACrD,CAEL,MAAMxV,EAASsF,EAAMhK,QAAQ,kBAE7BqL,EAAQ3G,EAAOwO,MAAMkH,GAAsB,sBAAhBA,EAAEtQ,WAAqCsQ,EAAEpE,YAAcA,IAClFpI,EAAUvC,GAAO0G,UAAUmB,MAAMiH,GAAeA,EAAEvM,UAAYsM,GAChE,CAEA,GAAItM,EACF,IACE,MAAMyM,QAAoBrQ,EAAMoF,SAAS,yBAA0B,CACjE6C,SAAarE,EAAQqE,SACrBC,SAAatE,EAAQsE,SACrB8D,YACAC,YAAarI,EAAQA,UAGvB0M,GAAoBnE,EAAAA,EAAAA,OAAMkE,GAC5B,CAAE,MAAOzb,GACPC,EAAQkY,KAAK,gCAAiCnY,GAE9C0G,EAAoB1L,OAAQ,CAC9B,CAEJ,CAEAmf,eAAewB,IACb,MAAMxhB,EAAS4E,EAAM/D,MAAMiJ,MAAM9J,OAEjC,IAAKA,EACH,OAGF,MAAOyZ,EAAMgI,GAAOzhB,EAAOsH,MAAM,KAC3BqE,EAAkBsF,EAAMhK,QAAQ,kBAAkBO,QAAQ6Z,GAA6B,sBAAhBA,EAAEtQ,YAE/E,IAAI2Q,EAAgB,KAChBC,EAAkB,KAEtBC,EACA,IAAK,MAAMtP,KAAS3G,EAClB,GAAK2G,GAAO0G,UAAUzP,OAItB,IAAK,MAAMsL,KAAWvC,EAAM0G,SAAU,CACpC,MAAM6I,EAAQhN,EAAQnH,aAAe,CAAC,EAChCoU,EAA0BD,EAAMvE,EAAAA,GAA+BC,WAAatF,GAAuBpX,MACnGkhB,EAA4BF,EAAMvE,EAAAA,GAA+BG,YACjEuE,EAAqBH,EAAMvE,EAAAA,GAA+BI,KAE1DuE,EAAgB,GAAIH,KAA6BC,IAEvD,GAAIE,IAAkBxI,GAAQuI,IAAuBP,EAAK,CACxDC,EAAgBpP,EAChBqP,EAAkB9M,EAElB,MAAM+M,CACR,CACF,CAGF,GAAIF,GAAiBC,EACnB,IACE,MAAML,QAAiCrQ,EAAMoF,SAAS,yBAA0B,CAC9E6C,SAAayI,EAAgBzI,SAC7BC,SAAawI,EAAgBxI,SAC7B8D,UAAayE,EAAczE,UAC3BC,YAAayE,EAAgB9M,UAG/B0M,GAAoBnE,EAAAA,EAAAA,OAAMkE,GAC5B,CAAE,MAAOzb,GACPC,EAAQkY,KAAK,gCAAiCnY,GAC9C0G,EAAoB1L,OAAQ,CAC9B,CAEJ,CAEA,SAAS0gB,EAAoBD,GAC3BnV,EAAsBtL,MAAQygB,EAC9BpV,EAAiBrL,MAAQygB,GAAahP,OAAOiB,aAAe,GAC5DyN,EAAangB,MAAQygB,GAAalV,OAE9BkV,EAAYnK,YACdnF,EAAAA,EAAAA,IAAItQ,EAAYb,MAAO,YAAaygB,EAAYnK,UAEpD,CAEA,MAAMwH,GAAcnb,EAAAA,EAAAA,KAAmD,MAEvE,SAASiJ,IACPkS,EAAY9d,OAAO+d,MACrB,CD0DA,OCxDAsD,EAAAA,EAAAA,gBAAclC,UACZ,MAAM9J,EAAgBjF,EAAMhK,QAAQ,kBAAkBsC,OAAS,GAE1D2M,GAAiBjF,EAAMhK,QAAQ,mBAAmBkP,EAAAA,GAAQC,qBACvDnF,EAAMoF,SAAS,kBAAmB,CAAExR,KAAMsR,EAAAA,GAAQC,eAG1D,MAAME,EAAiBrF,EAAMhK,QAAQ,mBAAmBsC,OAAS,EAE5D+M,SACGrF,EAAMoF,SAAS,kBACvB,KAGF5F,EAAAA,EAAAA,YAAUuP,UACRte,EAAYb,MAAQ,CAClB8T,OAAW/P,EAAM/D,MACjBsW,UAAW,MAIb,MAAM+J,EAAetc,EAAM/D,OAAO6I,UAAUgE,cAAcmP,EAAAA,GAAuBC,WAC3EG,EAAerY,EAAM/D,OAAO6I,UAAUgE,cAAcmP,EAAAA,GAAuBE,YAC3EoE,EAAevc,EAAM/D,OAAO6I,UAAUgE,cAAcmP,EAAAA,GAAuBG,eAE7EkE,GAAajE,GAAakE,QACtBF,EAAoBC,EAAUjE,EAAWkE,SAEzCK,IAGR7U,EAAW9L,OAAQ+b,EAAAA,EAAAA,IAAUhY,EAAM/D,OAEnC+e,EAAa/e,OAAQ,CAAK,IDuBrB,CAACT,EAAU6C,IACR2c,EAAa/e,QAChB8P,EAAAA,EAAAA,cAAcpQ,EAAAA,EAAAA,aAAa6E,EAAAA,EAAS,CAAElF,IAAK,OAC3CyQ,EAAAA,EAAAA,cAAc/O,EAAAA,EAAAA,oBAAoB,MAAOC,EAAY,EACpDuB,EAAAA,EAAAA,oBAAoB,MAAON,EAAY,CACpCoJ,EAAiBrL,QACb8P,EAAAA,EAAAA,cAAc/O,EAAAA,EAAAA,oBAAoB,MAAOyB,EAAY,EACpDD,EAAAA,EAAAA,oBAAoB,IAAK6I,GAAYxJ,EAAAA,EAAAA,iBAAiByJ,EAAiBrL,OAAQ,GAC9EmgB,EAAangB,QACT8P,EAAAA,EAAAA,cAAc/O,EAAAA,EAAAA,oBAAoB,SAAU,CAC3C1B,IAAK,EACLC,MAAO,6CACP2K,QAAS2B,IACRhK,EAAAA,EAAAA,kBAAiBmO,EAAAA,EAAAA,OAAOhG,EAAPgG,CAAU,mDAAoD,KAClFjO,EAAAA,EAAAA,oBAAoB,IAAI,OAE9BA,EAAAA,EAAAA,oBAAoB,IAAI,IAC5BpB,EAAAA,EAAAA,aAAasH,EAAAA,EAAQ,CACnBhI,MAAO+D,EAAM/D,MACb,eAAgBa,EAAYb,MAC5B,cAAe8L,EAAW9L,MAC1BJ,KAAMmE,EAAMnE,KACZ,wBAAyB8L,EAAoB1L,MAC7CgM,mBAAoB5J,EAAO,KAAOA,EAAO,GAAKuF,GAAOgH,EAAK,mBAAoBhH,KAC7E,KAAM,EAAG,CAAC,QAAS,eAAgB,cAAe,OAAQ,4BAE9DwY,EAAangB,QACT8P,EAAAA,EAAAA,cAAcpQ,EAAAA,EAAAA,aAAa0V,EAAAA,EAAmB,CAC7C/V,IAAK,EACL4Q,QAAS,cACTtN,IAAKmb,EACL,uBAAwBxS,EAAsBtL,OAC7C,KAAM,EAAG,CAAC,2BACb8B,EAAAA,EAAAA,oBAAoB,IAAI,KAGpC,I,qBE3OA,MAAM+F,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://kubewarden-4.0.3/./edit/policies.kubewarden.io.admissionpolicy.vue?a87f","webpack://kubewarden-4.0.3/./edit/policies.kubewarden.io.policyserver.vue","webpack://kubewarden-4.0.3/./components/PolicyServer/Values.vue","webpack://kubewarden-4.0.3/./components/PolicyServer/Values.vue?b424","webpack://kubewarden-4.0.3/./edit/policies.kubewarden.io.policyserver.vue?3c62","webpack://kubewarden-4.0.3/./components/Policies/PolicyTable.vue?ac96","webpack://kubewarden-4.0.3/./components/Policies/Config.vue?d467","webpack://kubewarden-4.0.3/./components/Policies/Values.vue?abb6","webpack://kubewarden-4.0.3/./components/PolicyServer/Values.vue?a395","webpack://kubewarden-4.0.3/./components/Policies/Config.vue?38e7","webpack://kubewarden-4.0.3/./components/PolicyServer/Values.vue?1d97","webpack://kubewarden-4.0.3/./components/Policies/Create.vue","webpack://kubewarden-4.0.3/./utils/string.ts","webpack://kubewarden-4.0.3/./modules/policyChart.ts","webpack://kubewarden-4.0.3/./components/SortableTableWrapper.vue?a897","webpack://kubewarden-4.0.3/./components/SortableTableWrapper.vue","webpack://kubewarden-4.0.3/./components/SortableTableWrapper.vue?c4e2","webpack://kubewarden-4.0.3/./components/Policies/PolicyTable.vue?d17f","webpack://kubewarden-4.0.3/./components/Policies/PolicyTable.vue","webpack://kubewarden-4.0.3/./components/Policies/PolicyTable.vue?e6cd","webpack://kubewarden-4.0.3/./components/Policies/Create.vue?0646","webpack://kubewarden-4.0.3/./components/Policies/Create.vue?4d9e","webpack://kubewarden-4.0.3/./components/Policies/Create.vue?b8ab","webpack://kubewarden-4.0.3/./utils/object.ts","webpack://kubewarden-4.0.3/./components/Policies/Values.vue?0c7b","webpack://kubewarden-4.0.3/./edit/policies.kubewarden.io.admissionpolicy.vue?f63f","webpack://kubewarden-4.0.3/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue","webpack://kubewarden-4.0.3/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue?eb36","webpack://kubewarden-4.0.3/./components/Policies/Values.vue?0245","webpack://kubewarden-4.0.3/./components/Policies/Values.vue","webpack://kubewarden-4.0.3/./components/Policies/Values.vue?7801","webpack://kubewarden-4.0.3/./components/Policies/PolicyReadmePanel.vue?32ba","webpack://kubewarden-4.0.3/./components/Policies/PolicyReadmePanel.vue?8b91","webpack://kubewarden-4.0.3/./edit/policies.kubewarden.io.admissionpolicy.vue","webpack://kubewarden-4.0.3/./edit/policies.kubewarden.io.admissionpolicy.vue?1abe","webpack://kubewarden-4.0.3/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue?a0c8","webpack://kubewarden-4.0.3/./components/Policies/PolicyReadmePanel.vue?cc71","webpack://kubewarden-4.0.3/./components/Policies/PolicyReadmePanel.vue","webpack://kubewarden-4.0.3/./components/Policies/PolicyReadmePanel.vue?bee5","webpack://kubewarden-4.0.3/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue?1036","webpack://kubewarden-4.0.3/./components/Policies/PolicyTable.vue?5a0a","webpack://kubewarden-4.0.3/./components/Policies/Config.vue?dcfa","webpack://kubewarden-4.0.3/./components/Policies/Config.vue","webpack://kubewarden-4.0.3/./components/Policies/Config.vue?af1f"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-788fd4b0] .cru__footer{z-index:1}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<script>\nimport merge from 'lodash/merge';\n\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n\nimport { Banner } from '@components/Banner';\nimport CruResource from '@shell/components/CruResource';\nimport Loading from '@shell/components/Loading';\n\nimport { DEFAULT_POLICY_SERVER } from '@kubewarden/models/policies.kubewarden.io.policyserver';\nimport { KUBEWARDEN } from '@kubewarden/types';\n\nimport Values from '@kubewarden/components/PolicyServer/Values';\n\nexport default {\n  components: {\n    Banner,\n    CruResource,\n    Loading,\n    Values\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    realMode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    value: {\n      type:     Object,\n      required: true\n    },\n  },\n\n  async fetch() {\n    const schema = this.$store.getters[`cluster/schemaFor`](KUBEWARDEN.POLICY_SERVER);\n\n    await schema.fetchResourceFields();\n  },\n\n  data() {\n    return { chartValues: this.value };\n  },\n\n  created() {\n    if (this.isCreate) {\n      merge(this.chartValues, structuredClone(DEFAULT_POLICY_SERVER));\n    }\n  },\n\n  computed: {\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n\n    hasErrors() {\n      return this.errors?.length && Array.isArray(this.errors);\n    },\n\n    validationPassed() {\n      return !!this.chartValues?.metadata?.name;\n    }\n  },\n\n  methods: {\n    closeError(index) {\n      const errors = this.errors.filter((_, i) => i !== index);\n\n      this.errors = errors;\n    },\n\n    async finish(event) {\n      // Clean up the securityContexts \"seccompProfile\" property if there are no keys set on the object\n      const securityContexts = this.chartValues?.spec?.securityContexts;\n\n      if (securityContexts) {\n        ['pod', 'container'].forEach((type) => {\n          const seccompProfile = securityContexts[type]?.seccompProfile;\n\n          if (seccompProfile && Object.keys(seccompProfile).length === 0) {\n            delete securityContexts[type].seccompProfile;\n          }\n        });\n      }\n\n      try {\n        await this.save(event);\n      } catch (e) {\n        this.errors.push(e);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <CruResource\n    v-else\n    :resource=\"value\"\n    :mode=\"realMode\"\n    :can-yaml=\"false\"\n    :done-route=\"doneRoute\"\n    :errors=\"errors\"\n    :validation-passed=\"validationPassed\"\n    @finish=\"finish\"\n  >\n    <Values\n      :value=\"value\"\n      :chart-values=\"chartValues\"\n      :mode=\"mode\"\n    />\n    <div\n      v-if=\"hasErrors\"\n      id=\"cru-errors\"\n      class=\"cru__errors\"\n    >\n      <Banner\n        v-for=\"(err, i) in errors\"\n        :key=\"i\"\n        color=\"error\"\n        :data-testid=\"`error-banner${ i }`\"\n        :closable=\"true\"\n        @close=\"closeError(i)\"\n      >\n        {{ err }}\n      </Banner>\n    </div>\n  </CruResource>\n</template>\n","<script>\nimport { defineAsyncComponent, markRaw } from 'vue';\nimport merge from 'lodash/merge';\nimport isEmpty from 'lodash/isEmpty';\nimport jsyaml from 'js-yaml';\n\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport { SCHEMA } from '@shell/config/types';\nimport { createYaml } from '@shell/utils/create-yaml';\n\nimport ButtonGroup from '@shell/components/ButtonGroup';\nimport Loading from '@shell/components/Loading';\nimport ResourceCancelModal from '@shell/components/ResourceCancelModal';\nimport Tabbed from '@shell/components/Tabbed';\nimport YamlEditor, { EDITOR_MODES } from '@shell/components/YamlEditor';\n\nimport { VALUES_STATE, YAML_OPTIONS } from '@kubewarden/types';\n\nexport default {\n  name: 'Values',\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE\n    },\n\n    chartValues: {\n      type:     Object,\n      default:  () => {}\n    },\n\n    value: {\n      type:     Object,\n      required: true\n    }\n  },\n\n  components: {\n    ButtonGroup,\n    Loading,\n    ResourceCancelModal,\n    Tabbed,\n    YamlEditor\n  },\n\n  async created() {\n    const valuesYaml = this.generateYaml();\n\n    this.currentYamlValues = valuesYaml;\n    this.originalYamlValues = valuesYaml;\n\n    try {\n      await this.loadValuesComponent();\n    } catch (e) {\n      console.error(`Error loading values component: ${ e }`);\n    }\n  },\n\n  data() {\n    return {\n      YAML_OPTIONS,\n      currentYamlValues:   '',\n      originalYamlValues:  '',\n      showForm:            true,\n      configValues:        null,\n      showQuestions:       true,\n      showValuesComponent: false,\n      valuesComponent:     null,\n      preYamlOption:       VALUES_STATE.FORM,\n      yamlOption:          VALUES_STATE.FORM,\n      values:              this.chartValues\n    };\n  },\n\n  watch: {\n    yamlOption(neu, old) {\n      switch (neu) {\n      case VALUES_STATE.FORM:\n        this.showForm = true;\n        break;\n      case VALUES_STATE.YAML:\n        if (old === VALUES_STATE.FORM) {\n          this.currentYamlValues = this.generateYaml();\n          this.updateYamlValues();\n        }\n\n        this.showForm = false;\n        break;\n      }\n    },\n  },\n\n  computed: {\n    editorMode() {\n      return EDITOR_MODES.EDIT_CODE;\n    },\n\n    isCreate() {\n      return this.mode === _CREATE;\n    },\n\n    isEdit() {\n      return this.mode === _EDIT;\n    }\n  },\n\n  methods: {\n    generateYaml() {\n      const schemas = this.$store.getters['cluster/all'](SCHEMA);\n      const yaml = createYaml(schemas, this.value?.type, this.chartValues);\n\n      const lines = yaml.split('\\n');\n      const filteredLines = lines.filter((line) => !line.includes('Error loading schema for array'));\n      const modifiedYAML = filteredLines.join('\\n');\n\n      return modifiedYAML;\n    },\n\n    async loadValuesComponent() {\n      if (this.value.haveComponent('kubewarden/policy-server')) {\n        const importFn = this.value.importComponent('kubewarden/policy-server');\n\n        this.valuesComponent = markRaw(defineAsyncComponent(importFn));\n\n        this.showValuesComponent = true;\n      }\n    },\n\n    tabChanged() {\n      window.scrollTop = 0;\n    },\n\n    updateYamlValues() {\n      if (!isEmpty(this.currentYamlValues)) {\n        const parsed = jsyaml.load(this.currentYamlValues);\n\n        if (parsed) {\n          merge(this.chartValues, parsed);\n        }\n      }\n    },\n\n    handleValidationPassed(val) {\n      this.$emit('validation-passed', val);\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <div v-else class=\"scroll__container\">\n    <div v-if=\"isCreate || isEdit\" class=\"step__values__controls\">\n      <ButtonGroup\n        v-model:value=\"yamlOption\"\n        data-testid=\"kw-policy-server-config-yaml-option\"\n        :options=\"YAML_OPTIONS\"\n        inactive-class=\"bg-disabled btn-sm\"\n        active-class=\"bg-primary btn-sm\"\n      />\n    </div>\n    <div class=\"scroll__content\">\n      <template v-if=\"showForm\">\n        <Tabbed\n          ref=\"tabs\"\n          :side-tabs=\"true\"\n          class=\"step__values__content\"\n          @changed=\"tabChanged($event)\"\n        >\n          <component\n            :is=\"valuesComponent\"\n            v-model:value=\"values\"\n            :resource=\"value\"\n            :mode=\"mode\"\n            @validation-passed=\"handleValidationPassed\"\n          />\n        </Tabbed>\n      </template>\n      <template v-else-if=\"(isCreate || isEdit) && !showForm\">\n        <YamlEditor\n          ref=\"yaml\"\n          v-model:value=\"currentYamlValues\"\n          data-testid=\"kw-policy-server-config-yaml-editor\"\n          class=\"step__values__content\"\n          :scrolling=\"true\"\n          :initial-yaml-values=\"originalYamlValues\"\n          :editor-mode=\"editorMode\"\n          :hide-preview-buttons=\"true\"\n          @onChanges=\"updateYamlValues\"\n        />\n      </template>\n\n      <ResourceCancelModal\n        ref=\"cancelModal\"\n        data-testid=\"kw-policy-server-config-yaml-cancel\"\n        :is-cancel-modal=\"false\"\n        :is-form=\"true\"\n        @cancel-cancel=\"preYamlOption = yamlOption\"\n        @confirm-cancel=\"yamlOption = preYamlOption\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  $padding: 5px;\n  $height: 110px;\n  $side: 15px;\n  $margin: 10px;\n  $logo: 60px;\n\n  :deep(.step-container) {\n    height: auto;\n  }\n\n  .step {\n    &__basic {\n      display: flex;\n      flex-direction: column;\n      flex: 1;\n      overflow-x: hidden;\n\n      .spacer {\n        line-height: 2;\n      }\n    }\n\n    &__values {\n      &__controls {\n        display: flex;\n        margin-bottom: 15px;\n\n        & > *:not(:last-of-type) {\n          margin-right: $padding * 2;\n        }\n\n        &--spacer {\n          flex: 1\n        }\n\n      }\n\n      &__content {\n        flex: 1;\n\n        :deep(.tab-container) {\n          overflow: auto;\n        }\n      }\n    }\n  }\n</style>\n","import { render } from \"./Values.vue?vue&type=template&id=228d5d9f&scoped=true\"\nimport script from \"./Values.vue?vue&type=script&lang=js\"\nexport * from \"./Values.vue?vue&type=script&lang=js\"\n\nimport \"./Values.vue?vue&type=style&index=0&id=228d5d9f&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-228d5d9f\"]])\n\nexport default __exports__","import { render } from \"./policies.kubewarden.io.policyserver.vue?vue&type=template&id=07bf9d3b\"\nimport script from \"./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js\"\nexport * from \"./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./PolicyTable.vue?vue&type=style&index=0&id=2ce15ea6&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0b4a3990\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./Config.vue?vue&type=style&index=0&id=4f77d707&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3880525e\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".step__values__controls[data-v-7bf0db83]{display:flex;margin-bottom:15px}.step__values__controls[data-v-7bf0db83]>:not(:last-of-type){margin-right:10px}.step__values__content[data-v-7bf0db83],.step__values__controls--spacer[data-v-7bf0db83]{flex:1}.step__values__content[data-v-7bf0db83] .tab-container{overflow:auto}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-228d5d9f] .step-container{height:auto}.step__basic[data-v-228d5d9f]{display:flex;flex-direction:column;flex:1;overflow-x:hidden}.step__basic .spacer[data-v-228d5d9f]{line-height:2}.step__values__controls[data-v-228d5d9f]{display:flex;margin-bottom:15px}.step__values__controls[data-v-228d5d9f]>:not(:last-of-type){margin-right:10px}.step__values__content[data-v-228d5d9f],.step__values__controls--spacer[data-v-228d5d9f]{flex:1}.step__values__content[data-v-228d5d9f] .tab-container{overflow:auto}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".content[data-v-4f77d707]{position:relative;z-index:1}.banner__title[data-v-4f77d707]{padding-top:10px;margin-bottom:10px;border-bottom:1px solid var(--border);min-height:60px}.banner__readme-button[data-v-4f77d707]{padding:0 7px 0 0}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./Values.vue?vue&type=style&index=0&id=228d5d9f&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"26436fd6\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","<script>\nimport jsyaml from 'js-yaml';\nimport isEmpty from 'lodash/isEmpty';\nimport isEqual from 'lodash/isEqual';\nimport merge from 'lodash/merge';\nimport { toRaw } from 'vue';\nimport { mapGetters } from 'vuex';\n\nimport { _CREATE } from '@shell/config/query-params';\nimport { CATALOG, MANAGEMENT, NAMESPACE } from '@shell/config/types';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { saferDump } from '@shell/utils/create-yaml';\nimport { set } from '@shell/utils/object';\n\nimport { Banner } from '@components/Banner';\n\nimport AsyncButton from '@shell/components/AsyncButton';\nimport Loading from '@shell/components/Loading';\nimport Wizard from '@shell/components/Wizard';\n\nimport {\n  DEFAULT_POLICY,\n  KUBEWARDEN,\n  KUBEWARDEN_ANNOTATIONS,\n  KUBEWARDEN_CATALOG_ANNOTATIONS,\n  KUBEWARDEN_POLICY_ANNOTATIONS,\n  KUBEWARDEN_PRODUCT_NAME,\n  KUBEWARDEN_REPOS,\n  VALUES_STATE\n} from '@kubewarden/types';\nimport { handleGrowl } from '@kubewarden/utils/handle-growl';\nimport { removeEmptyAttrs } from '@kubewarden/utils/object';\nimport { trimTrailingSlash } from '@kubewarden/utils/string';\n\nimport PolicyReadmePanel from './PolicyReadmePanel';\nimport PolicyTable from './PolicyTable';\nimport Values from './Values';\n\nexport default ({\n  name: 'Create',\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE\n    },\n\n    value: {\n      type:     Object,\n      default:  () => ({})\n    },\n  },\n\n  components: {\n    AsyncButton,\n    Banner,\n    Loading,\n    Wizard,\n    PolicyTable,\n    PolicyReadmePanel,\n    Values\n  },\n\n  inject: ['chartType'],\n\n  mixins: [CreateEditView],\n\n  async created() {\n    this.isLoading = true;\n    const isReposLoaded = this.$store.getters['catalog/repos']?.length > 0;\n\n    if (!isReposLoaded && this.$store.getters['cluster/canList'](CATALOG.CLUSTER_REPO)) {\n      await this.$store.dispatch('cluster/findAll', { type: CATALOG.CLUSTER_REPO });\n    }\n\n    const isChartsLoaded = this.$store.getters['catalog/charts']?.length > 0;\n\n    if (!isChartsLoaded) {\n      await this.$store.dispatch('catalog/refresh');\n    }\n\n    this.value.apiVersion = `${ this.schema?.attributes?.group }.${ this.schema?.attributes?.version }`;\n    this.value.kind = this.schema?.attributes?.kind;\n\n    this.isLoading = false;\n  },\n\n  data() {\n    const OFFICIAL_REPOS = [\n      KUBEWARDEN_REPOS.POLICY_CATALOG,\n      KUBEWARDEN_REPOS.POLICY_CATALOG_REPO,\n      KUBEWARDEN_REPOS.POLICY_CATALOG_REPO_GIT\n    ];\n\n    return {\n      OFFICIAL_REPOS,\n\n      isLoading:              false,\n      bannerTitle:            null,\n      shortDescription:       null,\n      loadingPackages:        false,\n      packages:               null,\n      repository:             null,\n      selectedPolicyChart:    null,\n      selectedPolicyDetails:  null,\n      typeModule:             null,\n      version:                null,\n      errorFetchingPolicy:    false,\n\n      chartValues: {\n        policy:    {},\n        questions: {}\n      },\n      yamlValues: '',\n\n      hasCustomPolicy: false,\n      yamlOption:      VALUES_STATE.FORM,\n      finishAttempts:  0,\n\n      // Steps\n      stepPolicies: {\n        hidden:    false,\n        name:      'policies',\n        label:     'Policies',\n        ready:     false,\n        showSteps: false,\n        weight:    99\n      },\n      stepValues: {\n        name:      'values',\n        label:     'Values',\n        ready:     true,\n        showSteps: false,\n        weight:    98\n      },\n    };\n  },\n\n  computed: {\n    ...mapGetters({\n      charts:   'catalog/charts',\n      repos:    'catalog/repos',\n    }),\n\n    isAirgap() {\n      return this.$store.getters['kubewarden/airGapped'];\n    },\n\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n\n    isSelected() {\n      return !!this.selectedPolicyChart;\n    },\n\n    customPolicy() {\n      return this.selectedPolicyChart === 'custom';\n    },\n\n    /** Allow create if either editing in yaml view or module and required rules/settings have been met */\n    canFinish() {\n      if (this.yamlOption === VALUES_STATE.YAML) {\n        return true;\n      }\n\n      return !!this.chartValues?.policy?.spec?.module && this.hasRequired;\n    },\n\n    systemDefaultRegistry() {\n      return this.$store.getters['management/byId'](MANAGEMENT.SETTING, 'system-default-registry');\n    },\n\n    /** Determines if the required rules/settings are set, if not the resource can not be created */\n    hasRequired() {\n      if (!isEmpty(this.chartValues?.policy) && this.chartValues.policy.spec) {\n        const { rules, settings } = this.chartValues.policy.spec;\n\n        const requiredRules = ['apiVersions', 'operations', 'resources'];\n        const acceptedRules = this.acceptedValues(rules, requiredRules);\n        const acceptedName = this.chartValues.policy.metadata.name;\n\n        const requiredQuestions = this.chartValues?.questions?.questions?.map((q) => {\n          if (q.required) {\n            return q.variable;\n          }\n        }).filter(Boolean);\n        const acceptedQuestions = this.acceptedValues(settings, requiredQuestions);\n\n        if (!!acceptedName && !isEmpty(acceptedRules) && (isEmpty(requiredQuestions) || !isEmpty(acceptedQuestions))) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    hideOfficialRepoBanner() {\n      return !!this.officialKubewardenRepo || this.$store.getters['kubewarden/hideBannerOfficialRepo'];\n    },\n\n    hideRepoBanner() {\n      return !this.hideOfficialRepoBanner ||\n             (this.policiesCharts.length ||\n             this.$store.getters['kubewarden/hideBannerPolicyRepo']);\n    },\n\n    hideAirgapBanner() {\n      return !this.isAirgap || this.$store.getters['kubewarden/hideBannerAirgapPolicy'];\n    },\n\n    steps() {\n      const steps = [];\n\n      steps.push(\n        this.stepPolicies,\n        this.stepValues\n      );\n\n      return steps.sort((a, b) => b.weight - a.weight);\n    },\n\n    policiesCharts() {\n      return this.charts?.filter((chart) => chart.chartType === 'kubewarden-policy');\n    },\n\n    latestPolicyChartsVersion() {\n      return this.policiesCharts?.map((chart) => {\n        const out = chart.versions[0];\n        const chartRepo = this.$store.getters['catalog/repo']({\n          repoType: out.repoType,\n          repoName: out.repoName\n        });\n\n        const repoUrl = trimTrailingSlash(chartRepo?.spec?.url || '');\n\n        out.official = this.OFFICIAL_REPOS.includes(repoUrl);\n\n        return out;\n      });\n    },\n\n    reposByName() {\n      return this.repos.reduce((acc, repo) => {\n        acc[repo.metadata.name] = repo;\n\n        return acc;\n      }, {});\n    },\n\n    reposByUrl() {\n      return this.repos.reduce((acc, repo) => {\n        // For OCI or plain https/http repos, use spec.url. For Git repos, use spec.gitRepo.\n        const rawRepoUrl = repo.spec.url || repo.spec.gitRepo;\n        const repoUrl = rawRepoUrl ? trimTrailingSlash(rawRepoUrl) : rawRepoUrl;\n\n        if (repoUrl) {\n          acc[repoUrl] = repo;\n        }\n\n        return acc;\n      }, {});\n    },\n\n    officialKubewardenRepo() {\n      for (const repoUrl of this.OFFICIAL_REPOS) {\n        if (this.reposByUrl[repoUrl]) {\n          return this.reposByUrl[repoUrl];\n        }\n      }\n\n      return null;\n    }\n  },\n\n  methods: {\n    async addRepository(btnCb) {\n      try {\n        const repoObj = await this.$store.dispatch('cluster/create', {\n          type:     CATALOG.CLUSTER_REPO,\n          metadata: { name: 'kubewarden-policy-catalog' },\n          spec:     { url: KUBEWARDEN_REPOS.POLICY_CATALOG },\n        });\n\n        try {\n          await repoObj.save();\n        } catch (e) {\n          handleGrowl({\n            error: e,\n            store: this.$store\n          });\n          btnCb(false);\n\n          return;\n        }\n\n        if (!this.officialKubewardenRepo) {\n          await this.$store.dispatch('catalog/refresh');\n        }\n      } catch (e) {\n        handleGrowl({\n          error: e,\n          store: this.$store\n        });\n        btnCb(false);\n      }\n    },\n\n    /** Determine values which need to be required from supplied property and keys */\n    acceptedValues(requiredProp, requiredKeys) {\n      if (isEmpty(requiredKeys)) {\n        return null;\n      }\n\n      let accepted;\n\n      if (Array.isArray(requiredProp)) {\n        accepted = requiredProp.find((prop) => this.checkProperties(prop, requiredKeys));\n      } else {\n        accepted = this.checkProperties(requiredProp, requiredKeys);\n      }\n\n      return accepted;\n    },\n\n    /** Check supplied property for required keys */\n    checkProperties(requiredProp, requiredKeys) {\n      const match = [];\n\n      if (!isEmpty(requiredKeys)) {\n        for (const key of requiredKeys.values()) {\n          if (!isEmpty(requiredProp[key]) || typeof requiredProp[key] === 'boolean' || typeof requiredProp[key] === 'number') {\n            match.push(key);\n          }\n        }\n        if (requiredKeys && isEqual(match, requiredKeys)) {\n          return requiredProp;\n        }\n      }\n\n      return null;\n    },\n\n    async closeBanner(banner, retry = 0) {\n      const res = await this.$store.dispatch(`kubewarden/${ banner }`, true);\n\n      if (retry === 0 && res?.type === 'error' && res?.status === 500) {\n        await this.close(retry + 1);\n      }\n    },\n\n    async createNamespace(ns) {\n      const allNamespaces = this.$store.getters['cluster/all'](NAMESPACE);\n      const nsTemplate = {\n        type:                     NAMESPACE,\n        metadata:                 { name: ns },\n        disableOpenApiValidation: false\n      };\n\n      const existing = allNamespaces?.find((n) => n?.metadata?.name === ns);\n\n      if (!existing) {\n        const nsResource = await this.$store.dispatch('cluster/create', nsTemplate);\n\n        try {\n          await nsResource.save();\n        } catch (e) {\n          this.errors.push(e);\n        }\n      }\n    },\n\n    done() {\n      this.$router.replace({\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster:  this.$route.params.cluster,\n          product:  KUBEWARDEN_PRODUCT_NAME,\n          resource: this.schema?.id\n        }\n      });\n    },\n\n    async finish(event) {\n      try {\n        let out;\n\n        if (this.yamlOption === VALUES_STATE.YAML) {\n          out = jsyaml.load(this.yamlValues);\n        } else {\n          out = this.chartValues?.policy ? this.chartValues.policy : jsyaml.load(this.yamlValues);\n        }\n\n        removeEmptyAttrs(out); // Clean up empty values from questions\n\n        if (this.finishAttempts > 0) {\n          // Remove keys that are not in the new spec\n          Object.keys(this.value.spec).forEach((key) => {\n            if (!(key in out.spec)) {\n              this.$delete(this.value.spec, key);\n            }\n          });\n\n          // Then, set or update the remaining keys\n          Object.keys(out.spec).forEach((key) => {\n            this.value.spec.key = out.spec[key];\n          });\n        } else {\n          merge(this.value, out);\n        }\n\n        // If create new namespace option is selected, create the ns before saving the policy\n        if (this.chartType === KUBEWARDEN.ADMISSION_POLICY && this.chartValues?.isNamespaceNew) {\n          await this.createNamespace(this.value?.metadata?.namespace);\n        }\n\n        await this.attemptSave(event);\n      } catch (e) {\n        console.error('Error creating policy', e);\n      }\n    },\n\n    async attemptSave(event) {\n      await this.save(event);\n\n      // Check for errors set by the mixin\n      if (this.errors && this.errors.length > 0) {\n        const error = new Error('Save operation failed');\n\n        this.finishAttempts++;\n        throw error; // Force an error to be caught in the finish method\n      }\n    },\n\n    parseObj(obj) {\n      if (!obj) {\n        return null;\n      }\n\n      const parsed = JSON.parse(JSON.stringify(obj));\n\n      return jsyaml.load(parsed);\n    },\n\n    /** Extract policy questions from the policy chart's details */\n    async policyQuestions() {\n      const defaultPolicy = structuredClone(DEFAULT_POLICY);\n\n      if (this.customPolicy) {\n        // Add contextAwareResources to custom policy spec\n        const updatedCustomPolicy = { spec: { contextAwareResources: [] } };\n\n        const finalPolicy = merge({}, defaultPolicy, updatedCustomPolicy);\n\n        set(this.chartValues, 'policy', finalPolicy);\n        this.yamlValues = saferDump(finalPolicy);\n\n        return;\n      } else {\n        // Add chart metadata annotations for fetching chart details/questions later\n        this.value.metadata.annotations = this.value.metadata.annotations || {};\n        this.value.metadata.annotations[KUBEWARDEN_ANNOTATIONS.CHART_KEY] = this.selectedPolicyChart.key;\n        this.value.metadata.annotations[KUBEWARDEN_ANNOTATIONS.CHART_NAME] = this.selectedPolicyChart.name;\n        this.value.metadata.annotations[KUBEWARDEN_ANNOTATIONS.CHART_VERSION] = this.selectedPolicyChart.version;\n      }\n\n      try {\n        this.selectedPolicyDetails = await this.$store.dispatch('catalog/getVersionInfo', {\n          repoType:     this.selectedPolicyChart.repoType,\n          repoName:     this.selectedPolicyChart.repoName,\n          chartName:    this.selectedPolicyChart.name,\n          versionName:  this.selectedPolicyChart.version\n        });\n\n        const policyQuestions = this.selectedPolicyDetails?.questions;\n        const policyAnnotations = toRaw(this.selectedPolicyDetails?.chart?.annotations);\n\n        if (!policyAnnotations) {\n          throw new Error('Policy annotations are missing');\n        }\n\n        let registry = policyAnnotations[KUBEWARDEN_CATALOG_ANNOTATIONS.REGISTRY];\n        let policyModule = `${ policyAnnotations[KUBEWARDEN_CATALOG_ANNOTATIONS.REPOSITORY] }:${ policyAnnotations[KUBEWARDEN_CATALOG_ANNOTATIONS.TAG] }`;\n\n        // Override annotation by rancher system-default-registry if user changed default value (expected in airgap)\n        if (this.systemDefaultRegistry?.value && this.systemDefaultRegistry.value !== this.systemDefaultRegistry.default) {\n          registry = this.systemDefaultRegistry.value;\n        }\n\n        if (registry) {\n          policyModule = `${ registry }/${ policyModule }`;\n        }\n\n        const updatedPolicy = {\n          apiVersion: this.value.apiVersion,\n          kind:       this.value.kind,\n          metadata:   { ...this.value.metadata },\n          spec:       {\n            module:   policyModule,\n            mode:     'monitor', // Default to monitor mode\n            mutating: policyAnnotations[KUBEWARDEN_CATALOG_ANNOTATIONS.MUTATION] === 'true' || false,\n            rules:    this.parseObj(policyAnnotations[KUBEWARDEN_CATALOG_ANNOTATIONS.RULES]) || []\n          }\n        };\n\n        if (this.chartType === KUBEWARDEN.CLUSTER_ADMISSION_POLICY) {\n          Object.assign(updatedPolicy.spec, { contextAwareResources: this.parseObj(policyAnnotations[KUBEWARDEN_CATALOG_ANNOTATIONS.CONTEXT_AWARE_RESOURCES]) || [] });\n        }\n\n        merge(defaultPolicy, updatedPolicy);\n        set(this.chartValues, 'policy', defaultPolicy);\n\n        this.yamlValues = saferDump(this.chartValues.policy);\n\n        if (policyQuestions) {\n          set(this.chartValues, 'questions', policyQuestions);\n        }\n\n        this.shortDescription = this.selectedPolicyChart?.description;\n      } catch (e) {\n        console.warn('Error fetching policy questions. Using default policy scaffold. Details:', e);\n\n        this.errorFetchingPolicy = true;\n\n        this.bannerTitle = 'Policy Details Unavailable';\n        this.shortDescription = `There was an issue retrieving the policy details. The default configuration will be used. (Error: ${ e.message || 'Unknown error' })`;\n\n        // Fallback: use the default policy scaffold without additional questions\n        set(this.chartValues, 'policy', defaultPolicy);\n        this.yamlValues = saferDump(defaultPolicy);\n      }\n    },\n\n    reset(event) {\n      this.$nextTick(() => {\n        if (event.step?.name === this.stepPolicies.name) {\n          const initialState = [\n            'errors',\n            'bannerTitle',\n            'shortDescription',\n            'selectedPolicyChart',\n            'selectedPolicyDetails',\n            'typeModule',\n            'version',\n            'hasCustomPolicy',\n          ];\n\n          initialState.forEach((i) => {\n            this[i] = null;\n          });\n\n          this.stepPolicies.ready = false;\n          this.stepValues.hidden = false;\n\n          this.chartValues = {\n            policy:    {},\n            questions: {}\n          };\n          this.yamlOption = VALUES_STATE.FORM;\n          this.yamlValues = '';\n\n          // Remove the hash created from the tabbed component\n          this.$router.replace({\n            path:  this.$route.path,\n            query: this.$route.query,\n            hash:  ''\n          });\n        }\n      });\n    },\n\n    async selectPolicy(policy) {\n      this.selectedPolicyChart = policy;\n\n      if (this.customPolicy) {\n        this.hasCustomPolicy = true;\n      } else {\n        this.hasCustomPolicy = false;\n      }\n\n      await this.policyQuestions();\n      this.stepPolicies.ready = true;\n      this.$refs.wizard.next();\n      this.bannerTitle = this.customPolicy ? 'Custom Policy' : (\n        policy?.annotations?.[KUBEWARDEN_POLICY_ANNOTATIONS.DISPLAY_NAME] || policy?.name\n      );\n    },\n\n    showReadme() {\n      this.$refs.readmePanel?.show();\n    }\n  }\n\n});\n</script>\n\n<template>\n  <Loading v-if=\"isLoading\" mode=\"relative\" />\n  <div v-else>\n    <template v-if=\"!hideOfficialRepoBanner\">\n      <Banner\n        data-testid=\"kw-policy-add-official-repo-banner\"\n        class=\"type-banner mb-20 mt-0\"\n        color=\"warning\"\n        :closable=\"true\"\n        @close=\"closeBanner('updateHideBannerOfficialRepo')\"\n      >\n        <div>\n          <p v-clean-html=\"t('kubewarden.policies.noOfficialPolicies', {}, true)\" class=\"mb-10\" />\n          <AsyncButton mode=\"kubewardenPolicyCatalog\" @click=\"addRepository\" />\n        </div>\n      </Banner>\n    </template>\n    <template v-if=\"!hideRepoBanner\">\n      <Banner\n        data-testid=\"kw-policy-add-repo-banner\"\n        class=\"type-banner mb-20 mt-0\"\n        color=\"warning\"\n        :closable=\"true\"\n        @close=\"closeBanner('updateHideBannerPolicyRepo')\"\n      >\n        <p>{{ t('kubewarden.policies.noPolicyRepo') }}</p>\n      </Banner>\n    </template>\n    <template v-if=\"!hideAirgapBanner\">\n      <Banner\n        data-testid=\"kw-policy-create-ag-banner\"\n        class=\"type-banner mb-20 mt-0\"\n        color=\"warning\"\n        :closable=\"true\"\n        :label=\"t('kubewarden.policies.airgap.banner')\"\n        @close=\"closeBanner('updateHideBannerAirgapPolicy')\"\n      />\n    </template>\n    <Wizard\n      v-if=\"value\"\n      ref=\"wizard\"\n      :value=\"value\"\n      data-testid=\"kw-policy-create-wizard\"\n      :errors=\"errors\"\n      :steps=\"steps\"\n      :show-banner=\"false\"\n      :edit-first-step=\"true\"\n      class=\"wizard\"\n      @next=\"reset\"\n      @cancel=\"done\"\n      @finish=\"finish\"\n    >\n      <template #policies>\n        <PolicyTable\n          data-testid=\"kw-policy-create-table\"\n          :mode=\"mode\"\n          :charts=\"latestPolicyChartsVersion\"\n          @selectPolicy=\"selectPolicy($event)\"\n        />\n      </template>\n\n      <template #values>\n        <div class=\"banner__title\">\n          <h2>{{ bannerTitle }}</h2>\n          <template v-if=\"!customPolicy\">\n            <p class=\"banner__short-description\">\n              {{ shortDescription }}\n            </p>\n            <button\n              v-if=\"selectedPolicyDetails && (selectedPolicyDetails?.readme || selectPolicyDetails?.appreadme) && !errorFetchingPolicy\"\n              class=\"btn btn-sm role-link banner__readme-button\"\n              @click=\"showReadme\"\n            >\n              {{ t('kubewarden.policyConfig.description.showReadme') }}\n            </button>\n            <div v-else class=\"mb-10\"></div>\n          </template>\n        </div>\n        <Values\n          :value=\"value\"\n          :chart-values=\"chartValues\"\n          :yaml-values=\"yamlValues\"\n          :mode=\"mode\"\n          :custom-policy=\"customPolicy\"\n          :error-fetching-policy=\"errorFetchingPolicy\"\n          @editor=\"$event => yamlOption = $event\"\n          @updateYamlValues=\"$event => yamlValues = $event\"\n        />\n      </template>\n\n      <template #finish>\n        <AsyncButton\n          data-testid=\"kw-policy-create-finish-button\"\n          :disabled=\"!canFinish\"\n          mode=\"finish\"\n          class=\"ml-20\"\n          @click=\"finish\"\n        />\n      </template>\n    </Wizard>\n\n    <template v-if=\"selectedPolicyDetails && (selectedPolicyDetails?.readme || selectPolicyDetails?.appreadme) && !customPolicy && !errorFetchingPolicy\">\n      <PolicyReadmePanel\n        ref=\"readmePanel\"\n        :policy-chart-details=\"selectedPolicyDetails\"\n      />\n    </template>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n$padding: 5px;\n$height: 110px;\n$margin: 10px;\n$color: var(--body-text) !important;\n\n:deep(.header) {\n  display: none;\n}\n\n:deep(.controls-row) {\n  position: sticky;\n  width: auto;\n\n  .controls-steps {\n    display: flex;\n  }\n}\n\n:deep(.custom) {\n  min-height: 110px;\n}\n\n:deep(.subtype) {\n  height: $height;\n  margin: $margin;\n  position: relative;\n  border-radius: calc( 1.5 * var(--border-radius));\n  border: 1px solid var(--border);\n  text-decoration: none !important;\n  color: $color;\n\n  &:hover:not(.disabled) {\n    box-shadow: 0 0 30px var(--shadow);\n    transition: box-shadow 0.1s ease-in-out;\n    cursor: pointer;\n    text-decoration: none !important;\n  }\n\n  .subtype__metadata {\n    padding: $margin;\n\n    &__label, &__description {\n      padding-right: 20px;\n    }\n  }\n\n  .subtype__badge {\n    position: absolute;\n    right: 0;\n    top: 0;\n    padding: 4px $padding;\n    border-bottom-left-radius: var(--border-radius);\n\n    label {\n      font-size: 12px;\n      line-height: 12px;\n      text-align: center;\n      display: block;\n      white-space: no-wrap;\n      text-overflow: ellipsis;\n      color: var(--app-rancher-accent-text);\n      margin: 0;\n    }\n  }\n\n  .subtype__label {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    margin-bottom: 4px;\n    line-height: initial;\n  }\n\n  .subtype__description {\n    margin-right: $margin;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 3;\n    line-clamp: 3;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    color: var(--input-label);\n  }\n}\n\n:deep(.footer-error) {\n  margin-top: 15px;\n}\n\n.wizard {\n  position: relative;\n  height: 100%;\n  z-index: 1;\n}\n\n.banner {\n  &__title {\n    padding-top: 10px;\n    margin-bottom: 10px;\n    border-bottom: 1px solid var(--border);\n    min-height: 60px;\n  }\n\n  &__readme-button {\n    padding: 0 7px 0 0;\n  }\n}\n</style>\n","/**\n * Takes a k8s dns entry and returns the port\n * @param inputString | dns entry e.g. 'my-open-telemetry-collector.jaeger.svc.cluster.local:4317'\n * @returns `number | null | void` | Returns the port at the end of a string\n */\nexport function extractPortNumber(inputString: any): number | null | void {\n  const portPattern = /:(\\d+)$/;\n  const match = inputString.match(portPattern);\n\n  if (match && match[1]) {\n    return parseInt(match[1], 10);\n  } else {\n    return null;\n  }\n}\n\n\n/**\n * Takes a URL and returns the url without the trailing slash\n * @param inputString | URL e.g. 'https://my-service.local:4317/'\n * @returns `string` | Returns the URL without the trailing slash\n * @example\n * ```ts\n * const url = 'https://my-service.local:4317/';\n * const result = trimTrailingSlash(url);\n * console.log(result); // 'https://my-service.local:4317'\n * ```\n */\nexport function trimTrailingSlash(inputString: string): string {\n  return inputString.replace(/\\/$/, '');\n};","import { PolicyChart, KUBEWARDEN_POLICY_ANNOTATIONS, LEGACY_POLICY_ANNOTATIONS } from '@kubewarden/types';\n\n/**\n * Extracts resource kinds from a list of policy charts with the `kubewarden/resources` annotation.\n * @param policyCharts\n * @returns `string[]` | Resource kinds\n */\nexport function resourcesFromAnnotation(policyChart: PolicyChart[]): string[] | void {\n  const out: string[] = [];\n\n  const resources = policyChart?.flatMap((policyChart) => {\n    const annotation = policyChart?.annotations?.[KUBEWARDEN_POLICY_ANNOTATIONS.RESOURCES] ??\n                       policyChart?.annotations?.[LEGACY_POLICY_ANNOTATIONS.RESOURCES];\n\n    if (annotation) {\n      return annotation;\n    }\n  });\n\n  resources?.flatMap((resource) => {\n    if (resource) {\n      const split = resource.split(',');\n\n      if (split.length > 1) {\n        split.forEach((s: string) => out.push(s.trim()));\n      } else {\n        out.push(resource);\n      }\n    }\n\n    return [];\n  })?.sort();\n\n  if (!out || out?.length === 0) {\n    return [];\n  }\n\n  return [...new Set(out.filter(Boolean))];\n}\n\n/**\n * Checks the resources within a policy chart's `kubewarden/resources` annotation to determine if\n * the policy is targeting non-namespaced resources. Needed to gate CAP from AP grid.\n * @param policyChart `schemas`\n * @returns Boolean\n */\nexport function isGlobalPolicy(policyChart: PolicyChart, schemas: any): boolean {\n  if (policyChart) {\n    const resources: string[] | undefined = policyChart.annotations?.['kubewarden/resources']?.split(',');\n    let targetsNonNamespaced: boolean = false;\n\n    if (resources) {\n      for (const resource of resources) {\n        targetsNonNamespaced = schemas?.some((schema: any) => (\n          schema?.attributes?.kind === resource && (schema?.attributes?.namespaced === false || undefined)\n        ));\n      }\n    }\n\n    return targetsNonNamespaced;\n  }\n\n  return false;\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport {\n  ref, watch, onMounted, onBeforeUnmount, nextTick\n} from 'vue';\n\nimport SortableTable from '@shell/components/SortableTable';\n\ninterface Listener {\n  row: HTMLElement;\n  listener: (event: Event) => void; // eslint-disable-line no-unused-vars\n}\n\ninterface Props {\n  rows: Array<any>;\n  headers: Array<any>;\n  tableActions?: boolean;\n  rowActions?: boolean;\n  keyField: string;\n  defaultSortBy?: string;\n  paging?: boolean;\n  search?: boolean;\n  useQueryParamsForSimpleFiltering?: boolean;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'SortableTableWrapper',\n  props: {\n    rows: {},\n    headers: {},\n    tableActions: { type: Boolean },\n    rowActions: { type: Boolean },\n    keyField: {},\n    defaultSortBy: {},\n    paging: { type: Boolean },\n    search: { type: Boolean },\n    useQueryParamsForSimpleFiltering: { type: Boolean }\n  },\n  emits: ['selectRow'],\n  setup(__props: any, { emit: __emit }) {\n\n\n\nconst emit = __emit;\n\nconst sortableTable = ref();\nconst listeners = ref<Listener[]>([]);\n\nconst addRowClickListener = () => {\n  nextTick(() => {\n    const table = sortableTable.value?.$el?.querySelector('table') as HTMLElement;\n\n    if (table) {\n      removeRowClickListener();\n\n      table.querySelectorAll('tbody tr').forEach((row, index) => {\n        const listener = () => {\n          const rowsProp = (sortableTable.value?.$props as Props).rows || [];\n          const indexFrom = sortableTable.value?.indexFrom || 1;\n\n          emit('selectRow', rowsProp[indexFrom - 1 + index]);\n        };\n\n        row.addEventListener('click', listener);\n        listeners.value.push({\n          row: row as HTMLElement,\n          listener\n        });\n      });\n    }\n  });\n};\n\nconst removeRowClickListener = () => {\n  listeners.value.forEach(({ row, listener }) => {\n    row.removeEventListener('click', listener);\n  });\n  listeners.value = [];\n};\n\nwatch(() => sortableTable.value?.$props.rows, () => {\n  addRowClickListener();\n});\n\nonMounted(() => {\n  addRowClickListener();\n});\n\nonBeforeUnmount(() => {\n  removeRowClickListener();\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(_unref(SortableTable), {\n      ref_key: \"sortableTable\",\n      ref: sortableTable,\n      rows: _ctx.rows,\n      headers: _ctx.headers,\n      \"table-actions\": _ctx.tableActions,\n      \"row-actions\": _ctx.rowActions,\n      \"key-field\": _ctx.keyField,\n      \"default-sort-by\": _ctx.defaultSortBy,\n      paging: _ctx.paging,\n      search: _ctx.search,\n      \"use-query-params-for-simple-filtering\": _ctx.useQueryParamsForSimpleFiltering\n    }, null, 8, [\"rows\", \"headers\", \"table-actions\", \"row-actions\", \"key-field\", \"default-sort-by\", \"paging\", \"search\", \"use-query-params-for-simple-filtering\"])\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport {\n  ref, watch, onMounted, onBeforeUnmount, nextTick\n} from 'vue';\n\nimport SortableTable from '@shell/components/SortableTable';\n\ninterface Listener {\n  row: HTMLElement;\n  listener: (event: Event) => void; // eslint-disable-line no-unused-vars\n}\n\ninterface Props {\n  rows: Array<any>;\n  headers: Array<any>;\n  tableActions?: boolean;\n  rowActions?: boolean;\n  keyField: string;\n  defaultSortBy?: string;\n  paging?: boolean;\n  search?: boolean;\n  useQueryParamsForSimpleFiltering?: boolean;\n}\n\ndefineProps<Props>();\n\nconst emit = defineEmits(['selectRow']);\n\nconst sortableTable = ref();\nconst listeners = ref<Listener[]>([]);\n\nconst addRowClickListener = () => {\n  nextTick(() => {\n    const table = sortableTable.value?.$el?.querySelector('table') as HTMLElement;\n\n    if (table) {\n      removeRowClickListener();\n\n      table.querySelectorAll('tbody tr').forEach((row, index) => {\n        const listener = () => {\n          const rowsProp = (sortableTable.value?.$props as Props).rows || [];\n          const indexFrom = sortableTable.value?.indexFrom || 1;\n\n          emit('selectRow', rowsProp[indexFrom - 1 + index]);\n        };\n\n        row.addEventListener('click', listener);\n        listeners.value.push({\n          row: row as HTMLElement,\n          listener\n        });\n      });\n    }\n  });\n};\n\nconst removeRowClickListener = () => {\n  listeners.value.forEach(({ row, listener }) => {\n    row.removeEventListener('click', listener);\n  });\n  listeners.value = [];\n};\n\nwatch(() => sortableTable.value?.$props.rows, () => {\n  addRowClickListener();\n});\n\nonMounted(() => {\n  addRowClickListener();\n});\n\nonBeforeUnmount(() => {\n  removeRowClickListener();\n});\n</script>\n\n<template>\n  <div>\n    <SortableTable\n      ref=\"sortableTable\"\n      :rows=\"rows\"\n      :headers=\"headers\"\n      :table-actions=\"tableActions\"\n      :row-actions=\"rowActions\"\n      :key-field=\"keyField\"\n      :default-sort-by=\"defaultSortBy\"\n      :paging=\"paging\"\n      :search=\"search\"\n      :use-query-params-for-simple-filtering=\"useQueryParamsForSimpleFiltering\"\n    />\n  </div>\n</template>\n","import script from \"./SortableTableWrapper.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SortableTableWrapper.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"policy-table-container\" }\nconst _hoisted_2 = { class: \"filter\" }\nconst _hoisted_3 = { class: \"policy-table-actions\" }\n\nimport { computed, inject, ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRoute } from 'vue-router';\nimport semver from 'semver';\n\nimport { SCHEMA } from '@shell/config/types';\nimport { CATEGORY, SEARCH_QUERY } from '@shell/config/query-params';\nimport { SHOW_PRE_RELEASE } from '@shell/store/prefs';\nimport { ensureRegex } from '@shell/utils/string';\n\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { Checkbox } from '@components/Form/Checkbox';\n\nimport { PolicyChart, KUBEWARDEN, KUBEWARDEN_POLICY_ANNOTATIONS, LEGACY_POLICY_ANNOTATIONS } from '@kubewarden/types';\nimport { POLICY_TABLE_HEADERS } from '@kubewarden/config/table-headers';\nimport { resourcesFromAnnotation, isGlobalPolicy } from '@kubewarden/modules/policyChart';\n\nimport SortableTableWrapper from '@kubewarden/components/SortableTableWrapper';\n\ntype KubewardenKey = keyof typeof KUBEWARDEN_POLICY_ANNOTATIONS;\ntype LegacyKey = keyof typeof LEGACY_POLICY_ANNOTATIONS;\ntype AnnotationKey = KubewardenKey | LegacyKey;\n\ninterface Props {\n  mode: string;\n  charts: PolicyChart[];\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'PolicyTable',\n  props: {\n    mode: {},\n    charts: {}\n  },\n  emits: ['selectPolicy'],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\n\nconst emit = __emit;\n\n/**\n * Provided in `./edit/policies.kubewarden.io.(cluster)admissionpolicy.vue`\n */\nconst chartType = inject<string>('chartType', '');\n\nconst store = useStore();\nconst route = useRoute();\nconst t = store.getters['i18n/t'];\n\nconst category = ref<string>(route?.query?.[CATEGORY] as string || '');\nconst searchQuery = ref<string>(route?.query?.[SEARCH_QUERY] as string || '');\nconst attributes = ref<string[]>([t('kubewarden.utils.attributes.optionLabels.all')]);\nconst showKubewardenOfficial = ref<boolean>(true);\n\nconst allSchemas = computed(() => store.getters['cluster/all'](SCHEMA));\n\nconst showPreRelease = computed<boolean>(() => store.getters['prefs/get'](SHOW_PRE_RELEASE));\n\nconst computedAttributes = computed<string[]>({\n  get() {\n    return attributes.value;\n  },\n  set(newVal: string[]) {\n    const allLabel = t('kubewarden.utils.attributes.optionLabels.all');\n\n    let cleaned = [...newVal];\n\n    if (!cleaned.length) {\n      cleaned = [allLabel];\n    }\n\n    if (cleaned.length > 1 && cleaned.includes(allLabel)) {\n      cleaned = cleaned.filter((x) => x !== allLabel);\n    }\n\n    attributes.value = cleaned;\n  }\n});\n\n/**\n * Return charts filtering out global policies (if Admission Policy),\n * and pre-release charts if the user doesn't want to see them.\n */\nconst filteredCharts = computed(() => {\n  return props.charts?.filter((chart) => {\n    // Determine if the package is a pre-release\n    const isPreRelease = isPrerelease(chart);\n\n    if (!showPreRelease.value && isPreRelease) {\n      return false; // Exclude pre-releases if showPreRelease is false\n    }\n\n    if (chartType === KUBEWARDEN.ADMISSION_POLICY) {\n      // Filter out cluster-level Admission Policy charts\n      return !isGlobalPolicy(chart, allSchemas.value);\n    }\n\n    return true;\n  }) || [];\n});\n\n/**\n * Derived from `filteredCharts` - applies search queries, attribute filters, etc.\n */\nconst filteredPolicies = computed(() => {\n  const showPre = showPreRelease.value;\n  const search = searchQuery.value;\n  const showOfficial = showKubewardenOfficial.value;\n\n  // Pre-split search tokens\n  const searchTokens = (search || '')\n    .split(/\\s*[, ]\\s*/)\n    .map((x) => ensureRegex(x, false))\n    .filter((x) => x); // remove empty\n\n  return props.charts.filter((chart) => {\n    // Filter out cluster-level Admission Policies\n    if (chartType === KUBEWARDEN.ADMISSION_POLICY && isGlobalPolicy(chart, allSchemas.value)) {\n      return false;\n    }\n\n    // Filter out pre-release if the user doesn't want them\n    const isPre = isPrerelease(chart);\n\n    if (!showPre && isPre) {\n      return false;\n    }\n\n    // Filter official vs. non-official\n    if (showOfficial && !chart.official) {\n      return false;\n    }\n\n    // Search tokens\n    if (searchTokens.length) {\n      const displayName = coalescedDisplayName(chart);\n      const keywords    = coalescedKeywords(chart);\n      const desc        = chart.description || '';\n\n      const matchesSearch = searchTokens.every((token) => (displayName && displayName.match(token)) ||\n        (desc && desc.match(token)) ||\n        keywords.some((k) => k.match(token))\n      );\n\n      if (!matchesSearch) {\n        return false;\n      }\n    }\n\n    // Attribute filtering (features & resources)\n    if (attributes.value.length) {\n      // If user selected \"All,\" pass immediately\n      if (attributes.value.includes(t('kubewarden.utils.attributes.optionLabels.all'))) {\n        return true;\n      }\n\n      const matchesAttributes = attributes.value.some((attribute) => {\n        // Is it a feature (Mutation, Context Aware)?\n        const isFeature = featureOptions.value.includes(attribute);\n\n        if (isFeature) {\n          if (attribute === 'Mutation') {\n            return isMutation(chart);\n          } else if (attribute === 'Context Aware') {\n            return isContextAware(chart);\n          }\n\n          return false;\n        } else {\n          // Otherwise treat it as a resource filter\n          const resources = coalescedResources(chart);\n\n          return resources?.includes(attribute);\n        }\n      });\n\n      if (!matchesAttributes) {\n        return false;\n      }\n    }\n\n    return true;\n  }).sort((a, b) => a.name.localeCompare(b.name));\n});\n\n/**\n * Build out the attribute options (resource options + feature options).\n */\nconst attributeOptionsComputed = computed(() => {\n  const out: Array<string | { kind: string; label: string }> = [];\n\n  if (resourceOptions.value?.length) {\n    out.push(\n      {\n        kind:  'group',\n        label: t('kubewarden.utils.attributes.optionLabels.resource'),\n      },\n      ...resourceOptions.value\n    );\n  }\n\n  if (featureOptions.value.length) {\n    out.push(\n      {\n        kind:  'group',\n        label: t('kubewarden.utils.attributes.optionLabels.features'),\n      },\n      ...featureOptions.value\n    );\n  }\n\n  if (out.length) {\n    out.unshift(\n      t('kubewarden.utils.attributes.optionLabels.all'),\n      {\n        kind:  'divider',\n        label: 'divider'\n      }\n    );\n  }\n\n  return out;\n});\n\n/**\n * List all features from the annotations of the charts\n */\nconst featureOptions = computed<string[]>(() => {\n  const featuresList: string[] = [];\n\n  for (const policy of filteredCharts.value) {\n    if (policy?.annotations?.['kubewarden/mutation'] === 'true') {\n      featuresList.push('Mutation');\n    }\n\n    if (policy?.annotations?.['kubewarden/contextAwareResources']) {\n      featuresList.push('Context Aware');\n    }\n  }\n\n  return [...new Set(featuresList.filter(Boolean))];\n});\n\n/**\n * Resource options derived from chart annotations\n */\nconst resourceOptions = computed(() => {\n  return resourcesFromAnnotation(filteredCharts.value);\n});\n\nfunction isPrerelease(policyChart: any) {\n  const parsed = semver.prerelease(policyChart.version);\n\n  // Special handling for `deprecated-api-versions`\n  if (parsed && policyChart.name === 'deprecated-api-versions') {\n    return !!parsed.includes('rc');\n  }\n\n  return !!parsed;\n}\n\nfunction refresh() {\n  category.value = '';\n  attributes.value = [t('kubewarden.utils.attributes.optionLabels.all')];\n  searchQuery.value = '';\n}\n\n/**\n * Helper to unify new & legacy policy annotations for a given annotation name\n */\nfunction getAnnotation(policy: PolicyChart, key: AnnotationKey): string | undefined {\n  return policy.annotations?.[KUBEWARDEN_POLICY_ANNOTATIONS[key as KubewardenKey]] ??\n         policy.annotations?.[LEGACY_POLICY_ANNOTATIONS[key as LegacyKey]];\n}\n\nfunction coalescedDisplayName(policy: PolicyChart) {\n  return getAnnotation(policy, 'DISPLAY_NAME') || policy.name;\n}\n\nfunction coalescedKeywords(policy: PolicyChart): string[] {\n  const fromAnnotation = getAnnotation(policy, 'KEYWORDS') || '';\n  const arrayFromAnnotation = fromAnnotation ? fromAnnotation.split(',') : [];\n\n  return [\n    ...(policy.keywords || []),\n    ...arrayFromAnnotation\n  ].filter(Boolean);\n}\n\nfunction coalescedResources(policy: PolicyChart) {\n  return getAnnotation(policy, 'RESOURCES');\n}\n\nfunction isMutation(chart: PolicyChart): boolean {\n  return chart.annotations?.[KUBEWARDEN_POLICY_ANNOTATIONS.MUTATION] === 'true';\n}\n\nfunction isContextAware(chart: PolicyChart): boolean {\n  return chart.annotations?.[KUBEWARDEN_POLICY_ANNOTATIONS.CONTEXT_AWARE_RESOURCES] === 'true';\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (attributeOptionsComputed.value.length)\n        ? (_openBlock(), _createBlock(_unref(LabeledSelect), {\n            key: 0,\n            value: computedAttributes.value,\n            \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((computedAttributes).value = $event)),\n            \"data-testid\": \"kw-table-filter-source\",\n            clearable: true,\n            taggable: true,\n            mode: props.mode,\n            multiple: true,\n            class: \"filter__attributes\",\n            label: _unref(t)('kubewarden.utils.attributes.label'),\n            options: attributeOptionsComputed.value\n          }, null, 8, [\"value\", \"mode\", \"label\", \"options\"]))\n        : _createCommentVNode(\"\", true),\n      _createVNode(_unref(LabeledInput), {\n        ref: \"searchQueryInput\",\n        value: searchQuery.value,\n        \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((searchQuery).value = $event)),\n        \"data-testid\": \"kw-table-filter-search\",\n        mode: props.mode,\n        class: \"input-sm filter__search\",\n        label: _unref(t)('kubewarden.utils.search'),\n        placeholder: _unref(t)('kubewarden.generic.name')\n      }, null, 8, [\"value\", \"mode\", \"label\", \"placeholder\"]),\n      _createElementVNode(\"button\", {\n        \"data-testid\": \"kw-table-filter-refresh\",\n        class: \"btn role-tertiary filter__reset\",\n        type: \"button\",\n        onClick: refresh\n      }, [\n        _createElementVNode(\"p\", null, _toDisplayString(_unref(t)('kubewarden.utils.resetFilter')), 1)\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(_unref(Checkbox), {\n        value: showKubewardenOfficial.value,\n        \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => ((showKubewardenOfficial).value = $event)),\n        label: _unref(t)('kubewarden.utils.official.label'),\n        \"data-testid\": \"kw-table-filter-official\"\n      }, null, 8, [\"value\", \"label\"]),\n      _createElementVNode(\"button\", {\n        \"data-testid\": \"kw-table-custom-buttom\",\n        class: \"btn role-tertiary\",\n        type: \"button\",\n        onClick: _cache[3] || (_cache[3] = ($event: any) => (emit('selectPolicy', 'custom')))\n      }, [\n        _createElementVNode(\"p\", null, _toDisplayString(_unref(t)('kubewarden.utils.custom.create')), 1)\n      ])\n    ]),\n    _createVNode(_unref(SortableTableWrapper), {\n      rows: filteredPolicies.value,\n      headers: _unref(POLICY_TABLE_HEADERS),\n      \"table-actions\": false,\n      \"row-actions\": false,\n      \"key-field\": \"digest\",\n      \"default-sort-by\": \"name\",\n      paging: true,\n      search: false,\n      onSelectRow: _cache[4] || (_cache[4] = (row) => emit('selectPolicy', row))\n    }, null, 8, [\"rows\", \"headers\"])\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { computed, inject, ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRoute } from 'vue-router';\nimport semver from 'semver';\n\nimport { SCHEMA } from '@shell/config/types';\nimport { CATEGORY, SEARCH_QUERY } from '@shell/config/query-params';\nimport { SHOW_PRE_RELEASE } from '@shell/store/prefs';\nimport { ensureRegex } from '@shell/utils/string';\n\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { Checkbox } from '@components/Form/Checkbox';\n\nimport { PolicyChart, KUBEWARDEN, KUBEWARDEN_POLICY_ANNOTATIONS, LEGACY_POLICY_ANNOTATIONS } from '@kubewarden/types';\nimport { POLICY_TABLE_HEADERS } from '@kubewarden/config/table-headers';\nimport { resourcesFromAnnotation, isGlobalPolicy } from '@kubewarden/modules/policyChart';\n\nimport SortableTableWrapper from '@kubewarden/components/SortableTableWrapper';\n\ntype KubewardenKey = keyof typeof KUBEWARDEN_POLICY_ANNOTATIONS;\ntype LegacyKey = keyof typeof LEGACY_POLICY_ANNOTATIONS;\ntype AnnotationKey = KubewardenKey | LegacyKey;\n\ninterface Props {\n  mode: string;\n  charts: PolicyChart[];\n}\n\nconst props = defineProps<Props>();\n\nconst emit = defineEmits(['selectPolicy']);\n\n/**\n * Provided in `./edit/policies.kubewarden.io.(cluster)admissionpolicy.vue`\n */\nconst chartType = inject<string>('chartType', '');\n\nconst store = useStore();\nconst route = useRoute();\nconst t = store.getters['i18n/t'];\n\nconst category = ref<string>(route?.query?.[CATEGORY] as string || '');\nconst searchQuery = ref<string>(route?.query?.[SEARCH_QUERY] as string || '');\nconst attributes = ref<string[]>([t('kubewarden.utils.attributes.optionLabels.all')]);\nconst showKubewardenOfficial = ref<boolean>(true);\n\nconst allSchemas = computed(() => store.getters['cluster/all'](SCHEMA));\n\nconst showPreRelease = computed<boolean>(() => store.getters['prefs/get'](SHOW_PRE_RELEASE));\n\nconst computedAttributes = computed<string[]>({\n  get() {\n    return attributes.value;\n  },\n  set(newVal: string[]) {\n    const allLabel = t('kubewarden.utils.attributes.optionLabels.all');\n\n    let cleaned = [...newVal];\n\n    if (!cleaned.length) {\n      cleaned = [allLabel];\n    }\n\n    if (cleaned.length > 1 && cleaned.includes(allLabel)) {\n      cleaned = cleaned.filter((x) => x !== allLabel);\n    }\n\n    attributes.value = cleaned;\n  }\n});\n\n/**\n * Return charts filtering out global policies (if Admission Policy),\n * and pre-release charts if the user doesn't want to see them.\n */\nconst filteredCharts = computed(() => {\n  return props.charts?.filter((chart) => {\n    // Determine if the package is a pre-release\n    const isPreRelease = isPrerelease(chart);\n\n    if (!showPreRelease.value && isPreRelease) {\n      return false; // Exclude pre-releases if showPreRelease is false\n    }\n\n    if (chartType === KUBEWARDEN.ADMISSION_POLICY) {\n      // Filter out cluster-level Admission Policy charts\n      return !isGlobalPolicy(chart, allSchemas.value);\n    }\n\n    return true;\n  }) || [];\n});\n\n/**\n * Derived from `filteredCharts` - applies search queries, attribute filters, etc.\n */\nconst filteredPolicies = computed(() => {\n  const showPre = showPreRelease.value;\n  const search = searchQuery.value;\n  const showOfficial = showKubewardenOfficial.value;\n\n  // Pre-split search tokens\n  const searchTokens = (search || '')\n    .split(/\\s*[, ]\\s*/)\n    .map((x) => ensureRegex(x, false))\n    .filter((x) => x); // remove empty\n\n  return props.charts.filter((chart) => {\n    // Filter out cluster-level Admission Policies\n    if (chartType === KUBEWARDEN.ADMISSION_POLICY && isGlobalPolicy(chart, allSchemas.value)) {\n      return false;\n    }\n\n    // Filter out pre-release if the user doesn't want them\n    const isPre = isPrerelease(chart);\n\n    if (!showPre && isPre) {\n      return false;\n    }\n\n    // Filter official vs. non-official\n    if (showOfficial && !chart.official) {\n      return false;\n    }\n\n    // Search tokens\n    if (searchTokens.length) {\n      const displayName = coalescedDisplayName(chart);\n      const keywords    = coalescedKeywords(chart);\n      const desc        = chart.description || '';\n\n      const matchesSearch = searchTokens.every((token) => (displayName && displayName.match(token)) ||\n        (desc && desc.match(token)) ||\n        keywords.some((k) => k.match(token))\n      );\n\n      if (!matchesSearch) {\n        return false;\n      }\n    }\n\n    // Attribute filtering (features & resources)\n    if (attributes.value.length) {\n      // If user selected \"All,\" pass immediately\n      if (attributes.value.includes(t('kubewarden.utils.attributes.optionLabels.all'))) {\n        return true;\n      }\n\n      const matchesAttributes = attributes.value.some((attribute) => {\n        // Is it a feature (Mutation, Context Aware)?\n        const isFeature = featureOptions.value.includes(attribute);\n\n        if (isFeature) {\n          if (attribute === 'Mutation') {\n            return isMutation(chart);\n          } else if (attribute === 'Context Aware') {\n            return isContextAware(chart);\n          }\n\n          return false;\n        } else {\n          // Otherwise treat it as a resource filter\n          const resources = coalescedResources(chart);\n\n          return resources?.includes(attribute);\n        }\n      });\n\n      if (!matchesAttributes) {\n        return false;\n      }\n    }\n\n    return true;\n  }).sort((a, b) => a.name.localeCompare(b.name));\n});\n\n/**\n * Build out the attribute options (resource options + feature options).\n */\nconst attributeOptionsComputed = computed(() => {\n  const out: Array<string | { kind: string; label: string }> = [];\n\n  if (resourceOptions.value?.length) {\n    out.push(\n      {\n        kind:  'group',\n        label: t('kubewarden.utils.attributes.optionLabels.resource'),\n      },\n      ...resourceOptions.value\n    );\n  }\n\n  if (featureOptions.value.length) {\n    out.push(\n      {\n        kind:  'group',\n        label: t('kubewarden.utils.attributes.optionLabels.features'),\n      },\n      ...featureOptions.value\n    );\n  }\n\n  if (out.length) {\n    out.unshift(\n      t('kubewarden.utils.attributes.optionLabels.all'),\n      {\n        kind:  'divider',\n        label: 'divider'\n      }\n    );\n  }\n\n  return out;\n});\n\n/**\n * List all features from the annotations of the charts\n */\nconst featureOptions = computed<string[]>(() => {\n  const featuresList: string[] = [];\n\n  for (const policy of filteredCharts.value) {\n    if (policy?.annotations?.['kubewarden/mutation'] === 'true') {\n      featuresList.push('Mutation');\n    }\n\n    if (policy?.annotations?.['kubewarden/contextAwareResources']) {\n      featuresList.push('Context Aware');\n    }\n  }\n\n  return [...new Set(featuresList.filter(Boolean))];\n});\n\n/**\n * Resource options derived from chart annotations\n */\nconst resourceOptions = computed(() => {\n  return resourcesFromAnnotation(filteredCharts.value);\n});\n\nfunction isPrerelease(policyChart: any) {\n  const parsed = semver.prerelease(policyChart.version);\n\n  // Special handling for `deprecated-api-versions`\n  if (parsed && policyChart.name === 'deprecated-api-versions') {\n    return !!parsed.includes('rc');\n  }\n\n  return !!parsed;\n}\n\nfunction refresh() {\n  category.value = '';\n  attributes.value = [t('kubewarden.utils.attributes.optionLabels.all')];\n  searchQuery.value = '';\n}\n\n/**\n * Helper to unify new & legacy policy annotations for a given annotation name\n */\nfunction getAnnotation(policy: PolicyChart, key: AnnotationKey): string | undefined {\n  return policy.annotations?.[KUBEWARDEN_POLICY_ANNOTATIONS[key as KubewardenKey]] ??\n         policy.annotations?.[LEGACY_POLICY_ANNOTATIONS[key as LegacyKey]];\n}\n\nfunction coalescedDisplayName(policy: PolicyChart) {\n  return getAnnotation(policy, 'DISPLAY_NAME') || policy.name;\n}\n\nfunction coalescedKeywords(policy: PolicyChart): string[] {\n  const fromAnnotation = getAnnotation(policy, 'KEYWORDS') || '';\n  const arrayFromAnnotation = fromAnnotation ? fromAnnotation.split(',') : [];\n\n  return [\n    ...(policy.keywords || []),\n    ...arrayFromAnnotation\n  ].filter(Boolean);\n}\n\nfunction coalescedResources(policy: PolicyChart) {\n  return getAnnotation(policy, 'RESOURCES');\n}\n\nfunction isMutation(chart: PolicyChart): boolean {\n  return chart.annotations?.[KUBEWARDEN_POLICY_ANNOTATIONS.MUTATION] === 'true';\n}\n\nfunction isContextAware(chart: PolicyChart): boolean {\n  return chart.annotations?.[KUBEWARDEN_POLICY_ANNOTATIONS.CONTEXT_AWARE_RESOURCES] === 'true';\n}\n\n</script>\n\n<template>\n  <div class=\"policy-table-container\">\n    <!-- FILTERS -->\n    <div class=\"filter\">\n      <LabeledSelect\n        v-if=\"attributeOptionsComputed.length\"\n        v-model:value=\"computedAttributes\"\n        data-testid=\"kw-table-filter-source\"\n        :clearable=\"true\"\n        :taggable=\"true\"\n        :mode=\"props.mode\"\n        :multiple=\"true\"\n        class=\"filter__attributes\"\n        :label=\"t('kubewarden.utils.attributes.label')\"\n        :options=\"attributeOptionsComputed\"\n      />\n\n      <LabeledInput\n        ref=\"searchQueryInput\"\n        v-model:value=\"searchQuery\"\n        data-testid=\"kw-table-filter-search\"\n        :mode=\"props.mode\"\n        class=\"input-sm filter__search\"\n        :label=\"t('kubewarden.utils.search')\"\n        :placeholder=\"t('kubewarden.generic.name')\"\n      />\n\n      <button\n        data-testid=\"kw-table-filter-refresh\"\n        class=\"btn role-tertiary filter__reset\"\n        type=\"button\"\n        @click=\"refresh\"\n      >\n        <p>{{ t('kubewarden.utils.resetFilter') }}</p>\n      </button>\n    </div>\n\n    <!-- ACTIONS -->\n    <div class=\"policy-table-actions\">\n      <Checkbox\n        v-model:value=\"showKubewardenOfficial\"\n        :label=\"t('kubewarden.utils.official.label')\"\n        data-testid=\"kw-table-filter-official\"\n      />\n\n      <button\n        data-testid=\"kw-table-custom-buttom\"\n        class=\"btn role-tertiary\"\n        type=\"button\"\n        @click=\"emit('selectPolicy', 'custom')\"\n      >\n        <p>{{ t('kubewarden.utils.custom.create') }}</p>\n      </button>\n    </div>\n\n    <!-- TABLE -->\n    <SortableTableWrapper\n      :rows=\"filteredPolicies\"\n      :headers=\"POLICY_TABLE_HEADERS\"\n      :table-actions=\"false\"\n      :row-actions=\"false\"\n      key-field=\"digest\"\n      default-sort-by=\"name\"\n      :paging=\"true\"\n      :search=\"false\"\n      @selectRow=\"(row: any) => emit('selectPolicy', row)\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.policy-table-container {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  padding: 1rem;\n}\n\n.policy-table-actions {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.filter {\n  width: 100%;\n  display: grid;\n  grid-template-rows: 1fr;\n  grid-template-columns: repeat(2, 1fr) .25fr;\n  grid-template-areas:\n    \"attributes search reset\";\n  gap: 1rem;\n\n  & > * {\n    margin: 0.5rem 0;\n  }\n\n  &__attributes {\n    grid-area: attributes;\n  }\n\n  &__search {\n    grid-area: search;\n  }\n\n  &__reset {\n    grid-area: reset;\n\n    p {\n      line-height: 1.5;\n      white-space: wrap;\n    }\n  }\n}\n\n/* Make table rows clickable */\n:deep(tr:hover) {\n  cursor: pointer;\n}\n</style>\n","import script from \"./PolicyTable.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PolicyTable.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PolicyTable.vue?vue&type=style&index=0&id=2ce15ea6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2ce15ea6\"]])\n\nexport default __exports__","import { render } from \"./Create.vue?vue&type=template&id=402c49ec&scoped=true\"\nimport script from \"./Create.vue?vue&type=script&lang=js\"\nexport * from \"./Create.vue?vue&type=script&lang=js\"\n\nimport \"./Create.vue?vue&type=style&index=0&id=402c49ec&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-402c49ec\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-402c49ec] .header{display:none}[data-v-402c49ec] .controls-row{position:sticky;width:auto}[data-v-402c49ec] .controls-row .controls-steps{display:flex}[data-v-402c49ec] .custom{min-height:110px}[data-v-402c49ec] .subtype{height:110px;margin:10px;position:relative;border-radius:calc(var(--border-radius)*1.5);border:1px solid var(--border);text-decoration:none!important;color:var(--body-text)!important}[data-v-402c49ec] .subtype:hover:not(.disabled){box-shadow:0 0 30px var(--shadow);transition:box-shadow .1s ease-in-out;cursor:pointer;text-decoration:none!important}[data-v-402c49ec] .subtype .subtype__metadata{padding:10px}[data-v-402c49ec] .subtype .subtype__metadata__description,[data-v-402c49ec] .subtype .subtype__metadata__label{padding-right:20px}[data-v-402c49ec] .subtype .subtype__badge{position:absolute;right:0;top:0;padding:4px 5px;border-bottom-left-radius:var(--border-radius)}[data-v-402c49ec] .subtype .subtype__badge label{font-size:12px;line-height:12px;text-align:center;display:block;white-space:no-wrap;text-overflow:ellipsis;color:var(--app-rancher-accent-text);margin:0}[data-v-402c49ec] .subtype .subtype__label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:4px;line-height:normal}[data-v-402c49ec] .subtype .subtype__description{margin-right:10px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;line-clamp:3;overflow:hidden;text-overflow:ellipsis;color:var(--input-label)}[data-v-402c49ec] .footer-error{margin-top:15px}.wizard[data-v-402c49ec]{position:relative;height:100%;z-index:1}.banner__title[data-v-402c49ec]{padding-top:10px;margin-bottom:10px;border-bottom:1px solid var(--border);min-height:60px}.banner__readme-button[data-v-402c49ec]{padding:0 7px 0 0}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./Create.vue?vue&type=style&index=0&id=402c49ec&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"22133742\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import isEmpty from 'lodash/isEmpty';\nimport isObject from 'lodash/isObject';\n\nexport function removeEmptyAttrs(obj: any): any {\n  Object.keys(obj).forEach((key: any) => {\n    const value = obj[key];\n\n    // Check for value being empty, null, or an empty array\n    if (value === undefined || value === null || value === '' || (Array.isArray(value) && !value.length)) {\n      delete obj[key];\n    } else if (isObject(value)) {\n      // Recursively clean the object\n      removeEmptyAttrs(value);\n\n      // After cleaning, if the object is empty, delete it\n      if (isEmpty(value)) {\n        delete obj[key];\n      }\n    }\n  });\n\n  // Added check: If the parent object is now empty, return null to signal removal\n  if (isEmpty(obj)) {\n    return null;\n  }\n\n  return obj;\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./Values.vue?vue&type=style&index=0&id=7bf0db83&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3e4b6f00\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./policies.kubewarden.io.admissionpolicy.vue?vue&type=style&index=0&id=788fd4b0&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"45ae5902\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","<script>\nimport { _CLONE, _CREATE, _EDIT } from '@shell/config/query-params';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport jsyaml from 'js-yaml';\n\nimport { handleGrowl } from '@kubewarden/utils/handle-growl';\nimport { removeEmptyAttrs } from '@kubewarden/utils/object';\nimport CruResource from '@shell/components/CruResource';\n\nimport Config from '@kubewarden/components/Policies/Config';\nimport Create from '@kubewarden/components/Policies/Create';\n\nexport default {\n  name: 'ClusterAdmissionPolicy',\n\n  props: {\n    value: {\n      type:     Object,\n      required: true\n    },\n\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    realMode: {\n      type:    String,\n      default: _EDIT\n    }\n  },\n\n  components: {\n    CruResource,\n    Config,\n    Create\n  },\n\n  mixins: [CreateEditView],\n\n  provide() {\n    return {\n      chartType: this.value.type,\n      realMode:  this.realMode\n    };\n  },\n\n  computed: {\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n\n    isClone() {\n      return this.realMode === _CLONE;\n    },\n\n    schema() {\n      return this.$store.getters['cluster/schemaFor'](this.value.type);\n    }\n  },\n\n  methods: {\n    async finish(event) {\n      try {\n        removeEmptyAttrs(this.value);\n\n        // remove metadata that identifies a CAP as a default policy, so that we can edit it later on the UI\n        // https://github.com/rancher/kubewarden-ui/issues/682\n        if (\n          this.isClone &&\n          this.value.isKubewardenDefaultPolicy &&\n          this.value?.metadata?.labels?.['app.kubernetes.io/name'] === 'kubewarden-defaults'\n        ) {\n          delete this.value?.metadata?.labels?.['app.kubernetes.io/name'];\n        }\n\n        await this.save(event, (this.schema?.linkFor('collection') || ''));\n      } catch (e) {\n        handleGrowl({\n          error: e,\n          store: this.$store\n        });\n      }\n    },\n\n    // this updates the \"value\" obj for CAP's\n    // with the updated values that came from the \"edit YAML\" scenario\n    updateYamlValuesFromEdit(val) {\n      // Parse the YAML input and remove any empty attributes.\n      const parsed = jsyaml.load(val);\n\n      removeEmptyAttrs(parsed);\n\n      /*\n       * We update the contents of this.value in place instead of replacing it with a new object.\n       *\n       * The reason for this is that the CreateEditView mixin directly works with the object\n       * referenced by this.value. Replacing the object (e.g., using `this.value = { ...parsed }`)\n       * would break that reference and prevent the mixin from observing the updated properties.\n       *\n       * Instead, we:\n       *   1. Delete any properties from this.value that no longer exist in the parsed object.\n       *   2. Merge the parsed object's properties into the existing this.value using Object.assign.\n       *\n       * See issue https://github.com/rancher/kubewarden-ui/issues/1155\n       */\n      Object.keys(this.value).forEach((key) => {\n        if (!Object.prototype.hasOwnProperty.call(parsed, key)) {\n          delete this.value[key];\n        }\n      });\n\n      Object.assign(this.value, parsed);\n\n      // Emit the updated object to inform the parent/component using v-model that a change has occurred.\n      this.$emit('input', this.value);\n    }\n  }\n};\n</script>\n\n\n\n<template>\n  <Create v-if=\"isCreate\" :value=\"value\" :mode=\"mode\" />\n  <CruResource\n    v-else\n    :errors=\"errors\"\n    :resource=\"value\"\n    :mode=\"realMode\"\n    :can-yaml=\"false\"\n    @finish=\"finish\"\n  >\n    <Config\n      :value=\"value\"\n      :mode=\"realMode\"\n      @updateYamlValues=\"updateYamlValuesFromEdit\"\n    />\n  </CruResource>\n</template>\n\n<style lang=\"scss\" scoped>\n:deep(.cru__footer) {\n  z-index: 1;\n}\n</style>\n","import { render } from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=template&id=6e954f10&scoped=true\"\nimport script from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js\"\nexport * from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js\"\n\nimport \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=style&index=0&id=6e954f10&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6e954f10\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, withCtx as _withCtx, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { key: 1 }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"step__values__controls\"\n}\nconst _hoisted_3 = { class: \"scroll__container\" }\nconst _hoisted_4 = { class: \"scroll__content\" }\n\nimport {\n  ref,\n  onMounted,\n  watch,\n  computed,\n  markRaw\n} from 'vue';\nimport { useStore } from 'vuex';\nimport { defineAsyncComponent, toRaw } from 'vue';\n\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport { SCHEMA } from '@shell/config/types';\nimport { createYaml, saferDump } from '@shell/utils/create-yaml';\n\nimport ButtonGroup from '@shell/components/ButtonGroup';\nimport Loading from '@shell/components/Loading';\nimport ResourceCancelModal from '@shell/components/ResourceCancelModal';\nimport Tabbed from '@shell/components/Tabbed';\nimport YamlEditor, { EDITOR_MODES } from '@shell/components/YamlEditor';\n\nimport {\n  KUBEWARDEN_CHARTS,\n  VALUES_STATE,\n  YAML_OPTIONS,\n  RANCHER_NS_MATCH_EXPRESSION\n} from '@kubewarden/types';\n\ninterface Props {\n  mode: string;\n  chartValues: Record<string, any>;\n  customPolicy?: boolean;\n  value: Record<string, any>;\n  yamlValues: string;\n  errorFetchingPolicy: boolean;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'Values',\n  props: {\n    mode: {},\n    chartValues: {},\n    customPolicy: { type: Boolean },\n    value: {},\n    yamlValues: {},\n    errorFetchingPolicy: { type: Boolean }\n  },\n  emits: ['editor', 'updateYamlValues'],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\nconst store = useStore();\nconst emit = __emit;\n\nconst fetchPending = ref(true);\n\nconst currentYamlValues = ref('');\nconst originalYamlValues = ref('');\nconst showForm = ref(true);\nconst valuesComponent = ref<any>(null);\nconst preYamlOption = ref(VALUES_STATE.FORM);\nconst yamlOption = ref(VALUES_STATE.FORM);\nconst version = ref<any>(null);\n\nconst editorMode = computed(() => EDITOR_MODES.EDIT_CODE);\nconst isCreate = computed(() => props.mode === _CREATE);\nconst isEdit = computed(() => props.mode === _EDIT);\n\nwatch(yamlOption, (neu, old) => {\n  switch (neu) {\n  case VALUES_STATE.FORM:\n    showForm.value = true;\n    emit('editor', neu);\n    break;\n  case VALUES_STATE.YAML:\n    // Switching to YAML view from form\n    if (old === VALUES_STATE.FORM) {\n      currentYamlValues.value = saferDump(props.chartValues.policy);\n      updateYamlValues();\n    }\n\n    showForm.value = false;\n    emit('editor', neu);\n    break;\n  }\n});\n\nfunction generateYaml() {\n  const schemas = store.getters['cluster/all'](SCHEMA);\n\n  const rawPolicy = toRaw(props.chartValues.policy);\n  // Fallback to props.value if there is no policy\n  const cloned = rawPolicy ? structuredClone(rawPolicy) : props.value;\n\n  if (props.yamlValues?.length) {\n    currentYamlValues.value = props.yamlValues;\n  } else {\n    currentYamlValues.value = createYaml(schemas, props.value?.type, cloned);\n  }\n}\n\nfunction loadValuesComponent() {\n  if (props.value?.haveComponent('kubewarden/admission')) {\n    // Dynamic import of the form component\n    const importFn = props.value.importComponent('kubewarden/admission');\n\n    valuesComponent.value = markRaw(defineAsyncComponent(importFn));\n  }\n}\n\nfunction tabChanged() {\n  window.scrollTo(0, 0);\n}\n\nfunction updateYamlValues() {\n  emit('updateYamlValues', currentYamlValues.value);\n}\n\nonMounted(async() => {\n  // Attempt to fetch chart version info\n  try {\n    version.value = store.getters['catalog/version']({\n      repoType:  'cluster',\n      repoName:  'kubewarden',\n      chartName: KUBEWARDEN_CHARTS.CONTROLLER\n    });\n    loadValuesComponent();\n  } catch (e) {\n    console.warn(`Unable to fetch Version: ${ e }`);\n  }\n\n  generateYaml();\n\n  // If creating a ClusterAdmissionPolicy, ensure default matchExpressions\n  if (props.mode === _CREATE && props.chartValues?.policy?.kind === 'ClusterAdmissionPolicy') {\n    if (!props.chartValues?.policy?.spec?.namespaceSelector) {\n      props.chartValues.policy.spec.namespaceSelector = {};\n    }\n    props.chartValues.policy.spec.namespaceSelector.matchExpressions = [\n      RANCHER_NS_MATCH_EXPRESSION\n    ];\n  }\n\n  fetchPending.value = false;\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (fetchPending.value)\n    ? (_openBlock(), _createBlock(_unref(Loading), {\n        key: 0,\n        mode: \"relative\"\n      }))\n    : (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        (isCreate.value || isEdit.value)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n              _createVNode(_unref(ButtonGroup), {\n                value: yamlOption.value,\n                \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((yamlOption).value = $event)),\n                \"data-testid\": \"kw-policy-config-yaml-option\",\n                options: _unref(YAML_OPTIONS),\n                \"inactive-class\": \"bg-disabled btn-sm\",\n                \"active-class\": \"bg-primary btn-sm\"\n              }, null, 8, [\"value\", \"options\"])\n            ]))\n          : _createCommentVNode(\"\", true),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            (showForm.value)\n              ? (_openBlock(), _createBlock(_unref(Tabbed), {\n                  key: 0,\n                  ref: \"tabs\",\n                  \"side-tabs\": true,\n                  class: \"step__values__content\",\n                  onChanged: _cache[1] || (_cache[1] = ($event: any) => (tabChanged()))\n                }, {\n                  default: _withCtx(() => [\n                    (valuesComponent.value)\n                      ? (_openBlock(), _createBlock(_resolveDynamicComponent(valuesComponent.value), {\n                          key: 0,\n                          value: _ctx.chartValues,\n                          mode: _ctx.mode,\n                          \"custom-policy\": _ctx.customPolicy,\n                          \"error-fetching-policy\": _ctx.errorFetchingPolicy\n                        }, null, 8, [\"value\", \"mode\", \"custom-policy\", \"error-fetching-policy\"]))\n                      : _createCommentVNode(\"\", true)\n                  ]),\n                  _: 1\n                }, 512))\n              : ((isCreate.value || isEdit.value) && !showForm.value)\n                ? (_openBlock(), _createBlock(_unref(YamlEditor), {\n                    key: 1,\n                    ref: \"yaml\",\n                    value: currentYamlValues.value,\n                    \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => ((currentYamlValues).value = $event)),\n                    \"data-testid\": \"kw-policy-config-yaml-editor\",\n                    class: \"step__values__content\",\n                    scrolling: true,\n                    \"initial-yaml-values\": originalYamlValues.value,\n                    \"editor-mode\": editorMode.value,\n                    \"hide-preview-buttons\": true,\n                    onOnChanges: updateYamlValues\n                  }, null, 8, [\"value\", \"initial-yaml-values\", \"editor-mode\"]))\n                : _createCommentVNode(\"\", true),\n            _createVNode(_unref(ResourceCancelModal), {\n              ref: \"cancelModal\",\n              \"data-testid\": \"kw-policy-config-yaml-cancel\",\n              \"is-cancel-modal\": false,\n              \"is-form\": true,\n              onCancelCancel: _cache[3] || (_cache[3] = ($event: any) => (preYamlOption.value = yamlOption.value)),\n              onConfirmCancel: _cache[4] || (_cache[4] = ($event: any) => (yamlOption.value = preYamlOption.value))\n            }, null, 512)\n          ])\n        ])\n      ]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport {\n  ref,\n  onMounted,\n  watch,\n  computed,\n  markRaw\n} from 'vue';\nimport { useStore } from 'vuex';\nimport { defineAsyncComponent, toRaw } from 'vue';\n\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport { SCHEMA } from '@shell/config/types';\nimport { createYaml, saferDump } from '@shell/utils/create-yaml';\n\nimport ButtonGroup from '@shell/components/ButtonGroup';\nimport Loading from '@shell/components/Loading';\nimport ResourceCancelModal from '@shell/components/ResourceCancelModal';\nimport Tabbed from '@shell/components/Tabbed';\nimport YamlEditor, { EDITOR_MODES } from '@shell/components/YamlEditor';\n\nimport {\n  KUBEWARDEN_CHARTS,\n  VALUES_STATE,\n  YAML_OPTIONS,\n  RANCHER_NS_MATCH_EXPRESSION\n} from '@kubewarden/types';\n\ninterface Props {\n  mode: string;\n  chartValues: Record<string, any>;\n  customPolicy?: boolean;\n  value: Record<string, any>;\n  yamlValues: string;\n  errorFetchingPolicy: boolean;\n}\n\nconst props = defineProps<Props>();\nconst store = useStore();\nconst emit = defineEmits(['editor', 'updateYamlValues']);\n\nconst fetchPending = ref(true);\n\nconst currentYamlValues = ref('');\nconst originalYamlValues = ref('');\nconst showForm = ref(true);\nconst valuesComponent = ref<any>(null);\nconst preYamlOption = ref(VALUES_STATE.FORM);\nconst yamlOption = ref(VALUES_STATE.FORM);\nconst version = ref<any>(null);\n\nconst editorMode = computed(() => EDITOR_MODES.EDIT_CODE);\nconst isCreate = computed(() => props.mode === _CREATE);\nconst isEdit = computed(() => props.mode === _EDIT);\n\nwatch(yamlOption, (neu, old) => {\n  switch (neu) {\n  case VALUES_STATE.FORM:\n    showForm.value = true;\n    emit('editor', neu);\n    break;\n  case VALUES_STATE.YAML:\n    // Switching to YAML view from form\n    if (old === VALUES_STATE.FORM) {\n      currentYamlValues.value = saferDump(props.chartValues.policy);\n      updateYamlValues();\n    }\n\n    showForm.value = false;\n    emit('editor', neu);\n    break;\n  }\n});\n\nfunction generateYaml() {\n  const schemas = store.getters['cluster/all'](SCHEMA);\n\n  const rawPolicy = toRaw(props.chartValues.policy);\n  // Fallback to props.value if there is no policy\n  const cloned = rawPolicy ? structuredClone(rawPolicy) : props.value;\n\n  if (props.yamlValues?.length) {\n    currentYamlValues.value = props.yamlValues;\n  } else {\n    currentYamlValues.value = createYaml(schemas, props.value?.type, cloned);\n  }\n}\n\nfunction loadValuesComponent() {\n  if (props.value?.haveComponent('kubewarden/admission')) {\n    // Dynamic import of the form component\n    const importFn = props.value.importComponent('kubewarden/admission');\n\n    valuesComponent.value = markRaw(defineAsyncComponent(importFn));\n  }\n}\n\nfunction tabChanged() {\n  window.scrollTo(0, 0);\n}\n\nfunction updateYamlValues() {\n  emit('updateYamlValues', currentYamlValues.value);\n}\n\nonMounted(async() => {\n  // Attempt to fetch chart version info\n  try {\n    version.value = store.getters['catalog/version']({\n      repoType:  'cluster',\n      repoName:  'kubewarden',\n      chartName: KUBEWARDEN_CHARTS.CONTROLLER\n    });\n    loadValuesComponent();\n  } catch (e) {\n    console.warn(`Unable to fetch Version: ${ e }`);\n  }\n\n  generateYaml();\n\n  // If creating a ClusterAdmissionPolicy, ensure default matchExpressions\n  if (props.mode === _CREATE && props.chartValues?.policy?.kind === 'ClusterAdmissionPolicy') {\n    if (!props.chartValues?.policy?.spec?.namespaceSelector) {\n      props.chartValues.policy.spec.namespaceSelector = {};\n    }\n    props.chartValues.policy.spec.namespaceSelector.matchExpressions = [\n      RANCHER_NS_MATCH_EXPRESSION\n    ];\n  }\n\n  fetchPending.value = false;\n});\n</script>\n\n<template>\n  <Loading v-if=\"fetchPending\" mode=\"relative\" />\n  <div v-else>\n    <div v-if=\"isCreate || isEdit\" class=\"step__values__controls\">\n      <ButtonGroup\n        v-model:value=\"yamlOption\"\n        data-testid=\"kw-policy-config-yaml-option\"\n        :options=\"YAML_OPTIONS\"\n        inactive-class=\"bg-disabled btn-sm\"\n        active-class=\"bg-primary btn-sm\"\n      />\n    </div>\n\n    <div class=\"scroll__container\">\n      <div class=\"scroll__content\">\n        <!-- Show the form-based component if showForm is true -->\n        <template v-if=\"showForm\">\n          <Tabbed\n            ref=\"tabs\"\n            :side-tabs=\"true\"\n            class=\"step__values__content\"\n            @changed=\"tabChanged()\"\n          >\n            <template v-if=\"valuesComponent\">\n              <component\n                :is=\"valuesComponent\"\n                :value=\"chartValues\"\n                :mode=\"mode\"\n                :custom-policy=\"customPolicy\"\n                :error-fetching-policy=\"errorFetchingPolicy\"\n              />\n            </template>\n          </Tabbed>\n        </template>\n\n        <!-- Otherwise, show the YAML editor -->\n        <template v-else-if=\"(isCreate || isEdit) && !showForm\">\n          <YamlEditor\n            ref=\"yaml\"\n            v-model:value=\"currentYamlValues\"\n            data-testid=\"kw-policy-config-yaml-editor\"\n            class=\"step__values__content\"\n            :scrolling=\"true\"\n            :initial-yaml-values=\"originalYamlValues\"\n            :editor-mode=\"editorMode\"\n            :hide-preview-buttons=\"true\"\n            @onChanges=\"updateYamlValues\"\n          />\n        </template>\n\n        <ResourceCancelModal\n          ref=\"cancelModal\"\n          data-testid=\"kw-policy-config-yaml-cancel\"\n          :is-cancel-modal=\"false\"\n          :is-form=\"true\"\n          @cancel-cancel=\"preYamlOption = yamlOption\"\n          @confirm-cancel=\"yamlOption = preYamlOption\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n$padding: 5px;\n\n.step {\n  &__values {\n    &__controls {\n      display: flex;\n      margin-bottom: 15px;\n\n      & > *:not(:last-of-type) {\n        margin-right: $padding * 2;\n      }\n\n      &--spacer {\n        flex: 1;\n      }\n    }\n\n    &__content {\n      flex: 1;\n\n      :deep(.tab-container) {\n        overflow: auto;\n      }\n    }\n  }\n}\n</style>\n","import script from \"./Values.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Values.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Values.vue?vue&type=style&index=0&id=7bf0db83&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7bf0db83\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-5f854ef2] .btn-sm{padding:0 7px 0 0}.policy-info-panel[data-v-5f854ef2]{position:fixed;top:0;left:0;z-index:2;overflow-y:auto;--banner-top-offset:0}.policy-info-panel .glass[data-v-5f854ef2]{left:0;width:100%;opacity:0}.policy-info-panel .glass[data-v-5f854ef2],.policy-info-panel .slideIn[data-v-5f854ef2]{position:fixed;top:calc(54px + var(--banner-top-offset));height:calc(100% - 54px - var(--banner-top-offset));overflow-y:auto}.policy-info-panel .slideIn[data-v-5f854ef2]{border-left:var(--header-border-size) solid var(--header-border);right:-45%;background-color:var(--topmenu-bg);width:45%;display:flex;flex-direction:column;box-shadow:-3px 0 5px rgba(0,0,0,.1);padding:10px;transition:right .5s ease}.policy-info-panel .slideIn__header[data-v-5f854ef2]{text-transform:inherit}.policy-info-panel .slideIn .policy-info-content[data-v-5f854ef2]{display:flex;flex-direction:column;overflow-y:auto}.policy-info-panel .slideIn h3[data-v-5f854ef2]{font-size:14px;margin:0;opacity:.7;text-transform:uppercase}.policy-info-panel .slideIn .policy-header[data-v-5f854ef2]{border-bottom:1px solid var(--border);display:flex;align-items:center}.policy-info-panel .slideIn .policy-header .policy-title[data-v-5f854ef2]{flex:1}.policy-info-panel .slideIn__header[data-v-5f854ef2]{display:flex;align-items:center;justify-content:space-between}.policy-info-panel .slideIn__header__buttons[data-v-5f854ef2]{display:flex;align-items:center}.policy-info-panel .slideIn__header__button[data-v-5f854ef2]{cursor:pointer;display:flex;align-items:center;justify-content:center}.policy-info-panel .slideIn__header__button>i[data-v-5f854ef2]{font-size:20px;opacity:.5}.policy-info-panel .slideIn__header__button[data-v-5f854ef2]:hover{background-color:var(--wm-closer-hover-bg)}.policy-info-panel .slideIn__show[data-v-5f854ef2]{right:0}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./PolicyReadmePanel.vue?vue&type=style&index=0&id=5f854ef2&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5a319f52\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","<script>\nimport jsyaml from 'js-yaml';\nimport { _CREATE, _EDIT, _CLONE } from '@shell/config/query-params';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n\nimport CruResource from '@shell/components/CruResource';\nimport { removeEmptyAttrs } from '@kubewarden/utils/object';\nimport { handleGrowl } from '@kubewarden/utils/handle-growl';\n\nimport Config from '@kubewarden/components/Policies/Config';\nimport Create from '@kubewarden/components/Policies/Create';\n\nexport default {\n  name: 'AdmissionPolicy',\n\n  props: {\n    value: {\n      type:     Object,\n      required: true\n    },\n\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    realMode: {\n      type:    String,\n      default: _EDIT\n    }\n  },\n\n  components: {\n    CruResource,\n    Config,\n    Create\n  },\n\n  mixins: [CreateEditView],\n\n  provide() {\n    return {\n      chartType: this.value.type,\n      realMode:  this.realMode\n    };\n  },\n\n  computed: {\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n\n    isClone() {\n      return this.realMode === _CLONE;\n    },\n\n    schema() {\n      return this.$store.getters['cluster/schemaFor'](this.value.type);\n    }\n  },\n\n  methods: {\n    async finish(event) {\n      try {\n        removeEmptyAttrs(this.value);\n\n        // remove metadata that identifies a CAP as a default policy, so that we can edit it later on the UI\n        // https://github.com/rancher/kubewarden-ui/issues/682\n        if (\n          this.isClone &&\n          this.value.isKubewardenDefaultPolicy &&\n          this.value?.metadata?.labels?.['app.kubernetes.io/name'] === 'kubewarden-defaults'\n        ) {\n          delete this.value?.metadata?.labels?.['app.kubernetes.io/name'];\n        }\n\n        await this.save(event, (this.schema?.linkFor('collection') || ''));\n      } catch (e) {\n        handleGrowl({\n          error: e,\n          store: this.$store\n        });\n      }\n    },\n\n    // this updates the \"value\" obj for CAP's\n    // with the updated values that came from the \"edit YAML\" scenario\n    updateYamlValuesFromEdit(val) {\n      const parsed = jsyaml.load(val);\n\n      removeEmptyAttrs(parsed);\n      Object.assign(this.value, parsed);\n    }\n  }\n};\n</script>\n\n<template>\n  <Create v-if=\"isCreate\" :value=\"value\" :mode=\"mode\" />\n  <CruResource\n    v-else\n    :errors=\"errors\"\n    :resource=\"value\"\n    :mode=\"realMode\"\n    :can-yaml=\"false\"\n    @finish=\"finish\"\n  >\n    <Config\n      :value=\"value\"\n      :mode=\"realMode\"\n      @updateYamlValues=\"updateYamlValuesFromEdit\"\n    />\n  </CruResource>\n</template>\n\n<style lang=\"scss\" scoped>\n:deep(.cru__footer) {\n  z-index: 1;\n}\n</style>\n","import { render } from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=template&id=788fd4b0&scoped=true\"\nimport script from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js\"\nexport * from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js\"\n\nimport \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=style&index=0&id=788fd4b0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-788fd4b0\"]])\n\nexport default __exports__","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=style&index=0&id=6e954f10&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"803a93b0\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = {\n  class: \"policy-info-panel\",\n  style: `--banner-top-offset: 0px`\n}\nconst _hoisted_2 = { class: \"slideIn__header\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"policy-info-content\"\n}\nconst _hoisted_4 = { class: \"policy-header pb-10\" }\nconst _hoisted_5 = { class: \"slideIn__header__buttons\" }\nconst _hoisted_6 = { class: \"policy-title mt-20\" }\nconst _hoisted_7 = { class: \"policy-info-title\" }\n\nimport { computed, ref } from 'vue';\nimport { useStore } from 'vuex';\n\nimport ChartReadme from '@shell/components/ChartReadme';\n\nimport { KUBEWARDEN_POLICY_ANNOTATIONS, LEGACY_POLICY_ANNOTATIONS, PolicyDetail } from '@kubewarden/types';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'PolicyReadmePanel',\n  props: {\n    policyChartDetails: {}\n  },\n  setup(__props: any, { expose: __expose }) {\n\nconst props = __props;\n\nconst store = useStore();\nconst showSlideIn = ref(false);\nconst t = store.getters['i18n/t'];\n\nconst displayName = computed<string>(() => {\n  const { annotations } = props.policyChartDetails.chart;\n  let name = props.policyChartDetails.chart.name;\n\n  if (annotations) {\n    name =\n      annotations[KUBEWARDEN_POLICY_ANNOTATIONS.DISPLAY_NAME] ??\n      annotations[LEGACY_POLICY_ANNOTATIONS.DISPLAY_NAME] ??\n      name;\n  }\n\n  return name;\n});\n\nconst show = () => {\n  showSlideIn.value = true;\n};\n\nconst hide = () => {\n  showSlideIn.value = false;\n};\n\n__expose({\n  show,\n  hide,\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (showSlideIn.value)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          class: \"glass\",\n          \"data-testid\": \"extension-details-bg\",\n          onClick: hide\n        }))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"slideIn\", {'hide': false, 'slideIn__show': showSlideIn.value}]),\n      \"data-testid\": \"extension-details\"\n    }, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        (props.policyChartDetails)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n              _createElementVNode(\"div\", _hoisted_4, [\n                _createElementVNode(\"div\", _hoisted_5, [\n                  _createElementVNode(\"button\", {\n                    class: \"btn btn-sm role-link\",\n                    onClick: hide\n                  }, [\n                    _createElementVNode(\"span\", null, _toDisplayString(_unref(t)('generic.close')), 1),\n                    _cache[0] || (_cache[0] = _createElementVNode(\"i\", { class: \"icon icon-chevron-right\" }, null, -1))\n                  ])\n                ])\n              ]),\n              _createElementVNode(\"div\", _hoisted_6, [\n                _createElementVNode(\"h2\", _hoisted_7, _toDisplayString(displayName.value), 1)\n              ]),\n              _createVNode(_unref(ChartReadme), {\n                class: \"mt-20\",\n                \"version-info\": _ctx.policyChartDetails\n              }, null, 8, [\"version-info\"])\n            ]))\n          : _createCommentVNode(\"\", true)\n      ])\n    ], 2)\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { computed, ref } from 'vue';\nimport { useStore } from 'vuex';\n\nimport ChartReadme from '@shell/components/ChartReadme';\n\nimport { KUBEWARDEN_POLICY_ANNOTATIONS, LEGACY_POLICY_ANNOTATIONS, PolicyDetail } from '@kubewarden/types';\n\nconst props = defineProps<{ policyChartDetails: PolicyDetail }>();\n\nconst store = useStore();\nconst showSlideIn = ref(false);\nconst t = store.getters['i18n/t'];\n\nconst displayName = computed<string>(() => {\n  const { annotations } = props.policyChartDetails.chart;\n  let name = props.policyChartDetails.chart.name;\n\n  if (annotations) {\n    name =\n      annotations[KUBEWARDEN_POLICY_ANNOTATIONS.DISPLAY_NAME] ??\n      annotations[LEGACY_POLICY_ANNOTATIONS.DISPLAY_NAME] ??\n      name;\n  }\n\n  return name;\n});\n\nconst show = () => {\n  showSlideIn.value = true;\n};\n\nconst hide = () => {\n  showSlideIn.value = false;\n};\n\ndefineExpose({\n  show,\n  hide,\n});\n</script>\n\n<template>\n  <div\n    class=\"policy-info-panel\"\n    :style=\"`--banner-top-offset: 0px`\"\n  >\n    <div\n      v-if=\"showSlideIn\"\n      class=\"glass\"\n      data-testid=\"extension-details-bg\"\n      @click=\"hide\"\n    />\n    <div\n      class=\"slideIn\"\n      data-testid=\"extension-details\"\n      :class=\"{'hide': false, 'slideIn__show': showSlideIn}\"\n    >\n      <div class=\"slideIn__header\">\n        <div\n          v-if=\"props.policyChartDetails\"\n          class=\"policy-info-content\"\n        >\n          <div class=\"policy-header pb-10\">\n            <div class=\"slideIn__header__buttons\">\n              <button class=\"btn btn-sm role-link\" @click=\"hide\">\n                <span>{{ t('generic.close') }}</span>\n                <i class=\"icon icon-chevron-right\" />\n              </button>\n            </div>\n          </div>\n\n          <div class=\"policy-title mt-20\">\n            <h2 class=\"policy-info-title\">\n              {{ displayName }}\n            </h2>\n          </div>\n\n          <ChartReadme class=\"mt-20\" :version-info=\"policyChartDetails\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n:deep(.btn-sm) {\n  padding: 0 7px 0 0;\n}\n\n.policy-info-panel {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2;\n  overflow-y: auto;\n\n  $slideout-width: 35%;\n  $title-height: 50px;\n  $padding: 5px;\n  $slideout-width: 45%;\n  --banner-top-offset: 0;\n  $header-height: calc(54px + var(--banner-top-offset));\n\n  .glass {\n    position: fixed;\n    top: $header-height;\n    height: calc(100% - $header-height);\n    left: 0;\n    width: 100%;\n    opacity: 0;\n    overflow-y: auto;\n  }\n\n  .slideIn {\n    border-left: var(--header-border-size) solid var(--header-border);\n    position: fixed;\n    top: $header-height;\n    right: -$slideout-width;\n    height: calc(100% - $header-height);\n    background-color: var(--topmenu-bg);\n    width: $slideout-width;\n    display: flex;\n    flex-direction: column;\n    overflow-y: auto;\n    box-shadow: -3px 0 5px rgba(0, 0, 0, 0.1);\n\n    padding: 10px;\n\n    transition: right .5s ease;\n\n    &__header {\n      text-transform: inherit;\n    }\n\n    .policy-info-content {\n      display: flex;\n      flex-direction: column;\n      overflow-y: auto;\n    }\n\n    h3 {\n      font-size: 14px;\n      margin: 0;\n      opacity: 0.7;\n      text-transform: uppercase;\n    }\n\n    .policy-header {\n      border-bottom: 1px solid var(--border);\n      display: flex;\n      align-items: center;\n\n      .policy-title {\n        flex: 1;\n      }\n    }\n\n    &__header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n\n      &__buttons {\n        display: flex;\n        align-items: center;\n      }\n\n      &__button {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n\n        > i {\n          font-size: 20px;\n          opacity: 0.5;\n        }\n\n        &:hover {\n          background-color: var(--wm-closer-hover-bg);\n        }\n      }\n    }\n\n    &__show {\n      right: 0;\n    }\n  }\n}\n</style>\n","import script from \"./PolicyReadmePanel.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PolicyReadmePanel.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PolicyReadmePanel.vue?vue&type=style&index=0&id=5f854ef2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5f854ef2\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-6e954f10] .cru__footer{z-index:1}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".policy-table-container[data-v-2ce15ea6]{display:flex;flex-direction:column;gap:1rem;padding:1rem}.policy-table-actions[data-v-2ce15ea6]{display:flex;justify-content:space-between;align-items:center}.filter[data-v-2ce15ea6]{width:100%;display:grid;grid-template-rows:1fr;grid-template-columns:repeat(2,1fr) .25fr;grid-template-areas:\\\"attributes search reset\\\";gap:1rem}.filter[data-v-2ce15ea6]>*{margin:.5rem 0}.filter__attributes[data-v-2ce15ea6]{grid-area:attributes}.filter__search[data-v-2ce15ea6]{grid-area:search}.filter__reset[data-v-2ce15ea6]{grid-area:reset}.filter__reset p[data-v-2ce15ea6]{line-height:1.5;white-space:wrap}[data-v-2ce15ea6] tr:hover{cursor:pointer}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, unref as _unref, createElementBlock as _createElementBlock, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { key: 1 }\nconst _hoisted_2 = { class: \"content\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"banner__title\"\n}\nconst _hoisted_4 = { class: \"banner__short-description\" }\n\nimport { onBeforeMount, onMounted, ref, toRaw } from 'vue';\nimport { useStore } from 'vuex';\n\nimport { CATALOG, MANAGEMENT } from '@shell/config/types';\nimport { saferDump } from '@shell/utils/create-yaml';\nimport { set } from '@shell/utils/object';\n\nimport Loading from '@shell/components/Loading.vue';\n\nimport {\n  Chart, Version, VersionInfo, KUBEWARDEN_ANNOTATIONS, KUBEWARDEN_CATALOG_ANNOTATIONS\n} from '@kubewarden/types';\n\nimport PolicyReadmePanel from './PolicyReadmePanel.vue';\nimport Values from './Values.vue';\n\ninterface Props {\n  mode: string;\n  value: Record<string, any>;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'Config',\n  props: {\n    mode: {},\n    value: {}\n  },\n  emits: ['updateYamlValues'],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\nconst emit = __emit;\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst selectedPolicyDetails = ref<any>(null);\nconst chartValues = ref<any>(null);\nconst yamlValues = ref('');\nconst shortDescription = ref('');\nconst policyReadme = ref<any>(null);\n\nconst fetchPending = ref(true);\nconst errorFetchingPolicy = ref(false);\n\nconst systemDefaultRegistry = store.getters['management/byId'](MANAGEMENT.SETTING, 'system-default-registry');\n\nasync function loadFromAnnotations(chartKey: string, chartName: string, chartVersion: string) {\n  if (!chartKey && (!chartName || !chartVersion)) {\n    console.warn('No chart details found in annotations');\n\n    return;\n  }\n\n  let chart: any | null = null;\n  let version: any = null;\n\n  if (chartKey) {\n    chart = toRaw(store.getters['catalog/chart']({ key: chartKey }));\n  }\n\n  if (chart) {\n    version = chart?.versions?.find((v: any) => v.version === chartVersion);\n  } else {\n    // Fallback: find chart by filtering\n    const charts = store.getters['catalog/charts'] as Chart[];\n\n    chart = charts.find((c) => c.chartType === 'kubewarden-policy' && c.chartName === chartName);\n    version = chart?.versions?.find((v: Version) => v.version === chartVersion);\n  }\n\n  if (version) {\n    try {\n      const versionInfo = await store.dispatch('catalog/getVersionInfo', {\n        repoType:    version.repoType,\n        repoName:    version.repoName,\n        chartName,\n        versionName: version.version\n      });\n\n      processChartDetails(toRaw(versionInfo));\n    } catch (e) {\n      console.warn('Failed to load chart version:', e);\n\n      errorFetchingPolicy.value = true;\n    }\n  }\n}\n\nasync function loadFromModule() {\n  const module = props.value.spec?.module;\n\n  if (!module) {\n    return;\n  }\n\n  const [repo, tag] = module.split(':');\n  const charts: Chart[] = store.getters['catalog/charts'].filter((c: Chart) => c.chartType === 'kubewarden-policy');\n\n  let matchingChart = null;\n  let matchingVersion = null;\n\n  chartLoop:\n  for (const chart of charts) {\n    if (!chart?.versions?.length) {\n      continue;\n    }\n\n    for (const version of chart.versions) {\n      const annos = version.annotations || {};\n      const registryFromAnnotations = annos[KUBEWARDEN_CATALOG_ANNOTATIONS.REGISTRY] || systemDefaultRegistry?.value;\n      const repositoryFromAnnotations = annos[KUBEWARDEN_CATALOG_ANNOTATIONS.REPOSITORY];\n      const tagFromAnnotations = annos[KUBEWARDEN_CATALOG_ANNOTATIONS.TAG];\n\n      const assembledRepo = `${ registryFromAnnotations }/${ repositoryFromAnnotations }`;\n\n      if (assembledRepo === repo && tagFromAnnotations === tag) {\n        matchingChart = chart;\n        matchingVersion = version;\n\n        break chartLoop;\n      }\n    }\n  }\n\n  if (matchingChart && matchingVersion) {\n    try {\n      const versionInfo: VersionInfo = await store.dispatch('catalog/getVersionInfo', {\n        repoType:    matchingVersion.repoType,\n        repoName:    matchingVersion.repoName,\n        chartName:   matchingChart.chartName,\n        versionName: matchingVersion.version\n      });\n\n      processChartDetails(toRaw(versionInfo));\n    } catch (e) {\n      console.warn('Failed to fetch version info:', e);\n      errorFetchingPolicy.value = true;\n    }\n  }\n}\n\nfunction processChartDetails(versionInfo: VersionInfo) {\n  selectedPolicyDetails.value = versionInfo;\n  shortDescription.value = versionInfo?.chart?.description || '';\n  policyReadme.value = versionInfo?.readme;\n\n  if (versionInfo.questions) {\n    set(chartValues.value, 'questions', versionInfo.questions);\n  }\n}\n\nconst readmePanel = ref<InstanceType<typeof PolicyReadmePanel> | null>(null);\n\nfunction showReadme() {\n  readmePanel.value?.show();\n}\n\nonBeforeMount(async() => {\n  const isReposLoaded = store.getters['catalog/repos']?.length > 0;\n\n  if (!isReposLoaded && store.getters['cluster/canList'](CATALOG.CLUSTER_REPO)) {\n    await store.dispatch('cluster/findAll', { type: CATALOG.CLUSTER_REPO });\n  }\n\n  const isChartsLoaded = store.getters['catalog/charts']?.length > 0;\n\n  if (!isChartsLoaded) {\n    await store.dispatch('catalog/refresh');\n  }\n});\n\nonMounted(async() => {\n  chartValues.value = {\n    policy:    props.value,\n    questions: null\n  };\n\n  // Try annotations first\n  const chartKey     = props.value?.metadata?.annotations?.[KUBEWARDEN_ANNOTATIONS.CHART_KEY];\n  const chartName    = props.value?.metadata?.annotations?.[KUBEWARDEN_ANNOTATIONS.CHART_NAME];\n  const chartVersion = props.value?.metadata?.annotations?.[KUBEWARDEN_ANNOTATIONS.CHART_VERSION];\n\n  if (chartKey || (chartName && chartVersion)) {\n    await loadFromAnnotations(chartKey, chartName, chartVersion);\n  } else {\n    await loadFromModule();\n  }\n\n  yamlValues.value = saferDump(props.value);\n\n  fetchPending.value = false;\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (fetchPending.value)\n    ? (_openBlock(), _createBlock(Loading, { key: 0 }))\n    : (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          (shortDescription.value)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n                _createElementVNode(\"p\", _hoisted_4, _toDisplayString(shortDescription.value), 1),\n                (policyReadme.value)\n                  ? (_openBlock(), _createElementBlock(\"button\", {\n                      key: 0,\n                      class: \"btn btn-sm role-link banner__readme-button\",\n                      onClick: showReadme\n                    }, _toDisplayString(_unref(t)('kubewarden.policyConfig.description.showReadme')), 1))\n                  : _createCommentVNode(\"\", true)\n              ]))\n            : _createCommentVNode(\"\", true),\n          _createVNode(Values, {\n            value: props.value,\n            \"chart-values\": chartValues.value,\n            \"yaml-values\": yamlValues.value,\n            mode: props.mode,\n            \"error-fetching-policy\": errorFetchingPolicy.value,\n            onUpdateYamlValues: _cache[0] || (_cache[0] = val => emit('updateYamlValues', val))\n          }, null, 8, [\"value\", \"chart-values\", \"yaml-values\", \"mode\", \"error-fetching-policy\"])\n        ]),\n        (policyReadme.value)\n          ? (_openBlock(), _createBlock(PolicyReadmePanel, {\n              key: 0,\n              ref_key: \"readmePanel\",\n              ref: readmePanel,\n              \"policy-chart-details\": selectedPolicyDetails.value\n            }, null, 8, [\"policy-chart-details\"]))\n          : _createCommentVNode(\"\", true)\n      ]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { onBeforeMount, onMounted, ref, toRaw } from 'vue';\nimport { useStore } from 'vuex';\n\nimport { CATALOG, MANAGEMENT } from '@shell/config/types';\nimport { saferDump } from '@shell/utils/create-yaml';\nimport { set } from '@shell/utils/object';\n\nimport Loading from '@shell/components/Loading.vue';\n\nimport {\n  Chart, Version, VersionInfo, KUBEWARDEN_ANNOTATIONS, KUBEWARDEN_CATALOG_ANNOTATIONS\n} from '@kubewarden/types';\n\nimport PolicyReadmePanel from './PolicyReadmePanel.vue';\nimport Values from './Values.vue';\n\ninterface Props {\n  mode: string;\n  value: Record<string, any>;\n}\n\nconst props = defineProps<Props>();\nconst emit = defineEmits(['updateYamlValues']);\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst selectedPolicyDetails = ref<any>(null);\nconst chartValues = ref<any>(null);\nconst yamlValues = ref('');\nconst shortDescription = ref('');\nconst policyReadme = ref<any>(null);\n\nconst fetchPending = ref(true);\nconst errorFetchingPolicy = ref(false);\n\nconst systemDefaultRegistry = store.getters['management/byId'](MANAGEMENT.SETTING, 'system-default-registry');\n\nasync function loadFromAnnotations(chartKey: string, chartName: string, chartVersion: string) {\n  if (!chartKey && (!chartName || !chartVersion)) {\n    console.warn('No chart details found in annotations');\n\n    return;\n  }\n\n  let chart: any | null = null;\n  let version: any = null;\n\n  if (chartKey) {\n    chart = toRaw(store.getters['catalog/chart']({ key: chartKey }));\n  }\n\n  if (chart) {\n    version = chart?.versions?.find((v: any) => v.version === chartVersion);\n  } else {\n    // Fallback: find chart by filtering\n    const charts = store.getters['catalog/charts'] as Chart[];\n\n    chart = charts.find((c) => c.chartType === 'kubewarden-policy' && c.chartName === chartName);\n    version = chart?.versions?.find((v: Version) => v.version === chartVersion);\n  }\n\n  if (version) {\n    try {\n      const versionInfo = await store.dispatch('catalog/getVersionInfo', {\n        repoType:    version.repoType,\n        repoName:    version.repoName,\n        chartName,\n        versionName: version.version\n      });\n\n      processChartDetails(toRaw(versionInfo));\n    } catch (e) {\n      console.warn('Failed to load chart version:', e);\n\n      errorFetchingPolicy.value = true;\n    }\n  }\n}\n\nasync function loadFromModule() {\n  const module = props.value.spec?.module;\n\n  if (!module) {\n    return;\n  }\n\n  const [repo, tag] = module.split(':');\n  const charts: Chart[] = store.getters['catalog/charts'].filter((c: Chart) => c.chartType === 'kubewarden-policy');\n\n  let matchingChart = null;\n  let matchingVersion = null;\n\n  chartLoop:\n  for (const chart of charts) {\n    if (!chart?.versions?.length) {\n      continue;\n    }\n\n    for (const version of chart.versions) {\n      const annos = version.annotations || {};\n      const registryFromAnnotations = annos[KUBEWARDEN_CATALOG_ANNOTATIONS.REGISTRY] || systemDefaultRegistry?.value;\n      const repositoryFromAnnotations = annos[KUBEWARDEN_CATALOG_ANNOTATIONS.REPOSITORY];\n      const tagFromAnnotations = annos[KUBEWARDEN_CATALOG_ANNOTATIONS.TAG];\n\n      const assembledRepo = `${ registryFromAnnotations }/${ repositoryFromAnnotations }`;\n\n      if (assembledRepo === repo && tagFromAnnotations === tag) {\n        matchingChart = chart;\n        matchingVersion = version;\n\n        break chartLoop;\n      }\n    }\n  }\n\n  if (matchingChart && matchingVersion) {\n    try {\n      const versionInfo: VersionInfo = await store.dispatch('catalog/getVersionInfo', {\n        repoType:    matchingVersion.repoType,\n        repoName:    matchingVersion.repoName,\n        chartName:   matchingChart.chartName,\n        versionName: matchingVersion.version\n      });\n\n      processChartDetails(toRaw(versionInfo));\n    } catch (e) {\n      console.warn('Failed to fetch version info:', e);\n      errorFetchingPolicy.value = true;\n    }\n  }\n}\n\nfunction processChartDetails(versionInfo: VersionInfo) {\n  selectedPolicyDetails.value = versionInfo;\n  shortDescription.value = versionInfo?.chart?.description || '';\n  policyReadme.value = versionInfo?.readme;\n\n  if (versionInfo.questions) {\n    set(chartValues.value, 'questions', versionInfo.questions);\n  }\n}\n\nconst readmePanel = ref<InstanceType<typeof PolicyReadmePanel> | null>(null);\n\nfunction showReadme() {\n  readmePanel.value?.show();\n}\n\nonBeforeMount(async() => {\n  const isReposLoaded = store.getters['catalog/repos']?.length > 0;\n\n  if (!isReposLoaded && store.getters['cluster/canList'](CATALOG.CLUSTER_REPO)) {\n    await store.dispatch('cluster/findAll', { type: CATALOG.CLUSTER_REPO });\n  }\n\n  const isChartsLoaded = store.getters['catalog/charts']?.length > 0;\n\n  if (!isChartsLoaded) {\n    await store.dispatch('catalog/refresh');\n  }\n});\n\nonMounted(async() => {\n  chartValues.value = {\n    policy:    props.value,\n    questions: null\n  };\n\n  // Try annotations first\n  const chartKey     = props.value?.metadata?.annotations?.[KUBEWARDEN_ANNOTATIONS.CHART_KEY];\n  const chartName    = props.value?.metadata?.annotations?.[KUBEWARDEN_ANNOTATIONS.CHART_NAME];\n  const chartVersion = props.value?.metadata?.annotations?.[KUBEWARDEN_ANNOTATIONS.CHART_VERSION];\n\n  if (chartKey || (chartName && chartVersion)) {\n    await loadFromAnnotations(chartKey, chartName, chartVersion);\n  } else {\n    await loadFromModule();\n  }\n\n  yamlValues.value = saferDump(props.value);\n\n  fetchPending.value = false;\n});\n</script>\n\n<template>\n  <Loading v-if=\"fetchPending\" />\n  <div v-else>\n    <div class=\"content\">\n      <div v-if=\"shortDescription\" class=\"banner__title\">\n        <p class=\"banner__short-description\">\n          {{ shortDescription }}\n        </p>\n        <button\n          v-if=\"policyReadme\"\n          class=\"btn btn-sm role-link banner__readme-button\"\n          @click=\"showReadme\"\n        >\n          {{ t('kubewarden.policyConfig.description.showReadme') }}\n        </button>\n      </div>\n\n      <Values\n        :value=\"props.value\"\n        :chart-values=\"chartValues\"\n        :yaml-values=\"yamlValues\"\n        :mode=\"props.mode\"\n        :error-fetching-policy=\"errorFetchingPolicy\"\n        @updateYamlValues=\"val => emit('updateYamlValues', val)\"\n      />\n    </div>\n\n    <template v-if=\"policyReadme\">\n      <PolicyReadmePanel\n        ref=\"readmePanel\"\n        :policy-chart-details=\"selectedPolicyDetails\"\n      />\n    </template>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.content {\n  position: relative;\n  z-index: 1;\n}\n\n.banner {\n  &__title {\n    padding-top: 10px;\n    margin-bottom: 10px;\n    border-bottom: 1px solid var(--border);\n    min-height: 60px;\n  }\n\n  &__readme-button {\n    padding: 0 7px 0 0;\n  }\n}\n</style>\n","import script from \"./Config.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Config.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Config.vue?vue&type=style&index=0&id=4f77d707&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4f77d707\"]])\n\nexport default __exports__"],"names":["___CSS_LOADER_EXPORT___","push","module","id","key","class","_ctx","$fetchState","pending","_createBlock","_component_Loading","mode","_component_CruResource","resource","$props","value","realMode","doneRoute","errors","$options","validationPassed","onFinish","finish","default","_withCtx","_createVNode","_component_Values","$data","chartValues","hasErrors","_createElementBlock","_hoisted_1","_Fragment","_renderList","err","i","_component_Banner","color","closable","onClose","$event","closeError","_createTextVNode","_toDisplayString","_","_createCommentVNode","isCreate","isEdit","_hoisted_2","_component_ButtonGroup","yamlOption","_cache","options","YAML_OPTIONS","_createElementVNode","_hoisted_3","showForm","_component_Tabbed","ref","onChanged","tabChanged","_resolveDynamicComponent","valuesComponent","values","onValidationPassed","handleValidationPassed","_component_YamlEditor","currentYamlValues","scrolling","originalYamlValues","editorMode","onOnChanges","updateYamlValues","_component_ResourceCancelModal","onCancelCancel","preYamlOption","onConfirmCancel","name","props","type","String","_CREATE","Object","required","components","ButtonGroup","Loading","ResourceCancelModal","Tabbed","YamlEditor","created","valuesYaml","this","generateYaml","loadValuesComponent","e","console","error","data","configValues","showQuestions","showValuesComponent","VALUES_STATE","FORM","watch","neu","old","YAML","computed","EDITOR_MODES","EDIT_CODE","_EDIT","methods","schemas","$store","getters","SCHEMA","yaml","createYaml","lines","split","filteredLines","filter","line","includes","modifiedYAML","join","haveComponent","importFn","importComponent","markRaw","defineAsyncComponent","window","scrollTop","isEmpty","parsed","jsyaml","merge","val","$emit","__exports__","Banner","CruResource","Values","mixins","CreateEditView","fetch","schema","KUBEWARDEN","POLICY_SERVER","fetchResourceFields","structuredClone","DEFAULT_POLICY_SERVER","length","Array","isArray","metadata","index","event","securityContexts","spec","forEach","seccompProfile","keys","save","render","content","__esModule","locals","exports","add","isLoading","hideOfficialRepoBanner","closeBanner","t","_component_AsyncButton","onClick","addRepository","hideRepoBanner","hideAirgapBanner","label","_component_Wizard","steps","onNext","reset","onCancel","done","policies","_component_PolicyTable","charts","latestPolicyChartsVersion","onSelectPolicy","selectPolicy","bannerTitle","customPolicy","_hoisted_4","shortDescription","selectedPolicyDetails","readme","selectPolicyDetails","appreadme","errorFetchingPolicy","args","showReadme","_hoisted_5","yamlValues","onEditor","onUpdateYamlValues","disabled","canFinish","_component_PolicyReadmePanel","trimTrailingSlash","inputString","replace","resourcesFromAnnotation","policyChart","out","resources","flatMap","annotation","annotations","KUBEWARDEN_POLICY_ANNOTATIONS","RESOURCES","LEGACY_POLICY_ANNOTATIONS","s","trim","sort","Set","Boolean","isGlobalPolicy","targetsNonNamespaced","some","attributes","kind","namespaced","undefined","_defineComponent","__name","rows","headers","tableActions","rowActions","keyField","defaultSortBy","paging","search","useQueryParamsForSimpleFiltering","emits","setup","__props","emit","__emit","sortableTable","listeners","addRowClickListener","nextTick","table","$el","querySelector","removeRowClickListener","querySelectorAll","row","listener","rowsProp","indexFrom","addEventListener","removeEventListener","onMounted","onBeforeUnmount","_openBlock","_unref","SortableTable","ref_key","chartType","inject","store","useStore","route","useRoute","category","query","CATEGORY","searchQuery","SEARCH_QUERY","showKubewardenOfficial","allSchemas","showPreRelease","SHOW_PRE_RELEASE","computedAttributes","get","set","newVal","allLabel","cleaned","x","filteredCharts","chart","isPreRelease","isPrerelease","ADMISSION_POLICY","filteredPolicies","showPre","showOfficial","searchTokens","map","ensureRegex","isPre","official","displayName","coalescedDisplayName","keywords","coalescedKeywords","desc","description","matchesSearch","every","token","match","k","matchesAttributes","attribute","isFeature","featureOptions","isMutation","isContextAware","coalescedResources","a","b","localeCompare","attributeOptionsComputed","resourceOptions","unshift","featuresList","policy","semver","version","refresh","getAnnotation","fromAnnotation","arrayFromAnnotation","MUTATION","CONTEXT_AWARE_RESOURCES","LabeledSelect","clearable","taggable","multiple","LabeledInput","placeholder","Checkbox","SortableTableWrapper","POLICY_TABLE_HEADERS","onSelectRow","AsyncButton","Wizard","PolicyTable","PolicyReadmePanel","isReposLoaded","CATALOG","CLUSTER_REPO","dispatch","isChartsLoaded","apiVersion","group","OFFICIAL_REPOS","KUBEWARDEN_REPOS","POLICY_CATALOG","POLICY_CATALOG_REPO","POLICY_CATALOG_REPO_GIT","loadingPackages","packages","repository","selectedPolicyChart","typeModule","questions","hasCustomPolicy","finishAttempts","stepPolicies","hidden","ready","showSteps","weight","stepValues","mapGetters","repos","isAirgap","isSelected","hasRequired","systemDefaultRegistry","MANAGEMENT","SETTING","rules","settings","requiredRules","acceptedRules","acceptedValues","acceptedName","requiredQuestions","q","variable","acceptedQuestions","officialKubewardenRepo","policiesCharts","versions","chartRepo","repoType","repoName","repoUrl","url","reposByName","reduce","acc","repo","reposByUrl","rawRepoUrl","gitRepo","btnCb","repoObj","handleGrowl","requiredProp","requiredKeys","accepted","find","prop","checkProperties","isEqual","banner","retry","res","status","close","createNamespace","ns","allNamespaces","NAMESPACE","nsTemplate","disableOpenApiValidation","existing","n","nsResource","$router","params","cluster","$route","product","KUBEWARDEN_PRODUCT_NAME","removeEmptyAttrs","$delete","isNamespaceNew","namespace","attemptSave","Error","parseObj","obj","JSON","parse","stringify","policyQuestions","defaultPolicy","DEFAULT_POLICY","updatedCustomPolicy","contextAwareResources","finalPolicy","saferDump","KUBEWARDEN_ANNOTATIONS","CHART_KEY","CHART_NAME","CHART_VERSION","chartName","versionName","policyAnnotations","toRaw","registry","KUBEWARDEN_CATALOG_ANNOTATIONS","REGISTRY","policyModule","REPOSITORY","TAG","updatedPolicy","mutating","RULES","CLUSTER_ADMISSION_POLICY","assign","warn","message","$nextTick","step","initialState","path","hash","$refs","wizard","next","DISPLAY_NAME","readmePanel","show","isObject","_component_Create","_component_Config","updateYamlValuesFromEdit","Config","Create","provide","isClone","_CLONE","isKubewardenDefaultPolicy","labels","linkFor","prototype","hasOwnProperty","call","fetchPending","rawPolicy","cloned","scrollTo","async","KUBEWARDEN_CHARTS","CONTROLLER","namespaceSelector","matchExpressions","RANCHER_NS_MATCH_EXPRESSION","style","_hoisted_6","_hoisted_7","policyChartDetails","expose","__expose","showSlideIn","hide","_normalizeClass","ChartReadme","policyReadme","loadFromAnnotations","chartKey","chartVersion","v","c","versionInfo","processChartDetails","loadFromModule","tag","matchingChart","matchingVersion","chartLoop","annos","registryFromAnnotations","repositoryFromAnnotations","tagFromAnnotations","assembledRepo","onBeforeMount"],"sourceRoot":""}