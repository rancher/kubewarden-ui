{"version":3,"file":"kubewarden-4.0.0.umd.min.detail.js","mappings":"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","sources":["webpack://kubewarden-4.0.0/./assets/ lazy ^\\.\\/.*\\.json$ chunkName: policyDashboard namespace object","webpack://kubewarden-4.0.0/./detail/policies.kubewarden.io.clusteradmissionpolicy.vue","webpack://kubewarden-4.0.0/./detail/policies.kubewarden.io.clusteradmissionpolicy.vue?6ad6","webpack://kubewarden-4.0.0/./detail/policies.kubewarden.io.policyserver.vue?74c5","webpack://kubewarden-4.0.0/./detail/policies.kubewarden.io.policyserver.vue","webpack://kubewarden-4.0.0/./detail/policies.kubewarden.io.policyserver.vue?8e86","webpack://kubewarden-4.0.0/./detail/policies.kubewarden.io.admissionpolicy.vue","webpack://kubewarden-4.0.0/./detail/policies.kubewarden.io.admissionpolicy.vue?483c","webpack://kubewarden-4.0.0/./components/MetricsTab.vue","webpack://kubewarden-4.0.0/./modules/grafana.ts","webpack://kubewarden-4.0.0/./modules/metricsConfig.ts","webpack://kubewarden-4.0.0/./components/MetricsChecklist.vue","webpack://kubewarden-4.0.0/./components/MetricsChecklist.vue?f4a7","webpack://kubewarden-4.0.0/./components/MetricsTab.vue?8408","webpack://kubewarden-4.0.0/./utils/service.ts","webpack://kubewarden-4.0.0/./modules/jaegerTracing.ts","webpack://kubewarden-4.0.0/./components/TraceChecklist.vue?7eb5","webpack://kubewarden-4.0.0/./components/MetricsChecklist.vue?7250","webpack://kubewarden-4.0.0/./detail/policies.kubewarden.io.policyserver.vue?325f","webpack://kubewarden-4.0.0/./components/MetricsChecklist.vue?0838","webpack://kubewarden-4.0.0/./components/TraceTable.vue","webpack://kubewarden-4.0.0/./utils/duration-format.ts","webpack://kubewarden-4.0.0/./components/TraceChecklist.vue","webpack://kubewarden-4.0.0/./components/TraceChecklist.vue?29ce","webpack://kubewarden-4.0.0/./components/TraceTable.vue?a3c0","webpack://kubewarden-4.0.0/./components/Policies/PolicyDetail.vue","webpack://kubewarden-4.0.0/./components/RulesTable.vue","webpack://kubewarden-4.0.0/./components/RulesTable.vue?2417","webpack://kubewarden-4.0.0/./components/Policies/PolicyDetail.vue?9b92","webpack://kubewarden-4.0.0/./components/TraceChecklist.vue?adee"],"sourcesContent":["var map = {\n\t\"./kubewarden-dashboard-policy.json\": [\n\t\t18938,\n\t\t521\n\t],\n\t\"./kubewarden-dashboard-policyserver.json\": [\n\t\t65682,\n\t\t712\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3 | 16);\n\t});\n}\nwebpackAsyncContext.keys = function() { return Object.keys(map); };\nwebpackAsyncContext.id = 9551;\nmodule.exports = webpackAsyncContext;","<script>\nimport { _CREATE } from '@shell/config/query-params';\n\nimport { KUBEWARDEN } from '@kubewarden/types';\n\nimport PolicyDetail from '@kubewarden/components/Policies/PolicyDetail';\n\nexport default {\n  name: 'ClusterAdmissionPolicy',\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE,\n    },\n    value: {\n      type:     Object,\n      required: true,\n    },\n  },\n\n  components: { PolicyDetail },\n\n  data() {\n    return { resource: KUBEWARDEN.ADMISSION_POLICY };\n  }\n};\n</script>\n\n<template>\n  <PolicyDetail :value=\"value\" :mode=\"mode\" :resource=\"resource\" />\n</template>\n","import { render } from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=template&id=ac95b14a\"\nimport script from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js\"\nexport * from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".relative[data-v-71bb3388]{position:relative}.policy__mode[data-v-71bb3388]{display:flex;align-items:center}.policy__mode i[data-v-71bb3388]{margin-left:5px;font-size:22px;color:var(--warning)}.gauges[data-v-71bb3388],.gaugesContainer[data-v-71bb3388]{display:flex}.gauges[data-v-71bb3388]{justify-content:space-around;flex-wrap:wrap;justify-content:left}.gauges .count-gauge[data-v-71bb3388]{width:46%;margin-bottom:10px;flex:initial}.gauges[data-v-71bb3388]>*{flex:1;margin-right:1.75%}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<script>\nimport { mapGetters } from 'vuex';\nimport isEmpty from 'lodash/isEmpty';\n\nimport { _CREATE } from '@shell/config/query-params';\nimport { allHash } from '@shell/utils/promise';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { mapPref, GROUP_RESOURCES } from '@shell/store/prefs';\n\nimport { BadgeState } from '@components/BadgeState';\nimport CountGauge from '@shell/components/CountGauge';\nimport Loading from '@shell/components/Loading';\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\nimport ResourceTable from '@shell/components/ResourceTable';\nimport Tab from '@shell/components/Tabbed/Tab';\n\nimport { RELATED_HEADERS } from '@kubewarden/config/table-headers';\nimport { KUBEWARDEN } from '@kubewarden/types';\n\nimport MetricsTab from '@kubewarden/components/MetricsTab';\nimport TraceTable from '@kubewarden/components/TraceTable';\n\nexport default {\n  name: 'PolicyServer',\n\n  components: {\n    BadgeState,\n    CountGauge,\n    Loading,\n    MetricsTab,\n    ResourceTabs,\n    ResourceTable,\n    Tab,\n    TraceTable\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE,\n    },\n    value: {\n      type:     Object,\n      required: true,\n    }\n  },\n\n  async fetch() {\n    const hash = await allHash({\n      relatedPolicies:      this.value.allRelatedPolicies(),\n      policyGauges:         this.value.policyGauges()\n    });\n\n    const assignIfNotEmpty = (prop, value) => {\n      if (!isEmpty(value)) {\n        this[prop] = value;\n      }\n    };\n\n    assignIfNotEmpty('relatedPolicies', hash.relatedPolicies);\n    assignIfNotEmpty('policyGauges', hash.policyGauges);\n  },\n\n  data() {\n    return {\n      RELATED_HEADERS,\n      policyGauges:         null,\n      relatedPolicies:      null,\n      reloadRequired:       false,\n      resource:             KUBEWARDEN.POLICY_SERVER\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n    ...mapGetters({ policyTraces: 'kubewarden/policyTraces' }),\n    _group: mapPref(GROUP_RESOURCES),\n\n    filteredTraces() {\n      if (!isEmpty(this.policyTraces)) {\n        return this.policyTraces.filter((policyTraceObj) => {\n          if (this.currentCluster?.id === policyTraceObj.cluster) {\n            return policyTraceObj;\n          }\n        });\n      }\n\n      return null;\n    },\n\n    emptyTraces() {\n      return isEmpty(this.filteredTraces);\n    },\n\n    groupPreference() {\n      const out = this._group === 'namespace' ? 'kind' : null;\n\n      return out;\n    },\n\n    relatedPoliciesTotal() {\n      if (isEmpty(this.relatedPolicies)) {\n        return 0;\n      }\n\n      return this.relatedPolicies.length;\n    },\n\n    tracesGauges() {\n      if (!this.emptyTraces) {\n        return this.value.tracesGauges(this.filteredTraces);\n      }\n\n      return null;\n    },\n\n    traceGaugeTotals() {\n      if (!this.emptyTraces) {\n        return this.filteredTraces?.flatMap((policyTraceObj) => policyTraceObj.traces).length;\n      }\n\n      return 0;\n    }\n  },\n\n  methods: {\n    hasNamespaceSelector(row) {\n      return row.namespaceSelector;\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <template v-if=\"policyGauges\">\n      <div class=\"row\">\n        <template>\n          <div class=\"col span-6\">\n            <h3 data-testid=\"kw-ps-detail-status-title\">\n              {{ t('kubewarden.policyServer.policyGauge.byStatus') }}\n            </h3>\n            <div class=\"gauges mb-20\">\n              <CountGauge\n                v-for=\"(group, key) in policyGauges\"\n                :key=\"key\"\n                :total=\"relatedPoliciesTotal\"\n                :useful=\"group.count || 0\"\n                :graphical=\"false\"\n                :primary-color-var=\"`--sizzle-${group.color}`\"\n                :name=\"key\"\n              />\n            </div>\n          </div>\n        </template>\n        <template v-if=\"!emptyTraces\">\n          <div class=\"col span-6\">\n            <h3>\n              {{ t('kubewarden.policyServer.policyGauge.traces') }}\n            </h3>\n            <div class=\"gauges mb-20\">\n              <CountGauge\n                v-for=\"(group, key) in tracesGauges\"\n                :key=\"key\"\n                :useful=\"group.count || 0\"\n                :total=\"traceGaugeTotals\"\n                :graphical=\"false\"\n                :primary-color-var=\"`--sizzle-${group.color}`\"\n                :name=\"key\"\n              />\n            </div>\n          </div>\n        </template>\n      </div>\n    </template>\n\n    <ResourceTabs :value=\"value\" :mode=\"mode\">\n      <Tab name=\"related-policies\" label=\"Policies\" :weight=\"99\">\n        <template #default>\n          <ResourceTable\n            :rows=\"relatedPolicies || []\"\n            :headers=\"RELATED_HEADERS\"\n            :groupable=\"true\"\n            :group-by=\"groupPreference\"\n            :table-actions=\"true\"\n            :use-query-params-for-simple-filtering=\"true\"\n            data-testid=\"kw-ps-detail-related-policies-list\"\n          >\n            <template #col:operation=\"{ row }\">\n              <td>\n                <BadgeState\n                  :data-testid=\"`kw-ps-detail-${ row.id }-state`\"\n                  :label=\"row.operation\"\n                  :color=\"color(row.operation)\"\n                />\n              </td>\n            </template>\n          </ResourceTable>\n        </template>\n      </Tab>\n\n      <Tab name=\"policy-tracing\" label=\"Tracing\" :weight=\"98\" class=\"relative\">\n        <TraceTable :resource=\"resource\" :related-policies=\"relatedPolicies\" />\n      </Tab>\n\n      <Tab #default=\"props\" name=\"policy-metrics\" label=\"Metrics\" :weight=\"97\" class=\"relative\">\n        <MetricsTab :resource=\"resource\" :policy-server-obj=\"value\" :active=\"props.active\" />\n      </Tab>\n    </ResourceTabs>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.relative {\n  position: relative;\n}\n\n.policy {\n  &__mode {\n    display: flex;\n    align-items: center;\n\n    i {\n      margin-left: 5px;\n      font-size: 22px;\n      color: var(--warning);\n    }\n  }\n}\n\n.gaugesContainer {\n  display: flex;\n}\n\n.gauges {\n  display: flex;\n  justify-content: space-around;\n\n  flex-wrap: wrap;\n  justify-content: left;\n\n  .count-gauge {\n    width: 46%;\n    margin-bottom: 10px;\n    flex: initial;\n  }\n\n  & > *{\n    flex: 1;\n    margin-right: $column-gutter;\n  }\n}\n</style>\n","import { render } from \"./policies.kubewarden.io.policyserver.vue?vue&type=template&id=71bb3388&scoped=true\"\nimport script from \"./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js\"\nexport * from \"./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js\"\n\nimport \"./policies.kubewarden.io.policyserver.vue?vue&type=style&index=0&id=71bb3388&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-71bb3388\"]])\n\nexport default __exports__","<script>\nimport { _CREATE } from '@shell/config/query-params';\n\nimport { KUBEWARDEN } from '@kubewarden/types';\n\nimport PolicyDetail from '@kubewarden/components/Policies/PolicyDetail';\n\nexport default {\n  name: 'AdmissionPolicy',\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE,\n    },\n    value: {\n      type:     Object,\n      required: true,\n    },\n  },\n\n  components: { PolicyDetail },\n\n  data() {\n    return { resource: KUBEWARDEN.ADMISSION_POLICY };\n  }\n};\n</script>\n\n<template>\n  <PolicyDetail :value=\"value\" :mode=\"mode\" :resource=\"resource\" />\n</template>\n","import { render } from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=template&id=ae340e96\"\nimport script from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js\"\nexport * from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\nimport { mapGetters } from 'vuex';\nimport isEmpty from 'lodash/isEmpty';\nimport debounce from 'lodash/debounce';\nimport semver from 'semver';\n\nimport {\n  CATALOG, CONFIG_MAP, MONITORING, NAMESPACE, SERVICE\n} from '@shell/config/types';\nimport { KUBERNETES } from '@shell/config/labels-annotations';\nimport { dashboardExists } from '@shell/utils/grafana';\nimport { monitoringStatus } from '@shell/utils/monitoring';\nimport { allHash } from '@shell/utils/promise';\nimport ResourceFetch from '@shell/mixins/resource-fetch';\n\nimport DashboardMetrics from '@shell/components/DashboardMetrics';\nimport Loading from '@shell/components/Loading';\nimport { Banner } from '@components/Banner';\n\nimport { KUBEWARDEN, KUBEWARDEN_CHARTS, KubewardenDashboardLabels, KubewardenDashboards } from '@kubewarden/types';\nimport { isAdminUser } from '@kubewarden/utils/permissions';\nimport { handleGrowl } from '@kubewarden/utils/handle-growl';\nimport { refreshCharts } from '@kubewarden/utils/chart';\nimport { grafanaProxy } from '@kubewarden/modules/grafana';\nimport { findServiceMonitor, isServiceMonitorOutOfDate } from '@kubewarden/modules/metricsConfig';\nimport { jaegerPolicyName } from '@kubewarden/modules/jaegerTracing';\nimport { findPolicyServerResource } from '@kubewarden/modules/policyServer';\n\nimport MetricsChecklist from './MetricsChecklist';\n\nexport default {\n  props: {\n    active: {\n      type:    Boolean,\n      default: null\n    },\n    resource: {\n      type:    String,\n      default: null\n    },\n    policyObj: {\n      type:    Object,\n      default: null\n    },\n    policyServerObj: {\n      type:    Object,\n      default: null\n    }\n  },\n\n  components: {\n    Banner,\n    DashboardMetrics,\n    Loading,\n    MetricsChecklist\n  },\n\n  mixins: [ResourceFetch],\n\n  async fetch() {\n    await this.fetchData();\n  },\n\n  data() {\n    const METRICS_TYPE = this.resource === KUBEWARDEN.POLICY_SERVER ? KubewardenDashboards.POLICY_SERVER : KubewardenDashboards.POLICY;\n\n    return {\n      METRICS_TYPE,\n\n      isAdminUser: false,\n      permissions: {\n        policyServer:   false,\n        app:            false,\n        clusterRepo:    false,\n        configMap:      false,\n        serviceMonitor: false,\n        namespace:      false,\n        service:        false\n      },\n\n      [CATALOG.APP]:               null,\n      [CATALOG.CLUSTER_REPO]:      null,\n      [CONFIG_MAP]:                null,\n      [MONITORING.SERVICEMONITOR]: null,\n      [SERVICE]:                   null,\n      metricsProxy:                null,\n      metricsService:              null,\n      debouncedRefreshCharts:      null,\n      outdatedTelemetrySpec:       false,\n      unsupportedTelemetrySpec:    false\n    };\n  },\n\n  watch: {\n    async grafanaService() {\n      if (!this.metricsProxy) {\n        this.metricsProxy = await grafanaProxy({\n          store: this.$store,\n          type:  this.METRICS_TYPE\n        });\n\n        if (this.metricsProxy) {\n          this.metricsService = await dashboardExists('v2', this.$store, this.currentCluster?.id, this.metricsProxy);\n        }\n      }\n    }\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster', 'productId']),\n    ...mapGetters({ charts: 'catalog/charts' }),\n    ...monitoringStatus(),\n\n    policyName() {\n      return jaegerPolicyName(this.policyObj);\n    },\n\n    allApps() {\n      return this.$store.getters['cluster/all'](CATALOG.APP);\n    },\n\n    allRepos() {\n      return this.$store.getters['cluster/all'](CATALOG.CLUSTER_REPO);\n    },\n\n    allConfigMaps() {\n      return this.$store.getters['cluster/all'](CONFIG_MAP);\n    },\n\n    allNamespaces() {\n      return this.$store.getters['cluster/all'](NAMESPACE);\n    },\n\n    allPolicyServers() {\n      return this.$store.getters['cluster/all'](KUBEWARDEN.POLICY_SERVER);\n    },\n\n    allServiceMonitors() {\n      return this.$store.getters['cluster/all'](MONITORING.SERVICEMONITOR);\n    },\n\n    allServices() {\n      return this.$store.getters['cluster/all'](SERVICE);\n    },\n\n    cattleDashboardNs() {\n      return this.allNamespaces?.find((ns) => ns?.metadata?.name === 'cattle-dashboards');\n    },\n\n    conflictingGrafanaDashboards() {\n      return this.allConfigMaps?.filter((configMap) => {\n        const name = configMap?.metadata?.name;\n\n        if (name) {\n          return name === KubewardenDashboards.POLICY_SERVER || name === KubewardenDashboards.POLICY;\n        }\n      });\n    },\n\n    controllerApp() {\n      return this.allApps?.find((app) => app?.spec?.chart?.metadata?.name === KUBEWARDEN_CHARTS.CONTROLLER);\n    },\n\n    controllerChart() {\n      return this.charts?.find((chart) => chart.chartName === KUBEWARDEN_CHARTS.CONTROLLER);\n    },\n\n    grafanaService() {\n      const monitoringServices = this.allServices?.filter((svc) => svc?.metadata?.labels?.['app.kubernetes.io/instance'] === 'rancher-monitoring');\n\n      return monitoringServices?.find((svc) => svc?.metadata?.labels?.['app.kubernetes.io/name'] === 'grafana');\n    },\n\n    hasAvailability() {\n      return this.isAdminUser || Object.values(this.permissions).every((value) => value);\n    },\n\n    kubewardenGrafanaDashboards() {\n      return this.allConfigMaps?.filter((configMap) => configMap?.metadata?.labels?.[KubewardenDashboardLabels.DASHBOARD]);\n    },\n\n    kubewardenServiceMonitor() {\n      return findServiceMonitor({\n        policyObj:          this.policyObj,\n        policyServerObj:    this.policyServerObj,\n        controllerNs:       this.controllerApp?.metadata?.namespace,\n        allServiceMonitors: this.allServiceMonitors\n      });\n    },\n\n    metricsConfiguration() {\n      if (!this.controllerApp?.values) {\n        return null;\n      }\n\n      const version = this.controllerApp?.spec?.chart?.metadata?.version;\n      const telemetry = this.controllerApp?.values?.telemetry;\n\n      if (semver.gte(version, '4.0.0-0')) {\n        // In version 4+, telemetry.metrics should be boolean or undefined (treated as false).\n        // sidecar.metrics is only meaningful if telemetry.metrics === true.\n        const metricsIsUndefinedOrBoolean = telemetry?.metrics === undefined || typeof telemetry?.metrics === 'boolean';\n\n        // Check for unsupported 'custom' mode\n        if (telemetry?.mode === 'custom') {\n          this.handleMetricsChecklist('unsupportedTelemetrySpec', true);\n\n          return null;\n        }\n\n        // If metrics is not undefined or boolean, it's outdated\n        if (!metricsIsUndefinedOrBoolean) {\n          this.handleMetricsChecklist('outdatedTelemetrySpec', true);\n\n          return null;\n        }\n\n        // If telemetry.metrics is undefined or false, treat it as false.\n        // sidecar config is irrelevant in that case, and not considered outdated.\n        if (telemetry?.metrics !== true) {\n          // metrics is off, no sidecar config needed\n          return null;\n        }\n\n        // If we get here, telemetry.metrics === true and portIsDefined === true\n        return telemetry?.metrics;\n      } else {\n        // Old schema: just return telemetry.metrics.enabled\n        return telemetry?.metrics?.enabled;\n      }\n    },\n\n    monitoringApp() {\n      return this.allApps?.find((app) => app?.spec?.chart?.metadata?.name === 'rancher-monitoring');\n    },\n\n    monitoringChart() {\n      return this.charts?.find((chart) => chart.chartName === 'rancher-monitoring');\n    },\n\n    outdatedServiceMonitor() {\n      const sm = this.kubewardenServiceMonitor;\n      const ps = this.policyServerObj;\n\n      if (!sm || !ps) {\n        return false;\n      }\n\n      return isServiceMonitorOutOfDate(ps, sm);\n    },\n\n    openTelemetryServices() {\n      if (this.allServices) {\n        return this.allServices.filter((svc) => svc?.metadata?.labels?.[KUBERNETES.MANAGED_NAME] === 'opentelemetry-operator');\n      }\n\n      return null;\n    },\n\n    openTelSvc() {\n      if (!isEmpty(this.openTelemetryServices)) {\n        return this.openTelemetryServices.find((svc) => {\n          const ports = svc?.spec?.ports;\n\n          if (ports.length) {\n            return ports.find((p) => p.port === 8080);\n          }\n        });\n      }\n\n      return null;\n    },\n\n    policyServerSvcs() {\n      if (!isEmpty(this.allPolicyServers)) {\n        const policyServerNames = this.allPolicyServers\n          .map((ps) => ps?.metadata?.name)\n          .filter(Boolean);\n\n        const out = policyServerNames.map((name) => findPolicyServerResource(this.allServices, name));\n\n        return out;\n      }\n\n      return null;\n    },\n\n    showChecklist() {\n      const missingDependencies = [\n        !this.openTelSvc,\n        !this.monitoringApp,\n        !this.kubewardenServiceMonitor,\n        !this.metricsConfiguration,\n        !this.kubewardenGrafanaDashboards || isEmpty(this.kubewardenGrafanaDashboards),\n        this.outdatedServiceMonitor\n      ];\n\n      return missingDependencies.some(Boolean);\n    }\n  },\n\n  methods: {\n    async fetchData() {\n      this.setAdminUser();\n      this.setPermissions();\n      this.initDebouncedRefreshCharts();\n      await this.fetchResourcesData();\n      this.refreshChartsIfNeeded();\n      await this.handleGrafanaDashboard();\n      await this.fetchControllerAppValues();\n    },\n\n    setAdminUser() {\n      // Determine if the current user is an admin.\n      this.isAdminUser = isAdminUser(this.$store.getters);\n    },\n\n    setPermissions() {\n      // Map resource types to their respective keys.\n      const types = {\n        policyServer:   { type: KUBEWARDEN.POLICY_SERVER },\n        app:            { type: CATALOG.APP },\n        clusterRepo:    { type: CATALOG.CLUSTER_REPO },\n        configMap:      { type: CONFIG_MAP },\n        serviceMonitor: { type: MONITORING.SERVICEMONITOR },\n        namespace:      { type: NAMESPACE },\n        service:        { type: SERVICE }\n      };\n\n      // Set permissions based on store getters.\n      Object.entries(types).forEach(([key, value]) => {\n        if (this.$store.getters['cluster/canList'](value)) {\n          this.permissions[key] = true;\n        }\n      });\n    },\n\n    initDebouncedRefreshCharts() {\n      // Create a debounced function for refreshing charts.\n      this.debouncedRefreshCharts = debounce((init = false) => {\n        refreshCharts({\n          store:     this.$store,\n          chartName: 'rancher-monitoring',\n          init\n        });\n      }, 500);\n    },\n\n    async fetchResourcesData() {\n      // Define the mapping of resource names to their stored properties.\n      const resourceMap = [\n        {\n          name:     CATALOG.APP,\n          property: this.allApps\n        },\n        {\n          name:     CATALOG.CLUSTER_REPO,\n          property: this.allRepos\n        },\n        {\n          name:     CONFIG_MAP,\n          property: this.allConfigMaps\n        },\n        {\n          name:     KUBEWARDEN.POLICY_SERVER,\n          property: this.allPolicyServers\n        },\n        {\n          name:     MONITORING.SERVICEMONITOR,\n          property: this.allServiceMonitors\n        },\n        {\n          name:     NAMESPACE,\n          property: this.allNamespaces\n        },\n        {\n          name:     SERVICE,\n          property: this.allServices\n        }\n      ];\n\n      // Collect resource fetch promises if the property is empty and listing is allowed.\n      const promises = resourceMap.reduce((acc, resource) => {\n        if (isEmpty(resource.property) && this.$store.getters['cluster/canList'](resource.name)) {\n          acc.push(this.$fetchType(resource.name));\n        }\n\n        return acc;\n      }, []);\n\n      await allHash(promises);\n    },\n\n    refreshChartsIfNeeded() {\n      // Refresh charts if the checklist is shown and no monitoring chart exists.\n      if (this.showChecklist && !this.monitoringChart) {\n        this.debouncedRefreshCharts(true);\n      }\n    },\n\n    async handleGrafanaDashboard() {\n      if (this.monitoringStatus.installed) {\n        try {\n          this.metricsProxy = await grafanaProxy({\n            store: this.$store,\n            type:  this.METRICS_TYPE\n          });\n\n          if (this.metricsProxy) {\n            this.metricsService = await dashboardExists(\n              'v2',\n              this.$store,\n              this.currentCluster?.id,\n              this.metricsProxy\n            );\n          }\n        } catch (error) {\n          handleGrowl({\n            error: {\n              _statusText: 'Error',\n              message:     `Error fetching Grafana Service: ${ error }`\n            },\n            store: this.$store\n          });\n        }\n      }\n    },\n\n    async fetchControllerAppValues() {\n      if (this.controllerApp) {\n        await this.controllerApp.fetchValues(true);\n      }\n    },\n\n    async updateServiceMonitors() {\n      await this.$fetchType(MONITORING.SERVICEMONITOR);\n    },\n\n    async updateServiceMonitorLabels() {\n      await this.$fetchType(MONITORING.SERVICEMONITOR);\n      this.outdatedServiceMonitor = false;\n    },\n\n    handleMetricsChecklist(prop, val) {\n      this[prop] = val;\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <div v-else>\n    <Banner\n        v-if=\"!hasAvailability\"\n        color=\"error\"\n        class=\"mt-20 mb-20\"\n        data-testid=\"kw-unavailability-banner\"\n        :label=\"t('kubewarden.unavailability.banner', { type: t('kubewarden.unavailability.type.metricsDashboard') })\"\n      />\n\n      <MetricsChecklist\n        v-else-if=\"showChecklist\"\n        :cattle-dashboard-ns=\"cattleDashboardNs\"\n        :conflicting-grafana-dashboards=\"conflictingGrafanaDashboards\"\n        :controller-app=\"controllerApp\"\n        :controller-chart=\"controllerChart\"\n        :kubewarden-service-monitor=\"kubewardenServiceMonitor\"\n        :kubewarden-dashboards=\"kubewardenGrafanaDashboards\"\n        :metrics-configuration=\"metricsConfiguration\"\n        :monitoring-app=\"monitoringApp\"\n        :monitoring-chart=\"monitoringChart\"\n        :open-tel-svc=\"openTelSvc\"\n        :policy-obj=\"policyObj\"\n        :policy-server-obj=\"policyServerObj\"\n        :outdated-telemetry-spec=\"outdatedTelemetrySpec\"\n        :unsupported-telemetry-spec=\"unsupportedTelemetrySpec\"\n        :outdated-service-monitor=\"outdatedServiceMonitor\"\n        @updateServiceMonitors=\"updateServiceMonitors\"\n        @updateServiceMonitorLabels=\"updateServiceMonitorLabels\"\n      />\n\n    <template v-else>\n      <Banner\n        v-if=\"monitoringApp && !metricsProxy\"\n        color=\"error\"\n        :label=\"t('kubewarden.monitoring.warning.noProxy')\"\n      />\n      <DashboardMetrics\n        v-if=\"metricsProxy && active\"\n        data-testid=\"kw-ps-metrics-dashboard\"\n        :detail-url=\"metricsProxy\"\n        :summary-url=\"metricsProxy\"\n        :vars=\"{'policy_name': policyName}\"\n        graph-height=\"825px\"\n      />\n    </template>\n  </div>\n</template>\n","import isEmpty from 'lodash/isEmpty';\n\nimport { CONFIG_MAP, SERVICE } from '@shell/config/types';\n\nimport {\n  CatalogApp,\n  KubewardenDashboards,\n  KubewardenDashboardLabels,\n  GrafanaDashboardLabels,\n  GrafanaDashboardAnnotations,\n  HelmAnnotations\n} from '@kubewarden/types';\nimport { handleGrowl, GrowlConfig } from '@kubewarden/utils/handle-growl';\n\ninterface MetricsConfig {\n  store: any,\n  type: string\n}\n\ninterface DashboardConfig {\n  store: any,\n  monitoringApp: CatalogApp,\n  controllerApp: CatalogApp\n}\n\nexport async function grafanaProxy(config: MetricsConfig): Promise<any> {\n  const { store, type } = config;\n\n  try {\n    const grafana = await grafanaService(store);\n\n    if (!isEmpty(grafana)) {\n      const base = `/api/v1/namespaces/${ grafana.metadata.namespace }/services`;\n      const proxy = `/http:${ grafana.metadata.name }:80/proxy`;\n      const path = `/d/${ type }?orgId=1&kiosk`;\n\n      return base + proxy + path;\n    }\n  } catch (e) {\n    handleGrowl({\n      error: e as GrowlConfig | any,\n      store,\n      type:  'warning'\n    });\n  }\n\n  return null;\n}\n\nexport async function grafanaService(store: any) {\n  try {\n    return await store.dispatch('cluster/find', {\n      type: SERVICE,\n      id:   'cattle-monitoring-system/rancher-monitoring-grafana'\n    }, { root: true });\n  } catch (e) {\n    handleGrowl({\n      error: e as GrowlConfig | any,\n      store,\n      type:  'warning'\n    });\n  }\n}\n\nexport async function findKubewardenDashboards(store: any) {\n  try {\n    return await store.dispatch('cluster/findMatching', {\n      type:     CONFIG_MAP,\n      selector: `kubewarden/part-of=cattle-kubewarden-system`\n    });\n  } catch (e) {\n    handleGrowl({\n      error: e as GrowlConfig | any,\n      store,\n      type:  'warning'\n    });\n  }\n}\n\n/**\n   * Creates a ConfigMap for the Grafana dashboard depending on the type supplied\n   * @param `store, type` | Type of resource ( PolicyServer || (Cluster)AdmissionPolicy )\n   */\nexport async function addKubewardenDashboards(config: DashboardConfig): Promise<void> {\n  const { store, monitoringApp, controllerApp } = config;\n\n  if (monitoringApp && controllerApp) {\n    /**\n     * There are 2 dashboards for Kubewarden:\n     * PolicyServer is the default one copied from https://grafana.com/grafana/dashboards/15314-kubewarden/\n     * Policies have a condensed version\n    */\n    const dashboardEnums = Object.values(KubewardenDashboards);\n\n    for (const type of dashboardEnums) {\n      const file = await import(/* webpackChunkName: \"policyDashboard\" */ `../assets/${ type }.json`);\n      const fileKey = `${ type }.json`;\n\n      /** Check for existing configmaps */\n      const existing = await findKubewardenDashboards(store);\n\n      if (existing && existing?.metadata?.name === type) {\n        return;\n      }\n\n      const labels: GrafanaDashboardLabels = {\n        [KubewardenDashboardLabels.DASHBOARD]:         type,\n        [KubewardenDashboardLabels.PART_OF]:           controllerApp.metadata.namespace,\n        [KubewardenDashboardLabels.APP]:               'rancher-monitoring-grafana',\n        [KubewardenDashboardLabels.GRAFANA_DASHBOARD]: '1',\n        'app.kubernetes.io/instance':                  monitoringApp.metadata.name\n      };\n\n      const annotations: GrafanaDashboardAnnotations = {\n        [HelmAnnotations.NAME]:      monitoringApp.metadata.name,\n        [HelmAnnotations.NAMESPACE]: monitoringApp.metadata.namespace\n      };\n\n      const configMapTemplate = await store.dispatch(\n        'cluster/create',\n        {\n          type:     CONFIG_MAP,\n          metadata: {\n            annotations,\n            labels,\n            name:        type,\n            namespace:   'cattle-dashboards',\n          },\n          data: { [fileKey]: JSON.stringify(file) },\n        }\n      );\n\n      try {\n        await configMapTemplate.save();\n      } catch (e) {\n        handleGrowl({\n          error: e as GrowlConfig | any,\n          store\n        });\n      }\n    }\n  }\n}","import isEmpty from 'lodash/isEmpty';\nimport { MONITORING } from '@shell/config/types';\n\nimport type { PolicyServer, ServiceMonitorConfigured } from '@kubewarden/types';\nimport { KUBEWARDEN, MonitoringConfig, ServiceMonitor, ServiceMonitorConfig } from '@kubewarden/types';\n\nimport { handleGrowl, GrowlConfig } from '@kubewarden/utils/handle-growl';\nimport { isPolicyServerResource } from '@kubewarden/modules/policyServer';\n\n/**\n * Determines if the Monitoring App is configured correctly with the namespace and label selectors for\n * the Kubewarden controller and policy servers.\n * @param config `serviceMonitorSpec, controllerApp, policyServerSvcs` | Needs monitoring app service monitor spec,\n * kubewarden controller app, and the policy server services.\n * @returns `boolean` | `true` if configured correctly\n */\nexport function monitoringIsConfigured(config: MonitoringConfig): boolean {\n  const configured = serviceMonitorsConfigured(config);\n\n  if (Array.isArray(configured)) {\n    return configured?.some((c: ServiceMonitorConfigured) => {\n      const selectorsConfigured = !isEmpty(c?.selectors) && c?.selectors?.some((selector) => {\n        for (const key in selector) {\n          if (selector[key] && selector[key] === true) {\n            return true;\n          }\n        }\n\n        return false;\n      });\n\n      return c.namespace && selectorsConfigured;\n    });\n  }\n\n  return false;\n}\n\n/**\n * Searchs for matching `namespaceSelector` and `matchLabels` selector between `serviceMonitorSpec`, `controllerApp`, and `policyServerSvcs`\n * @param config `serviceMonitorSpec, controllerApp, policyServerSvcs` | Needs monitoring app service monitor spec,\n * kubewarden controller app, and the policy server services.\n * @returns `ServiceMonitorConfigured[] | boolean` | If `serviceMonitorSpec` is provided, will return a `ServiceMonitorConfigured` object\n * which contains a `namespace` boolean for a match and selectors[] for `matchLabels`\n */\nexport function serviceMonitorsConfigured(config: MonitoringConfig): ServiceMonitorConfigured[] | boolean {\n  const { serviceMonitorSpec, controllerApp, policyServerSvcs } = config;\n\n  if (serviceMonitorSpec) {\n    return serviceMonitorSpec?.map((sm) => {\n      const configured: ServiceMonitorConfigured = {\n        namespace: false,\n        selectors: []\n      };\n\n      /** Find a matching namespaceSelector to the controllerApp */\n      if (!isEmpty(controllerApp)) {\n        const hasNamespace: boolean = sm.namespaceSelector?.matchNames?.includes(controllerApp?.metadata?.namespace) || false;\n\n        configured.namespace = hasNamespace;\n      }\n\n      /** Find matching label selectors for policy server services */\n      if (!isEmpty(policyServerSvcs)) {\n        policyServerSvcs.forEach((svc) => {\n          if (sm.selector?.matchLabels) {\n            for (const key of Object.keys(sm.selector.matchLabels)) {\n              const hasLabel = svc?.metadata?.labels?.[key] && svc.metadata.labels[key] === sm.selector.matchLabels[key];\n\n              configured?.selectors?.push({ [key]: !!hasLabel });\n            }\n          }\n        });\n      }\n\n      return configured;\n    });\n  }\n\n  return false;\n}\n\n/**\n * Searches provided ServiceMonitors for a matching resource.\n *\n * It checks the labels under `spec.selector.matchLabels` for:\n * - The legacy label: `app=kubewarden-policy-server-<policyServerName>`\n * - The new strict labels as described.\n *\n * @param {Object} config - An object containing:\n *        { policyObj?, policyServerObj?, allServiceMonitors }.\n *        Needs either a policy object or policy server object with all fetched ServiceMonitors.\n * @returns {Object|undefined} The matching ServiceMonitor if found.\n */\nexport function findServiceMonitor(config: ServiceMonitorConfig): ServiceMonitor | undefined {\n  const { policyObj, policyServerObj, allServiceMonitors } = config;\n\n  if (!isEmpty(allServiceMonitors)) {\n    const policyServerName = policyObj ? policyObj.spec?.policyServer : policyServerObj?.id;\n\n    return allServiceMonitors?.find((sm: ServiceMonitor) => {\n      // For ServiceMonitors, labels are under spec.selector.matchLabels\n      const labels = sm?.spec?.selector?.matchLabels;\n\n      return isPolicyServerResource(labels, policyServerName as string);\n    });\n  }\n}\n\n/**\n * Creates a Service Monitor for a PolicyServer when provided either a PS or a policy\n * @param config: `store, policyObj?, policyServerObj?, controllerNs` | Needs kubewarden-controller app namespace, either a policy server or policy.\n */\nexport async function addKubewardenServiceMonitor(config: ServiceMonitorConfig): Promise<void> {\n  const {\n    store, policyObj, controllerNs, serviceMonitor\n  } = config;\n  let { policyServerObj } = config;\n\n  if (!serviceMonitor && store.getters['cluster/schemaFor'](MONITORING.SERVICEMONITOR)) {\n    // Fetch the policy server object if not provided to determine the labels necessary for the service monitor\n    if (!policyServerObj && policyObj && store.getters['cluster/schemaFor'](KUBEWARDEN.POLICY_SERVER)) {\n      const policyServer = await store.dispatch(\n        'cluster/find',\n        {\n          type: KUBEWARDEN.POLICY_SERVER,\n          id:   policyObj.spec?.policyServer\n        }\n      );\n\n      if (policyServer) {\n        policyServerObj = policyServer as PolicyServer;\n      }\n    }\n\n    const policyServerID = policyObj ? policyObj.spec?.policyServer : policyServerObj?.id as string;\n    const defaultLabels = {\n      'app.kubernetes.io/instance':   `policy-server-${ policyServerID }`,\n      'app.kubernetes.io/component':  'policy-server',\n      'app.kubernetes.io/part-of':    'kubewarden'\n    };\n    let labels;\n\n    if (policyServerObj?.metadata?.labels && policyServerObj?.metadata?.labels['app']) {\n      labels = { app: policyServerObj?.metadata?.labels['app'] };\n    } else {\n      labels = defaultLabels;\n    }\n\n    const serviceMonitorTemplate: ServiceMonitor = {\n      apiVersion: 'monitoring.coreos.com/v1',\n      kind:       'ServiceMonitor',\n      type:       MONITORING.SERVICEMONITOR,\n      metadata:   {\n        name:        `kubewarden-${ policyServerID }`,\n        namespace:   controllerNs\n      },\n      spec: {\n        endpoints:         [{\n          interval: '10s',\n          port:     'metrics'\n        }],\n        namespaceSelector: { matchNames: [controllerNs] },\n        selector:          { matchLabels: labels }\n      }\n    };\n\n    const serviceMonitorObj = await store.dispatch(\n      'cluster/create',\n      serviceMonitorTemplate\n    );\n\n    try {\n      await serviceMonitorObj.save();\n    } catch (e) {\n      handleGrowl({\n        error: e as GrowlConfig | any,\n        store\n      });\n    }\n  }\n}\n\n/**\n * Returns `true` if the ServiceMonitor is missing the matching label style\n * of the PolicyServer. In other words, if the PolicyServer is new-style\n * but the SM only has old-style (or no) labels, or vice versa, then it’s out of date.\n */\nexport function isServiceMonitorOutOfDate(ps: PolicyServer, sm: ServiceMonitor): boolean {\n  if (!ps || !sm) {\n    return false;\n  }\n\n  const psLabels = ps.metadata?.labels || {};\n  const smLabels = sm.spec?.selector?.matchLabels || {};\n\n  const newLabels = {\n    'app.kubernetes.io/component': 'policy-server',\n    'app.kubernetes.io/part-of':   'kubewarden'\n  };\n\n  // Determine if the PolicyServer is using the new label style.\n  const psIsNewStyle =\n    psLabels['app.kubernetes.io/instance'] &&\n    psLabels['app.kubernetes.io/component'] &&\n    psLabels['app.kubernetes.io/part-of'];\n\n  // Only if the PolicyServer is new style do we need the ServiceMonitor to have the new labels.\n  if (psIsNewStyle) {\n    const smHasNewLabels =\n      smLabels['app.kubernetes.io/instance'] &&\n      smLabels['app.kubernetes.io/component'] === newLabels['app.kubernetes.io/component'] &&\n      smLabels['app.kubernetes.io/part-of'] === newLabels['app.kubernetes.io/part-of'];\n\n    return !smHasNewLabels;\n  }\n\n  // If the PolicyServer is still using old labels, we consider the ServiceMonitor up-to-date.\n  return false;\n}\n\n","<script>\nimport { mapGetters } from 'vuex';\nimport isEmpty from 'lodash/isEmpty';\n\nimport { CATALOG } from '@shell/config/labels-annotations';\n\nimport {\n  REPO_TYPE, REPO, CHART, NAME, VERSION, NAMESPACE\n} from '@shell/config/query-params';\n\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { Banner } from '@components/Banner';\n\nimport { handleGrowl } from '@kubewarden/utils/handle-growl';\nimport { addKubewardenDashboards } from '@kubewarden/modules/grafana';\nimport { addKubewardenServiceMonitor } from '@kubewarden/modules/metricsConfig';\n\nexport default {\n  props: {\n    cattleDashboardNs: {\n      type:    Object,\n      default: null\n    },\n    conflictingGrafanaDashboards: {\n      type:    Array,\n      default: null\n    },\n    controllerApp: {\n      type:    Object,\n      default: null\n    },\n    controllerChart: {\n      type:    Object,\n      default: null\n    },\n    kubewardenServiceMonitor: {\n      type:    Object,\n      default: null\n    },\n    kubewardenDashboards: {\n      type:    Array,\n      default: null\n    },\n    metricsConfiguration: {\n      type:    Boolean,\n      default: null\n    },\n    monitoringApp: {\n      type:    Object,\n      default: null\n    },\n    monitoringChart: {\n      type:    Object,\n      default: null\n    },\n    openTelSvc: {\n      type:    Object,\n      default: null\n    },\n    policyObj: {\n      type:    Object,\n      default: null\n    },\n    policyServerObj: {\n      type:    Object,\n      default: null\n    },\n    outdatedTelemetrySpec: {\n      type:    Boolean,\n      default: false\n    },\n    unsupportedTelemetrySpec: {\n      type:    Boolean,\n      default: false\n    },\n    outdatedServiceMonitor: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  components: {\n    AsyncButton,\n    Banner\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n    ...mapGetters({ t: 'i18n/t' }),\n\n    controllerLinkDisabled() {\n      return (!this.openTelSvc || !this.monitoringApp || !this.hasKubewardenDashboards || !this.controllerChart || !this.controllerApp);\n    },\n\n    controllerLinkTooltip() {\n      if (this.controllerLinkDisabled) {\n        return this.t('kubewarden.monitoring.prerequisites.tooltips.prerequisites');\n      }\n\n      if (!this.controllerChart) {\n        return this.t('kubewarden.monitoring.prerequisites.tooltips.chartError', { chart: 'Kubewarden Controller' }, true);\n      }\n\n      return null;\n    },\n\n    dashboardsTooltip() {\n      if (!this.monitoringApp) {\n        return this.t('kubewarden.monitoring.prerequisites.tooltips.appNotInstalled', { app: 'Rancher Monitoring' }, true);\n      }\n\n      if (this.monitoringApp && isEmpty(this.cattleDashboardNs)) {\n        return this.t('kubewarden.monitoring.prerequisites.tooltips.nsNotFound');\n      }\n\n      return null;\n    },\n\n    dashboardButtonDisabled() {\n      return (!this.monitoringApp ||\n              isEmpty(this.cattleDashboardNs) ||\n              (!this.hasKubewardenDashboards && !!this.conflictingGrafanaDashboards.length)\n      );\n    },\n\n    hasKubewardenDashboards() {\n      return !isEmpty(this.kubewardenDashboards);\n    },\n\n    monitoringChartLink() {\n      if (!this.monitoringApp) {\n        return this.t('kubewarden.monitoring.prerequisites.monitoringApp.install');\n      }\n\n      return this.t('kubewarden.monitoring.prerequisites.monitoringApp.edit');\n    },\n\n    monitoringLinkTooltip() {\n      if (!this.monitoringChart) {\n        return this.t('kubewarden.monitoring.prerequisites.tooltips.chartError', { chart: 'Rancher Monitoring' }, true);\n      }\n\n      return null;\n    },\n\n    serviceMonitorButtonDisabled() {\n      return (!this.controllerApp || !this.monitoringApp);\n    },\n\n    serviceMonitorsTooltip() {\n      if (!this.monitoringApp) {\n        return this.t('kubewarden.monitoring.prerequisites.tooltips.prerequisites');\n      }\n\n      if (!this.kubewardenServiceMonitor && this.controllerApp) {\n        return this.t(\n          'kubewarden.monitoring.prerequisites.tooltips.monitorsNotFound',\n          { namespace: this.controllerApp.metadata?.namespace },\n          true\n        );\n      }\n\n      return null;\n    },\n\n    updateServiceMonitorsTooltip() {\n      return this.t(\n        'kubewarden.monitoring.prerequisites.tooltips.updateServiceMonitor',\n        {},\n        true\n      );\n    },\n\n    updateServiceMonitorButtonDisabled() {\n      if (!this.kubewardenServiceMonitor || !this.monitoringApp) {\n        return true;\n      }\n\n      return false;\n    },\n\n    showConflictingDashboardsBanner() {\n      return !this.hasKubewardenDashboards && !isEmpty(this.conflictingGrafanaDashboards);\n    }\n  },\n\n  methods: {\n    async addDashboards(btnCb) {\n      try {\n        await addKubewardenDashboards({\n          store:         this.$store,\n          monitoringApp: this.monitoringApp,\n          controllerApp: this.controllerApp\n        });\n        btnCb(true);\n      } catch (e) {\n        handleGrowl({\n          error: e,\n          store: this.$store\n        });\n        btnCb(false);\n      }\n    },\n\n    async addServiceMonitor(btnCb) {\n      try {\n        await addKubewardenServiceMonitor({\n          store:           this.$store,\n          policyObj:       this.policyObj,\n          policyServerObj: this.policyServerObj,\n          controllerNs:    this.controllerApp?.metadata?.namespace,\n          serviceMonitor:  this.kubewardenServiceMonitor\n        });\n        this.$emit('updateServiceMonitors');\n        btnCb(true);\n      } catch (e) {\n        handleGrowl({\n          error: e,\n          store: this.$store\n        });\n        btnCb(false);\n      }\n    },\n\n    async updateServiceMonitor(btnCb) {\n      if (!this.kubewardenServiceMonitor) {\n        btnCb(false);\n\n        return;\n      }\n\n      try {\n        const sm = this.kubewardenServiceMonitor;\n\n        const psName = this.policyServerObj?.metadata?.name || this.policyObj?.spec?.policyServer;\n\n        sm.spec.selector.matchLabels = {\n          'app.kubernetes.io/instance':  `policy-server-${ psName }`,\n          'app.kubernetes.io/component': 'policy-server',\n          'app.kubernetes.io/part-of':   'kubewarden'\n        };\n\n        await sm.save();\n        this.$emit('updateServiceMonitorLabels');\n\n        btnCb(true);\n      } catch (err) {\n        handleGrowl({\n          error: err,\n          store: this.$store\n        });\n        btnCb(false);\n      }\n    },\n\n    badgeIcon(prop) {\n      if (Array.isArray(prop)) {\n        const emptyProp = isEmpty(prop);\n\n        return {\n          'icon-dot-open':  emptyProp,\n          'icon-checkmark': !emptyProp,\n          'text-success':   !emptyProp\n        };\n      }\n\n      return {\n        'icon-dot-open':  !prop,\n        'icon-checkmark': prop,\n        'text-success':   prop\n      };\n    },\n\n    monitoringAppRoute() {\n      if (!this.monitoringApp && this.monitoringChart) {\n        this.monitoringChart.goToInstall();\n      }\n\n      if (this.monitoringApp) {\n        const query = {\n          [NAMESPACE]: this.monitoringApp.metadata?.namespace,\n          [NAME]:      this.monitoringApp.metadata?.name,\n          [VERSION]:   this.monitoringApp.spec?.chart?.metadata?.version,\n          [REPO]:      this.monitoringApp.spec?.chart?.metadata?.annotations?.[CATALOG.SOURCE_REPO_NAME],\n          [REPO_TYPE]: this.monitoringApp.spec?.chart?.metadata?.annotations?.[CATALOG.SOURCE_REPO_TYPE],\n          [CHART]:     this.monitoringApp.spec?.chart?.metadata?.name\n        };\n\n        this.$router.push({\n          name:   'c-cluster-apps-charts-install',\n          params: { cluster: this.currentCluster?.id || '_' },\n          query,\n        });\n      }\n    },\n\n    controllerAppRoute() {\n      if (this.controllerApp) {\n        const metadata = this.controllerApp.spec?.chart?.metadata;\n\n        const query = {\n          [NAMESPACE]: metadata?.annotations?.[CATALOG.NAMESPACE],\n          [NAME]:      metadata?.annotations?.[CATALOG.RELEASE_NAME],\n          [VERSION]:   metadata?.annotations?.['catalog.cattle.io/upstream-version'],\n          [REPO]:      metadata?.annotations?.[CATALOG.SOURCE_REPO_NAME],\n          [REPO_TYPE]: metadata?.annotations?.[CATALOG.SOURCE_REPO_TYPE],\n          [CHART]:     metadata?.name\n        };\n\n        this.$router.push({\n          name:   'c-cluster-apps-charts-install',\n          params: { cluster: this.currentCluster?.id || '_' },\n          query,\n        });\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"checklist__container\">\n    <div class=\"checklist__prereq mb-20\">\n      <h2>{{ t('kubewarden.monitoring.prerequisites.label') }}</h2>\n      <p>{{ t('kubewarden.monitoring.prerequisites.description') }}</p>\n    </div>\n\n    <Banner\n      color=\"warning\"\n      :label=\"t('kubewarden.monitoring.prerequisites.warning')\"\n    />\n\n    <!-- Basic prerequisites items: OpenTelemetry, Monitoring app, etc. -->\n    <div class=\"mt-20 mb-20\">\n      <!-- openTel -->\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-monitoring-checklist-step-open-tel\">\n        <i data-testid=\"kw-otel-icon\" class=\"icon mr-10\" :class=\"badgeIcon(openTelSvc)\" />\n        <p v-clean-html=\"t('kubewarden.tracing.openTelemetry', {}, true)\" />\n      </div>\n\n      <!-- Monitoring -->\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-monitoring-checklist-step-monitoring-app\">\n        <i data-testid=\"kw-monitoring-icon\" class=\"icon mr-10\" :class=\"badgeIcon(monitoringApp)\" />\n        <div class=\"checklist__config\">\n          <p v-clean-html=\"t('kubewarden.monitoring.prerequisites.monitoringApp.label', {}, true)\" p />\n          <button\n            v-if=\"!monitoringApp\"\n            v-clean-tooltip=\"monitoringLinkTooltip\"\n            data-testid=\"kw-monitoring-checklist-step-config-button\"\n            class=\"btn role-primary ml-10\"\n            :disabled=\"!monitoringChart\"\n            @click=\"monitoringAppRoute()\"\n          >\n            {{ monitoringChartLink }}\n          </button>\n        </div>\n      </div>\n\n      <!-- ServiceMonitor: now split for \"outdated\" vs. \"non-existent\" -->\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-monitoring-checklist-step-service-monitor-map\">\n        <template v-if=\"outdatedServiceMonitor\">\n          <!-- If it's outdated, we show an \"Update\" path -->\n          <i data-testid=\"kw-sm-icon\" class=\"icon mr-10\" :class=\"badgeIcon(!outdatedServiceMonitor)\" />\n          <div class=\"checklist__config\">\n            <p v-clean-html=\"t('kubewarden.monitoring.prerequisites.serviceMonitor.upgrade.label', {}, true)\" p />\n            <AsyncButton\n              v-if=\"kubewardenServiceMonitor && outdatedServiceMonitor\"\n              v-clean-tooltip=\"updateServiceMonitorsTooltip\"\n              data-testid=\"kw-monitoring-checklist-step-service-monitor-upgrade-button\"\n              mode=\"serviceMonitorUpgrade\"\n              class=\"ml-10\"\n              :disabled=\"updateServiceMonitorButtonDisabled\"\n              @click=\"updateServiceMonitor\"\n            />\n          </div>\n        </template>\n        <template v-else>\n          <!-- If it's not outdated, maybe it's simply missing? Show a \"Create\" path -->\n          <i data-testid=\"kw-sm-icon\" class=\"icon mr-10\" :class=\"badgeIcon(kubewardenServiceMonitor)\" />\n          <div class=\"checklist__config\">\n            <p v-clean-html=\"t('kubewarden.monitoring.prerequisites.serviceMonitor.label', {}, true)\" p />\n            <AsyncButton\n              v-if=\"!kubewardenServiceMonitor\"\n              v-clean-tooltip=\"serviceMonitorsTooltip\"\n              data-testid=\"kw-monitoring-checklist-step-service-monitor-button\"\n              mode=\"serviceMonitor\"\n              class=\"ml-10\"\n              :disabled=\"serviceMonitorButtonDisabled\"\n              @click=\"addServiceMonitor\"\n            />\n          </div>\n        </template>\n      </div>\n\n      <!-- Dashboards -->\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-monitoring-checklist-step-config-map\">\n        <i data-testid=\"kw-dashboard-icon\" class=\"icon mr-10\" :class=\"badgeIcon(hasKubewardenDashboards)\" />\n        <div class=\"checklist__config\">\n          <p v-clean-html=\"t('kubewarden.monitoring.prerequisites.configMap.label', {}, true)\" p />\n          <AsyncButton\n            v-if=\"!hasKubewardenDashboards\"\n            v-clean-tooltip=\"dashboardsTooltip\"\n            data-testid=\"kw-monitoring-checklist-step-config-map-button\"\n            mode=\"grafanaDashboard\"\n            class=\"ml-10\"\n            :disabled=\"dashboardButtonDisabled\"\n            @click=\"addDashboards\"\n          />\n        </div>\n      </div>\n      <Banner\n        v-if=\"showConflictingDashboardsBanner\"\n        color=\"error\"\n      >\n        <div data-testid=\"kw-monitoring-checklist-conflicting-banner\" class=\"conflicting-banner\">\n          <p>\n            {{ t('kubewarden.monitoring.prerequisites.configMap.conflictingDashboardsBanner', { count: conflictingGrafanaDashboards.length }, true) }}\n          </p>\n          <router-link\n            v-for=\"configMap of conflictingGrafanaDashboards\"\n            :key=\"configMap.metadata.name\"\n            :to=\"configMap.detailLocation\"\n            class=\"text-bold\"\n          >\n            {{ configMap.metadata.name }}\n          </router-link>\n        </div>\n      </Banner>\n\n      <!-- Telemetry banners -->\n      <div>\n        <Banner\n          v-if=\"outdatedTelemetrySpec\"\n          data-testid=\"kw-monitoring-checklist-outdated-telemetry\"\n          color=\"error\"\n          :label=\"t('kubewarden.monitoring.prerequisites.outdated')\"\n        />\n        <Banner\n          v-if=\"unsupportedTelemetrySpec\"\n          data-testid=\"kw-monitoring-checklist-unsupported-telemetry\"\n          color=\"error\"\n          :label=\"t('kubewarden.monitoring.prerequisites.unsupported')\"\n        />\n      </div>\n\n      <!-- Controller metrics configuration -->\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-monitoring-checklist-step-controller-config\">\n        <i data-testid=\"kw-metrics-config-icon\" class=\"icon mr-10\" :class=\"badgeIcon(metricsConfiguration)\" />\n        <div class=\"checklist__config\">\n          <p v-clean-html=\"t('kubewarden.monitoring.prerequisites.controllerConfig.label', {}, true)\" p />\n          <button\n            v-if=\"!metricsConfiguration\"\n            v-clean-tooltip=\"controllerLinkTooltip\"\n            data-testid=\"kw-monitoring-checklist-step-config-button\"\n            class=\"btn role-primary ml-10\"\n            :disabled=\"controllerLinkDisabled\"\n            @click=\"controllerAppRoute()\"\n          >\n            {{ t(\"kubewarden.monitoring.prerequisites.controllerConfig.button\") }}\n          </button>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.checklist {\n  &__container {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    border: 1px solid var(--border);\n    padding: 10px;\n  }\n\n  &__step, &__config {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n  }\n\n  &__step {\n    min-height: 40px;\n  }\n}\n\n.conflicting-banner {\n  display: flex;\n  flex-direction: column;\n}\n</style>\n","import { render } from \"./MetricsChecklist.vue?vue&type=template&id=bc826a2a&scoped=true\"\nimport script from \"./MetricsChecklist.vue?vue&type=script&lang=js\"\nexport * from \"./MetricsChecklist.vue?vue&type=script&lang=js\"\n\nimport \"./MetricsChecklist.vue?vue&type=style&index=0&id=bc826a2a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bc826a2a\"]])\n\nexport default __exports__","import { render } from \"./MetricsTab.vue?vue&type=template&id=5ad4e85a\"\nimport script from \"./MetricsTab.vue?vue&type=script&lang=js\"\nexport * from \"./MetricsTab.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export function proxyUrl(service: any, port: number): string {\n  const view: string = service?.links['view'];\n  const idx: number = view.lastIndexOf(`/`);\n\n  return proxyUrlFromBase(view.slice(0, idx), 'http', service?.metadata.name, port);\n}\n\nexport function proxyUrlFromBase(base: string, scheme: string, name: string, port: number, path?: any): string {\n  const schemaNamePort = (scheme ? `${ encodeURIComponent(scheme) }:` : '') + encodeURIComponent(name) + (port ? `:${ encodeURIComponent(port) }` : '');\n\n  const cleanPath = `/${ (path || '').replace(/^\\/+/g, '') }`;\n  const cleanBase = base.replace(/\\/+$/g, '');\n\n  const out = `${ cleanBase }/${ schemaNamePort }/proxy${ cleanPath }`;\n\n  return out;\n}\n","import isEmpty from 'lodash/isEmpty';\n\nimport {\n  KUBEWARDEN, JaegerConfig, PolicyTrace, PolicyTraceConfig, Tag\n} from '@kubewarden/types';\nimport { proxyUrl } from '@kubewarden/utils/service';\n\n/** TODO: Update the `any` types throughout this file */\n\n/**\n * Fetches trace reports from Jaeger for each related policy or singular policy.\n * @param config `JaegerConfig` | Contains the `store`, `jaegerQueryService`, `resource` (policy-server or policy type),\n * `relatedPolicies?` needed for policy server, `policy?` for individual policies, `time?` for trace timeframe.\n * @returns `PolicyTraceConfig | null` | A scaffold object which contains the policy name, cluster id, and traces for the policy.\n */\nexport async function jaegerTraces(config: JaegerConfig): Promise<PolicyTraceConfig | null> {\n  const {\n    store, queryService, resource, relatedPolicies, policy, time\n  } = config;\n\n  try {\n    const proxy = proxyUrl(queryService, 16686);\n\n    const promises = [];\n\n    if (!isEmpty(relatedPolicies)) {\n      relatedPolicies?.forEach((p: any) => {\n        const hash = jaegerTraceRequest(store, proxy, p, time);\n\n        if (hash) {\n          promises.push(hash);\n        }\n      });\n    } else if (policy) {\n      promises.push(jaegerTraceRequest(store, proxy, policy, time));\n    } else {\n      throw new Error('Policy is undefined');\n    }\n\n    let res = await Promise.all(promises);\n\n    res = res.flatMap((o) => o?.data);\n\n    return scaffoldPolicyTrace(store, res, resource, relatedPolicies, policy);\n  } catch (e) {\n    console.warn(`Error fetching Jaeger traces: ${ e }`);\n  }\n\n  return null;\n}\n\nexport function jaegerPolicyName(policy: any) {\n  let out = null;\n\n  switch (policy?.kind) {\n  case 'ClusterAdmissionPolicy':\n    out = `clusterwide-${ policy?.metadata?.name }`;\n    break;\n\n  case 'AdmissionPolicy':\n    out = `namespaced-${ policy?.metadata?.namespace }-${ policy?.metadata?.name }`;\n    break;\n\n  default:\n    break;\n  }\n\n  return out;\n}\n\nfunction jaegerTraceRequest(store: any, proxyUrl: any, policy: any, time?: any) {\n  let apiPath = null;\n\n  const name = jaegerPolicyName(policy);\n  const lookbackTime = time || '2d';\n\n  const options = `lookback=${ lookbackTime }&tags={\"policy_id\"%3A\"${ name }\"}`;\n\n  // The service `kubewarden-policy-server` is **not** a k8s Service\n  apiPath = `api/traces?service=kubewarden-policy-server&operation=validation&${ options }`;\n  const JAEGER_PATH = `${ proxyUrl + apiPath }`;\n\n  return store.dispatch('cluster/request', { url: JAEGER_PATH });\n}\n\nfunction scaffoldPolicyTrace(store: any, traces: any, resource: any, relatedPolicies: any, policy: any): any {\n  const currentCluster = store.getters['currentCluster'];\n  const out = [];\n\n  function filterTraces(p: any) {\n    const policyName = jaegerPolicyName(p);\n\n    return traces.reduce((acc: any, trace: any): PolicyTrace[] => {\n      let out = {};\n\n      const validationSpan = trace.spans.find((span: any) => span.operationName === 'validation');\n      const matchedTag = validationSpan?.tags?.find((tag: any) => tag?.key === 'policy_id' && tag?.value === policyName);\n\n      if (matchedTag) {\n        const convertedTags = convertTagsToObject(validationSpan.tags);\n\n        out = {\n          id:              trace.traceID,\n          allowed:         convertedTags.allowed,\n          mode:            p.spec.mode,\n          name:            convertedTags.name,\n          operation:       convertedTags.operation,\n          kind:            convertedTags.kind,\n          namespace:       convertedTags.namespace || null,\n          startTime:       validationSpan.startTime,\n          duration:        validationSpan.duration,\n          responseMessage: convertedTags.response_message,\n          responseCode:    convertedTags.response_code,\n          mutated:         convertedTags.mutated\n        };\n      }\n\n      if (!isEmpty(out)) {\n        acc.push(out);\n        store.dispatch('kubewarden/updatePolicyTraces', {\n          policyName:   p.metadata.name,\n          cluster:      currentCluster?.id,\n          updatedTrace: out\n        });\n      }\n\n      return acc;\n    }, []);\n  }\n\n  if (resource === KUBEWARDEN.POLICY_SERVER) {\n    for (const relatedPolicy of relatedPolicies) {\n      const relatedTraces = filterTraces(relatedPolicy);\n\n      if (!isEmpty(relatedTraces)) {\n        out.push({\n          policyName: relatedPolicy.metadata.name,\n          cluster:    currentCluster?.id,\n          traces:     relatedTraces\n        });\n      }\n    }\n  } else {\n    const relatedTraces = filterTraces(policy);\n\n    if (!isEmpty(relatedTraces)) {\n      out.push({\n        policyName: policy.metadata.name,\n        cluster:    currentCluster?.id,\n        traces:     relatedTraces\n      });\n    }\n  }\n\n  return out;\n}\n\nexport function convertTagsToObject(arr: Tag[]): Record<string, string | number | boolean> {\n  const result: Record<string, string | number | boolean> = {};\n\n  for (const item of arr) {\n    switch (item.type) {\n    case 'string':\n      result[item.key] = item.value as string;\n      break;\n    case 'int64':\n      result[item.key] = parseInt(item.value as string, 10);\n      break;\n    case 'float64':\n      result[item.key] = parseFloat(item.value as string);\n      break;\n    case 'bool':\n      result[item.key] = item.value === 'true';\n      break;\n    default:\n      result[item.key] = item.value;\n    }\n  }\n\n  return result;\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./TraceChecklist.vue?vue&type=style&index=0&id=7139a8b0&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"29f75efb\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./MetricsChecklist.vue?vue&type=style&index=0&id=bc826a2a&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"b7c178a2\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./policies.kubewarden.io.policyserver.vue?vue&type=style&index=0&id=71bb3388&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"587c4bcd\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".checklist__container[data-v-bc826a2a]{display:flex;justify-content:center;flex-direction:column;border:1px solid var(--border);padding:10px}.checklist__config[data-v-bc826a2a],.checklist__step[data-v-bc826a2a]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.checklist__step[data-v-bc826a2a]{min-height:40px}.conflicting-banner[data-v-bc826a2a]{display:flex;flex-direction:column}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<script>\nimport { mapGetters } from 'vuex';\nimport isEmpty from 'lodash/isEmpty';\nimport semver from 'semver';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\nimport { CATALOG, SERVICE } from '@shell/config/types';\nimport { KUBERNETES } from '@shell/config/labels-annotations';\nimport ResourceFetch from '@shell/mixins/resource-fetch';\nimport { allHash } from '@shell/utils/promise';\n\nimport { BadgeState } from '@components/BadgeState';\nimport { Banner } from '@components/Banner';\nimport Loading from '@shell/components/Loading';\nimport SortableTable from '@shell/components/SortableTable';\n\nimport { TRACE_HEADERS } from '@kubewarden/config/table-headers';\nimport { KUBEWARDEN, KUBEWARDEN_CHARTS, MODE_MAP, OPERATION_MAP } from '@kubewarden/types';\nimport { jaegerTraces } from '@kubewarden/modules/jaegerTracing';\nimport { isAdminUser } from '@kubewarden/utils/permissions';\nimport { formatDuration } from '@kubewarden/utils/duration-format';\n\nimport TraceChecklist from './TraceChecklist';\n\ndayjs.extend(relativeTime);\n\nexport default {\n  props: {\n    resource: {\n      type:    String,\n      default: () => ''\n    },\n    relatedPolicies: {\n      type:    Array,\n      default: () => []\n    },\n    policy: {\n      type:    Object,\n      default: () => {}\n    }\n  },\n\n  components: {\n    BadgeState,\n    Banner,\n    Loading,\n    SortableTable,\n    TraceChecklist\n  },\n\n  mixins: [ResourceFetch],\n\n  async fetch() {\n    await this.fetchData();\n  },\n\n  data() {\n    return {\n      MODE_MAP,\n      TRACE_HEADERS,\n      OPERATION_MAP,\n\n      isAdminUser: false,\n      permissions: {\n        policyServer: false,\n        app:          false,\n        clusterRepo:  false,\n        service:      false\n      },\n\n      specificValidations:      null,\n      outdatedTelemetrySpec:    false,\n      unsupportedTelemetrySpec: false,\n      incompleteTelemetrySpec:  false\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n    ...mapGetters({\n      charts:           'catalog/charts',\n      refreshingCharts: 'kubewarden/refreshingCharts'\n    }),\n\n    allApps() {\n      return this.$store.getters['cluster/all'](CATALOG.APP);\n    },\n\n    allServices() {\n      return this.$store.getters['cluster/all'](SERVICE);\n    },\n\n    controllerApp() {\n      return this.allApps?.find(\n        (app) => app?.spec?.chart?.metadata?.name === KUBEWARDEN_CHARTS.CONTROLLER\n      );\n    },\n\n    controllerChart() {\n      return this.charts?.find(\n        (chart) => chart?.chartName === KUBEWARDEN_CHARTS.CONTROLLER\n      );\n    },\n\n    groupField() {\n      return this.isPolicyServer ? 'policy_id' : null;\n    },\n\n    isPolicyServer() {\n      return this.resource === KUBEWARDEN.POLICY_SERVER;\n    },\n\n    emptyPolicies() {\n      return this.resource === KUBEWARDEN.POLICY_SERVER ? isEmpty(this.relatedPolicies) : isEmpty(this.policy);\n    },\n\n    emptyTraces() {\n      return isEmpty(this.filteredValidations);\n    },\n\n    emptyTracesLabel() {\n      return this.resource === KUBEWARDEN.POLICY_SERVER ? 'kubewarden.tracing.noRelatedTraces' : 'kubewarden.tracing.noTraces';\n    },\n\n    hasAvailability() {\n      return this.isAdminUser || Object.values(this.permissions).every((value) => value);\n    },\n\n    rowsPerPage() {\n      return this.isPolicyServer ? 40 : 20;\n    },\n\n    tracingConfiguration() {\n      if (!this.controllerApp?.values) {\n        return null;\n      }\n\n      const version = this.controllerApp?.spec?.chart?.metadata?.version;\n      const telemetry = this.controllerApp?.values?.telemetry;\n\n      if (semver.gte(version, '4.0.0-0')) {\n        const tracingIsUndefinedOrBoolean =\n          telemetry?.tracing === undefined || typeof telemetry?.tracing === 'boolean';\n        const endpointIsDefined = !!telemetry?.sidecar?.tracing?.jaeger?.endpoint;\n\n        if (telemetry?.mode === 'custom') {\n          this.handleTracingChecklist('unsupportedTelemetrySpec', true);\n\n          return null;\n        }\n        if (!tracingIsUndefinedOrBoolean) {\n          this.handleTracingChecklist('outdatedTelemetrySpec', true);\n\n          return null;\n        }\n        if (telemetry?.tracing === true && !endpointIsDefined) {\n          this.handleTracingChecklist('incompleteTelemetrySpec', true);\n\n          return null;\n        }\n        if (telemetry?.tracing !== true) {\n          return null;\n        }\n\n        return telemetry?.sidecar?.tracing;\n      } else {\n        return telemetry?.tracing?.enabled;\n      }\n    },\n\n    jaegerServices() {\n      return this.allServices?.filter(\n        (svc) => svc?.metadata?.labels?.['app.kubernetes.io/part-of'] === 'jaeger'\n      );\n    },\n\n    jaegerQuerySvc() {\n      if (!isEmpty(this.jaegerServices)) {\n        return this.jaegerServices.find((svc) => {\n          const ports = svc?.spec?.ports;\n\n          if (ports.length) {\n            return ports.find((p) => p.port === 16685 || p.port === 16686);\n          }\n        });\n      }\n\n      return null;\n    },\n\n    openTelemetryServices() {\n      return this.allServices?.filter(\n        (svc) => svc?.metadata?.labels?.[KUBERNETES.MANAGED_NAME] === 'opentelemetry-operator'\n      );\n    },\n\n    openTelSvc() {\n      if (!isEmpty(this.openTelemetryServices)) {\n        return this.openTelemetryServices.find((svc) => {\n          const ports = svc?.spec?.ports;\n\n          if (ports.length) {\n            return ports.find((p) => p.port === 8080);\n          }\n        });\n      }\n\n      return null;\n    },\n\n    showChecklist() {\n      return (!this.openTelSvc || !this.jaegerQuerySvc || !this.tracingConfiguration);\n    },\n\n    showTable() {\n      return (!this.emptyPolicies && !this.showChecklist && !this.emptyTraces);\n    },\n\n    filteredValidations() {\n      if (!isEmpty(this.specificValidations)) {\n        return this.specificValidations.flatMap((v) => {\n          return this.currentCluster?.id === v.cluster ? v.traces : [];\n        });\n      }\n\n      return [];\n    }\n  },\n\n  methods: {\n    async fetchData() {\n      this.setAdminUser();\n      this.setPermissions();\n      await this.fetchCanListResources();\n      await this.handleJaegerTracing();\n      await this.fetchControllerAppValues();\n    },\n\n    setAdminUser() {\n      this.isAdminUser = isAdminUser(this.$store.getters);\n    },\n\n    setPermissions() {\n      const types = {\n        policyServer: { type: KUBEWARDEN.POLICY_SERVER },\n        app:          { type: CATALOG.APP },\n        clusterRepo:  { type: CATALOG.CLUSTER_REPO },\n        service:      { type: SERVICE }\n      };\n\n      Object.entries(types).forEach(([key, value]) => {\n        if (this.$store.getters['cluster/canList'](value)) {\n          this.permissions[key] = true;\n        }\n      });\n    },\n\n    async fetchCanListResources() {\n      const canListTypes = [CATALOG.APP, CATALOG.CLUSTER_REPO, SERVICE];\n      const promises = [];\n\n      canListTypes.forEach((type) => {\n        if (this.$store.getters['cluster/canList'](type)) {\n          promises.push(this.$fetchType(type));\n        }\n      });\n\n      await allHash(promises);\n    },\n\n    async handleJaegerTracing() {\n      if (this.jaegerQuerySvc) {\n        const options = {\n          store:           this.$store,\n          queryService:    this.jaegerQuerySvc,\n          resource:        this.resource,\n          relatedPolicies: null,\n          policy:          null\n        };\n\n        if (this.resource === KUBEWARDEN.POLICY_SERVER) {\n          options.relatedPolicies = this.relatedPolicies;\n        } else {\n          options.policy = this.policy;\n        }\n\n        this.specificValidations = await jaegerTraces(options);\n      }\n    },\n\n    async fetchControllerAppValues() {\n      if (this.controllerApp) {\n        await this.controllerApp.fetchValues(true);\n      }\n    },\n\n    modeColor(mode) {\n      return this.MODE_MAP[mode];\n    },\n\n    opColor(op) {\n      return this.OPERATION_MAP[op];\n    },\n\n    formatTime(time) {\n      return dayjs(time / 1000);\n    },\n\n    duration(duration) {\n      return formatDuration(duration);\n    },\n\n    handleTracingChecklist(prop, val) {\n      this[prop] = val;\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending || refreshingCharts\" mode=\"relative\" />\n  <div v-else>\n    <Banner\n      v-if=\"!hasAvailability\"\n      color=\"error\"\n      class=\"mt-20 mb-20\"\n      data-testid=\"kw-unavailability-banner\"\n      :label=\"t('kubewarden.unavailability.banner', { type: t('kubewarden.unavailability.type.tracingDashboard') })\"\n    />\n\n    <TraceChecklist\n      v-else-if=\"showChecklist\"\n      :controller-app=\"controllerApp\"\n      :controller-chart=\"controllerChart\"\n      :tracing-configuration=\"tracingConfiguration\"\n      :jaeger-query-svc=\"jaegerQuerySvc\"\n      :open-tel-svc=\"openTelSvc\"\n      :outdated-telemetry-spec=\"outdatedTelemetrySpec\"\n      :unsupported-telemetry-spec=\"unsupportedTelemetrySpec\"\n      :incomplete-telemetry-spec=\"incompleteTelemetrySpec\"\n    />\n\n    <Banner\n      v-else-if=\"!showChecklist && emptyPolicies\"\n      color=\"error\"\n      :label=\"t('kubewarden.tracing.noRelatedPolicies')\"\n    />\n\n    <SortableTable\n      v-else-if=\"showTable\"\n      :rows=\"filteredValidations\"\n      :headers=\"TRACE_HEADERS\"\n      :table-actions=\"false\"\n      :row-actions=\"false\"\n      key-field=\"id\"\n      default-sort-by=\"startTime\"\n      :sub-expandable=\"true\"\n      :sub-expand-column=\"true\"\n      :sub-rows=\"true\"\n      :paging=\"true\"\n      :rows-per-page=\"rowsPerPage\"\n    >\n      <template #col:mode=\"{row}\">\n        <td>\n          <BadgeState\n            :label=\"row.mode\"\n            :color=\"modeColor(row.mode)\"\n            class=\"text-capitalize\"\n          />\n        </td>\n      </template>\n\n      <template #col:name=\"{row}\">\n        <td class=\"text-bold\">\n          {{ row.name }}\n        </td>\n      </template>\n\n      <template #col:namespace=\"{row}\">\n        <td>\n          {{ row.namespace ? row.namespace : '-' }}\n        </td>\n      </template>\n\n      <template #col:startTime=\"{row}\">\n        <td>\n          {{ formatTime(row.startTime) }}\n        </td>\n      </template>\n\n      <template #col:duration=\"{row}\">\n        <td>\n          {{ duration(row.duration) }}\n        </td>\n      </template>\n\n      <template #sub-row=\"{row, fullColspan}\">\n        <td :colspan=\"fullColspan\" class=\"sub-row\">\n          <div class=\"details\">\n            <section class=\"col\">\n              <div class=\"title\">Response Message</div>\n              <span class=\"text-info text-capitalize\">\n                {{ row.responseMessage ? row.responseMessage : '-' }}\n              </span>\n            </section>\n            <section class=\"col\">\n              <div class=\"title\">Response Code</div>\n              <span class=\"text-info\">\n                {{ row.responseCode ? row.responseCode : '-' }}\n              </span>\n            </section>\n            <section class=\"col\">\n              <div class=\"title\">Mutated</div>\n              <span class=\"text-info\">\n                {{ row.mutated }}\n              </span>\n            </section>\n          </div>\n        </td>\n      </template>\n    </SortableTable>\n\n    <Banner\n      v-else\n      color=\"warning\"\n      :label=\"t(emptyTracesLabel)\"\n    />\n  </div>\n</template>\n","import dayjs from 'dayjs';\nimport _dropWhile from 'lodash/dropWhile';\nimport _round from 'lodash/round';\nimport _duration from 'dayjs/plugin/duration';\n\ndayjs.extend(_duration);\n\nexport const STANDARD_DATE_FORMAT = 'YYYY-MM-DD';\nexport const STANDARD_TIME_FORMAT = 'HH:mm';\nexport const STANDARD_DATETIME_FORMAT = 'MMMM D YYYY, HH:mm:ss.SSS';\n\n/** @constant 1ms as the number of microseconds, which is the precision of Jaeger timestamps */\nexport const ONE_MILLISECOND = 1000 * 1;\n\nconst ONE_SECOND = 1000 * ONE_MILLISECOND;\nconst ONE_MINUTE = 60 * ONE_SECOND;\nconst ONE_HOUR = 60 * ONE_MINUTE;\nconst ONE_DAY = 24 * ONE_HOUR;\n\nconst UNIT_STEPS: { unit: string; microseconds: number; ofPrevious: number }[] = [\n  {\n    unit:         'd',\n    microseconds: ONE_DAY,\n    ofPrevious:   24\n  },\n  {\n    unit:         'h',\n    microseconds: ONE_HOUR,\n    ofPrevious:   60\n  },\n  {\n    unit:         'm',\n    microseconds: ONE_MINUTE,\n    ofPrevious:   60\n  },\n  {\n    unit:         's',\n    microseconds: ONE_SECOND,\n    ofPrevious:   1000\n  },\n  {\n    unit:         'ms',\n    microseconds: ONE_MILLISECOND,\n    ofPrevious:   1000\n  },\n  {\n    unit:         'μs',\n    microseconds: 1,\n    ofPrevious:   1000\n  },\n];\n\nexport function formatDuration(duration: number): string {\n  // Drop all units that are too large except the last one\n  const [primaryUnit, secondaryUnit] = _dropWhile(\n    UNIT_STEPS,\n    ({ microseconds }, index) => index < UNIT_STEPS.length - 1 && microseconds > duration\n  );\n\n  if (primaryUnit.ofPrevious === 1000) {\n    // If the unit is decimal based, display as a decimal\n    return `${ _round(duration / primaryUnit.microseconds, 2) }${ primaryUnit.unit }`;\n  }\n\n  const primaryValue = Math.floor(duration / primaryUnit.microseconds);\n  const primaryUnitString = `${ primaryValue }${ primaryUnit.unit }`;\n  const secondaryValue = Math.round((duration / secondaryUnit.microseconds) % primaryUnit.ofPrevious);\n  const secondaryUnitString = `${ secondaryValue }${ secondaryUnit.unit }`;\n\n  return secondaryValue === 0 ? primaryUnitString : `${ primaryUnitString } ${ secondaryUnitString }`;\n}","<script>\nimport { mapGetters } from 'vuex';\n\nimport { CATALOG } from '@shell/config/labels-annotations';\nimport {\n  REPO_TYPE, REPO, CHART, NAME, VERSION, NAMESPACE\n} from '@shell/config/query-params';\n\nimport { Banner } from '@components/Banner';\n\nexport default {\n  props: {\n    controllerApp: {\n      type:    Object,\n      default: null\n    },\n    controllerChart: {\n      type:    Object,\n      default: null\n    },\n    tracingConfiguration: {\n      type:    Object,\n      default: null\n    },\n    jaegerQuerySvc: {\n      type:    Object,\n      default: null\n    },\n    openTelSvc: {\n      type:    Object,\n      default: null\n    },\n    outdatedTelemetrySpec: {\n      type:    Boolean,\n      default: false\n    },\n    unsupportedTelemetrySpec: {\n      type:    Boolean,\n      default: false\n    },\n    incompleteTelemetrySpec: {\n      type:    Boolean,\n      default: false\n    }\n  },\n\n  components: { Banner },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n\n    controllerLinkTooltip() {\n      if (!this.openTelSvc || !this.jaegerQuerySvc) {\n        return this.t('kubewarden.monitoring.prerequisites.tooltips.prerequisites');\n      }\n\n      if (!this.controllerApp || !this.controllerChart) {\n        return this.t('kubewarden.monitoring.prerequisites.tooltips.chartError', { chart: 'Kubewarden Controller' }, true);\n      }\n\n      return null;\n    },\n\n    controllerLinkDisabled() {\n      return !this.openTelSvc || !this.jaegerQuerySvc || !this.controllerApp || !this.controllerChart;\n    },\n\n    tracingEnabled() {\n      if (this.tracingConfiguration) {\n        return this.tracingConfiguration.enabled;\n      }\n\n      return null;\n    }\n  },\n\n  methods: {\n    badgeIcon(prop) {\n      return {\n        'icon-dot-open':  !prop,\n        'icon-checkmark': prop,\n        'text-success':   prop\n      };\n    },\n\n    controllerAppRoute() {\n      if (this.controllerApp) {\n        const metadata = this.controllerApp.spec?.chart?.metadata;\n\n        const query = {\n          [NAMESPACE]: metadata?.annotations?.[CATALOG.NAMESPACE],\n          [NAME]:      metadata?.annotations?.[CATALOG.RELEASE_NAME],\n          [VERSION]:   metadata?.annotations?.['catalog.cattle.io/upstream-version'],\n          [REPO]:      metadata?.annotations?.[CATALOG.SOURCE_REPO_NAME],\n          [REPO_TYPE]: metadata?.annotations?.[CATALOG.SOURCE_REPO_TYPE],\n          [CHART]:     metadata?.name\n        };\n\n        this.$router.push({\n          name:   'c-cluster-apps-charts-install',\n          params: { cluster: this.currentCluster?.id || '_' },\n          query,\n        });\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <p class=\"checklist__description mb-20\" data-testid=\"kw-tracing-checklist-description\">\n      {{ t('kubewarden.tracing.description') }}\n    </p>\n    <div class=\"checklist__prereq mb-20\">\n      <h2>{{ t('kubewarden.tracing.prerequisites.label') }}</h2>\n      <p>{{ t('kubewarden.tracing.prerequisites.description') }}</p>\n    </div>\n    <Banner\n      color=\"warning\"\n      :label=\"t('kubewarden.tracing.prerequisites.warning')\"\n    />\n    <div class=\"checklist__container mt-20 mb-20\">\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-tracing-checklist-step-open-tel\">\n        <i class=\"icon mr-10\" :class=\"badgeIcon(openTelSvc)\" />\n        <p v-clean-html=\"t('kubewarden.tracing.openTelemetry', {}, true)\" />\n      </div>\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-tracing-checklist-step-jaeger\">\n        <i class=\"icon mr-10\" :class=\"badgeIcon(jaegerQuerySvc)\" />\n        <p v-clean-html=\"t('kubewarden.tracing.jaeger', {}, true)\" p />\n      </div>\n\n      <!-- Telemetry banners -->\n      <div>\n        <Banner\n          v-if=\"outdatedTelemetrySpec\"\n          color=\"error\"\n          :label=\"t('kubewarden.tracing.prerequisites.outdated')\"\n        />\n        <Banner\n          v-if=\"unsupportedTelemetrySpec\"\n          color=\"error\"\n          :label=\"t('kubewarden.tracing.prerequisites.unsupported')\"\n        />\n        <Banner\n          v-if=\"incompleteTelemetrySpec\"\n          color=\"error\"\n          :label=\"t('kubewarden.tracing.prerequisites.incomplete')\"\n        />\n      </div>\n\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-tracing-checklist-step-config\">\n        <i class=\"icon mr-10\" :class=\"badgeIcon(tracingEnabled)\" />\n        <div class=\"checklist__config\">\n          <p v-clean-html=\"t('kubewarden.tracing.config.label', {}, true)\" />\n          <button\n            v-clean-tooltip=\"controllerLinkTooltip\"\n            data-testid=\"kw-tracing-checklist-step-config-button\"\n            class=\"btn role-primary ml-10\"\n            :disabled=\"controllerLinkDisabled\"\n            @click=\"controllerAppRoute\"\n          >\n            {{ t(\"kubewarden.tracing.config.link\") }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.checklist {\n  &__container {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    border: 1px solid var(--border);\n    padding: 10px;\n  }\n\n  &__step, &__config {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n  }\n\n  &__step {\n    min-height: 40px;\n  }\n}\n</style>","import { render } from \"./TraceChecklist.vue?vue&type=template&id=7139a8b0&scoped=true\"\nimport script from \"./TraceChecklist.vue?vue&type=script&lang=js\"\nexport * from \"./TraceChecklist.vue?vue&type=script&lang=js\"\n\nimport \"./TraceChecklist.vue?vue&type=style&index=0&id=7139a8b0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7139a8b0\"]])\n\nexport default __exports__","import { render } from \"./TraceTable.vue?vue&type=template&id=536683d8\"\nimport script from \"./TraceTable.vue?vue&type=script&lang=js\"\nexport * from \"./TraceTable.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\nimport { mapGetters } from 'vuex';\nimport isEmpty from 'lodash/isEmpty';\n\nimport { _CREATE } from '@shell/config/query-params';\nimport { monitoringStatus } from '@shell/utils/monitoring';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n\nimport Markdown from '@shell/components/Markdown';\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\nimport Tab from '@shell/components/Tabbed/Tab';\n\nimport { ARTIFACTHUB_PKG_ANNOTATION } from '@kubewarden/types';\n\nimport MetricsTab from '@kubewarden/components/MetricsTab';\nimport RulesTable from '@kubewarden/components/RulesTable';\nimport TraceTable from '@kubewarden/components/TraceTable';\n\nexport default {\n  name: 'PolicyDetail',\n\n  components: {\n    Markdown,\n    MetricsTab,\n    ResourceTabs,\n    RulesTable,\n    Tab,\n    TraceTable\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE,\n    },\n\n    resource: {\n      type:    String,\n      default: null\n    },\n\n    value: {\n      type:    Object,\n      default: () => {},\n    },\n  },\n\n  async mounted() {\n    if (this.value?.metadata?.annotations?.[ARTIFACTHUB_PKG_ANNOTATION]) {\n      try {\n        const artifactHubPackage = await this.value.artifactHubPackageVersion();\n\n        if (artifactHubPackage && !artifactHubPackage.error && artifactHubPackage.readme) {\n          this.policyReadme = JSON.parse(JSON.stringify(artifactHubPackage.readme));\n        }\n      } catch (e) {\n        console.warn(`Unable to fetch artifacthub package: ${ e }`);\n      }\n    }\n  },\n\n  data() {\n    return { policyReadme: null };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n    ...monitoringStatus(),\n\n    dashboardVars() {\n      return { policy_name: `clusterwide-${ this.value?.id }` };\n    },\n\n    hasRelationships() {\n      return !!this.value?.metadata?.relationships;\n    },\n\n    hasRules() {\n      return !isEmpty(this.rulesRows?.[0]);\n    },\n\n    rulesRows() {\n      return this.value?.spec?.rules;\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"mb-20\">\n      <h3>{{ t('namespace.resources') }}</h3>\n    </div>\n    <ResourceTabs :value=\"value\" data-testid=\"kw-policy-detail-tabs\" :mode=\"mode\" :need-related=\"hasRelationships\">\n      <Tab v-if=\"policyReadme\" name=\"policy-readme\" label=\"Readme\" :weight=\"99\">\n        <Markdown v-model:value=\"policyReadme\" data-testid=\"kw-policy-detail-readme\" />\n      </Tab>\n\n      <Tab v-if=\"hasRules\" name=\"policy-rules\" label=\"Rules\" :weight=\"98\">\n        <RulesTable :rows=\"rulesRows\" data-testid=\"kw-policy-detail-rules-table\" />\n      </Tab>\n\n      <Tab name=\"policy-tracing\" label=\"Tracing\" :weight=\"97\">\n        <TraceTable :resource=\"resource\" :policy=\"value\" data-testid=\"kw-policy-detail-trace-table\" />\n      </Tab>\n\n      <Tab #default=\"props\" name=\"policy-metrics\" label=\"Metrics\" :weight=\"96\">\n        <MetricsTab :resource=\"resource\" :policy-obj=\"value\" :active=\"props.active\" />\n      </Tab>\n    </ResourceTabs>\n  </div>\n</template>\n","<script>\nimport { Banner } from '@components/Banner';\nimport SortableTable from '@shell/components/SortableTable';\n\nimport { RULE_HEADERS } from '@kubewarden/config/table-headers';\n\nexport default {\n  props: {\n    rows: {\n      type:     Array,\n      default:  () => []\n    }\n  },\n\n  components: {\n    Banner,\n    SortableTable\n  },\n\n  data() {\n    return { RULE_HEADERS };\n  },\n\n  methods: {\n    joinColumn(resource) {\n      return resource?.join(', ') || '';\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <SortableTable\n      v-if=\"rows.length > 0\"\n      data-testid=\"kw-policy-rules-sortable-table\"\n      :rows=\"rows\"\n      :headers=\"RULE_HEADERS\"\n      :table-actions=\"false\"\n      :row-actions=\"false\"\n      key-field=\"traceID\"\n      default-sort-by=\"startTime\"\n    >\n      <template #col:apiGroup=\"{row}\">\n        <td>\n          <span>{{ row.apiGroups || '-' }}</span>\n        </td>\n      </template>\n\n      <template #col:apiVersion=\"{row}\">\n        <td>\n          <span>{{ row.apiVersions || '-' }}</span>\n        </td>\n      </template>\n\n      <template #col:operations=\"{row}\">\n        <td>\n          <span>{{ joinColumn(row.operations) }}</span>\n        </td>\n      </template>\n\n      <template #col:resources=\"{row}\">\n        <td>\n          <span>{{ joinColumn(row.resources) }}</span>\n        </td>\n      </template>\n    </SortableTable>\n    <div v-else>\n      <Banner\n        class=\"type-banner mb-20 mt-0\"\n        color=\"warning\"\n        :label=\"t('kubewarden.policies.noRules')\"\n      />\n    </div>\n  </div>\n</template>\n","import { render } from \"./RulesTable.vue?vue&type=template&id=5f362615\"\nimport script from \"./RulesTable.vue?vue&type=script&lang=js\"\nexport * from \"./RulesTable.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./PolicyDetail.vue?vue&type=template&id=5a35877c\"\nimport script from \"./PolicyDetail.vue?vue&type=script&lang=js\"\nexport * from \"./PolicyDetail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".checklist__container[data-v-7139a8b0]{display:flex;justify-content:center;flex-direction:column;border:1px solid var(--border);padding:10px}.checklist__config[data-v-7139a8b0],.checklist__step[data-v-7139a8b0]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.checklist__step[data-v-7139a8b0]{min-height:40px}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","t","keys","Object","module","exports","_createBlock","_component_PolicyDetail","value","$props","mode","resource","$data","name","props","type","String","default","_CREATE","required","components","PolicyDetail","data","KUBEWARDEN","ADMISSION_POLICY","__exports__","render","___CSS_LOADER_EXPORT___","push","key","class","_ctx","$fetchState","pending","_component_Loading","_createElementBlock","_hoisted_1","policyGauges","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_toDisplayString","_hoisted_5","_Fragment","_renderList","group","_component_CountGauge","total","$options","relatedPoliciesTotal","useful","count","graphical","color","emptyTraces","_createCommentVNode","_hoisted_6","_hoisted_7","tracesGauges","traceGaugeTotals","_createVNode","_component_ResourceTabs","_withCtx","_component_Tab","label","weight","_component_ResourceTable","rows","relatedPolicies","headers","RELATED_HEADERS","groupable","groupPreference","row","_component_BadgeState","operation","_","_component_TraceTable","_component_MetricsTab","active","BadgeState","CountGauge","Loading","MetricsTab","ResourceTabs","ResourceTable","Tab","TraceTable","mixins","CreateEditView","fetch","hash","allHash","this","allRelatedPolicies","assignIfNotEmpty","prop","isEmpty","reloadRequired","POLICY_SERVER","computed","mapGetters","policyTraces","_group","mapPref","GROUP_RESOURCES","filteredTraces","filter","policyTraceObj","currentCluster","cluster","out","length","flatMap","traces","methods","hasNamespaceSelector","namespaceSelector","hasAvailability","showChecklist","_component_MetricsChecklist","cattleDashboardNs","conflictingGrafanaDashboards","controllerApp","controllerChart","kubewardenServiceMonitor","kubewardenGrafanaDashboards","metricsConfiguration","monitoringApp","monitoringChart","openTelSvc","policyObj","policyServerObj","outdatedTelemetrySpec","unsupportedTelemetrySpec","outdatedServiceMonitor","onUpdateServiceMonitors","updateServiceMonitors","onUpdateServiceMonitorLabels","updateServiceMonitorLabels","metricsProxy","_component_Banner","_component_DashboardMetrics","vars","policyName","async","grafanaProxy","config","store","grafana","grafanaService","base","metadata","namespace","proxy","path","handleGrowl","error","dispatch","SERVICE","root","findKubewardenDashboards","CONFIG_MAP","selector","addKubewardenDashboards","dashboardEnums","values","KubewardenDashboards","file","fileKey","existing","labels","KubewardenDashboardLabels","DASHBOARD","PART_OF","APP","GRAFANA_DASHBOARD","annotations","HelmAnnotations","NAME","NAMESPACE","configMapTemplate","JSON","stringify","save","findServiceMonitor","allServiceMonitors","policyServerName","spec","policyServer","find","sm","matchLabels","isPolicyServerResource","addKubewardenServiceMonitor","controllerNs","serviceMonitor","getters","MONITORING","SERVICEMONITOR","policyServerID","defaultLabels","app","serviceMonitorTemplate","apiVersion","kind","endpoints","interval","port","matchNames","serviceMonitorObj","isServiceMonitorOutOfDate","ps","psLabels","smLabels","newLabels","psIsNewStyle","smHasNewLabels","p","_normalizeClass","badgeIcon","disabled","onClick","_cache","$event","monitoringAppRoute","_createTextVNode","monitoringChartLink","_hoisted_8","monitoringLinkTooltip","_hoisted_9","_hoisted_10","_hoisted_11","_component_AsyncButton","updateServiceMonitorButtonDisabled","updateServiceMonitor","updateServiceMonitorsTooltip","_hoisted_12","_hoisted_13","serviceMonitorButtonDisabled","addServiceMonitor","serviceMonitorsTooltip","_hoisted_14","hasKubewardenDashboards","_hoisted_15","_hoisted_16","dashboardButtonDisabled","addDashboards","dashboardsTooltip","showConflictingDashboardsBanner","_hoisted_17","configMap","_component_router_link","to","detailLocation","_hoisted_18","_hoisted_19","_hoisted_20","controllerLinkDisabled","controllerAppRoute","_hoisted_21","controllerLinkTooltip","Array","kubewardenDashboards","Boolean","AsyncButton","Banner","chart","btnCb","$store","$emit","psName","err","isArray","emptyProp","goToInstall","query","VERSION","version","REPO","CATALOG","SOURCE_REPO_NAME","REPO_TYPE","SOURCE_REPO_TYPE","CHART","$router","params","RELEASE_NAME","DashboardMetrics","MetricsChecklist","ResourceFetch","fetchData","METRICS_TYPE","POLICY","isAdminUser","permissions","clusterRepo","service","CLUSTER_REPO","metricsService","debouncedRefreshCharts","watch","dashboardExists","charts","monitoringStatus","jaegerPolicyName","allApps","allRepos","allConfigMaps","allNamespaces","allPolicyServers","allServices","ns","KUBEWARDEN_CHARTS","CONTROLLER","chartName","monitoringServices","svc","every","telemetry","semver","metricsIsUndefinedOrBoolean","undefined","metrics","handleMetricsChecklist","enabled","openTelemetryServices","KUBERNETES","MANAGED_NAME","ports","policyServerSvcs","policyServerNames","findPolicyServerResource","missingDependencies","some","setAdminUser","setPermissions","initDebouncedRefreshCharts","fetchResourcesData","refreshChartsIfNeeded","handleGrafanaDashboard","fetchControllerAppValues","types","entries","forEach","debounce","init","refreshCharts","resourceMap","property","promises","reduce","acc","$fetchType","installed","_statusText","message","fetchValues","val","proxyUrl","view","links","idx","lastIndexOf","proxyUrlFromBase","slice","scheme","schemaNamePort","encodeURIComponent","cleanPath","replace","cleanBase","jaegerTraces","queryService","policy","time","jaegerTraceRequest","res","all","scaffoldPolicyTrace","console","warn","apiPath","lookbackTime","options","JAEGER_PATH","url","filterTraces","trace","validationSpan","spans","span","operationName","matchedTag","tags","tag","convertedTags","convertTagsToObject","traceID","allowed","startTime","duration","responseMessage","response_message","responseCode","response_code","mutated","updatedTrace","relatedPolicy","relatedTraces","arr","result","item","parseInt","parseFloat","content","__esModule","locals","add","refreshingCharts","_component_TraceChecklist","tracingConfiguration","jaegerQuerySvc","incompleteTelemetrySpec","emptyPolicies","showTable","_component_SortableTable","filteredValidations","TRACE_HEADERS","paging","rowsPerPage","modeColor","formatTime","fullColspan","colspan","emptyTracesLabel","dayjs","_duration","ONE_MILLISECOND","ONE_SECOND","ONE_MINUTE","ONE_HOUR","ONE_DAY","UNIT_STEPS","unit","microseconds","ofPrevious","formatDuration","primaryUnit","secondaryUnit","_dropWhile","index","_round","primaryValue","Math","floor","primaryUnitString","secondaryValue","round","secondaryUnitString","tracingEnabled","args","relativeTime","SortableTable","TraceChecklist","MODE_MAP","OPERATION_MAP","specificValidations","groupField","isPolicyServer","tracingIsUndefinedOrBoolean","tracing","endpointIsDefined","sidecar","jaeger","endpoint","handleTracingChecklist","jaegerServices","v","fetchCanListResources","handleJaegerTracing","canListTypes","opColor","op","hasRelationships","policyReadme","_component_Markdown","hasRules","_component_RulesTable","rulesRows","RULE_HEADERS","apiGroups","apiVersions","joinColumn","operations","resources","join","Markdown","RulesTable","mounted","ARTIFACTHUB_PKG_ANNOTATION","artifactHubPackage","artifactHubPackageVersion","readme","parse","dashboardVars","policy_name","relationships","rules"],"sourceRoot":""}