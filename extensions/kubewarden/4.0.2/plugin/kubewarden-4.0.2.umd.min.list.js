(("undefined"!==typeof self?self:this)["webpackChunkkubewarden_4_0_2"]=("undefined"!==typeof self?self:this)["webpackChunkkubewarden_4_0_2"]||[]).push([[715],{650:function(e,t,r){"use strict";r.r(t);var s=r(36758),n=r.n(s),o=r(40935),a=r.n(o),l=a()(n());l.push([e.id,".filter[data-v-6702db02]{display:flex;flex-direction:row;justify-content:flex-end;align-self:flex-end}.filter[data-v-6702db02]>*{margin:10px}.filter[data-v-6702db02]>:first-child{margin-left:0}.filter[data-v-6702db02]>:last-child{margin-right:0}@media only screen and (min-width:480px){.filter[data-v-6702db02]{width:100%}}@media only screen and (min-width:1281px){.filter[data-v-6702db02]{width:75%}}.policy__mode[data-v-6702db02]{display:flex;align-items:center}.policy__mode i[data-v-6702db02]{margin-left:5px;font-size:22px;color:var(--warning)}",""]),t["default"]=l},11925:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var s=r(9274);const n={key:1};function o(e,t,r,o,a,l){const i=(0,s.resolveComponent)("Loading"),c=(0,s.resolveComponent)("Banner"),u=(0,s.resolveComponent)("PolicyList");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(i,{key:0})):((0,s.openBlock)(),(0,s.createElementBlock)("div",n,[(0,s.createVNode)(c,{"data-testid":"kw-ap-list-banner",class:"type-banner mb-20 mt-0",color:"info",label:e.t("kubewarden.admissionPolicy.description")},null,8,["label"]),(0,s.createVNode)(u,{"data-testid":"kw-ap-policy-list",resource:r.resource,rows:l.rows,schema:r.schema},null,8,["resource","rows","schema"])]))}var a=r(9980),l=r(84409),i=r(97356),c={components:{Banner:a.l,Loading:l.A,PolicyList:i.A},props:{resource:{type:String,required:!0},schema:{type:Object,required:!0}},async fetch(){await this.$store.dispatch("cluster/findAll",{type:this.resource})},computed:{rows(){return this.$store.getters["cluster/all"](this.resource)}}},u=r(47433);const d=(0,u.A)(c,[["render",o]]);var p=d},14191:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var s=r(9274);const n={key:1};function o(e,t,r,o,a,l){const i=(0,s.resolveComponent)("Loading"),c=(0,s.resolveComponent)("DefaultsBanner"),u=(0,s.resolveComponent)("ResourceTable");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(i,{key:0})):((0,s.openBlock)(),(0,s.createElementBlock)("div",n,[l.hideBannerDefaults?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createBlock)(c,{key:0})),(0,s.createVNode)(u,{schema:r.schema,rows:l.rows,"data-testid":"kw-ps-resource-table"},null,8,["schema","rows"])]))}var a=r(35664),l=r(2841),i=r(84409),c=r(31400),u=r(56505),d=r(60929),p={components:{DefaultsBanner:d.A,Loading:i.A,ResourceTable:c.A},props:{resource:{type:String,required:!0},schema:{type:Object,required:!0}},async fetch(){await this.$store.dispatch("cluster/findAll",{type:this.resource}),this.$store.getters["cluster/canList"](a.W8.APP)&&(await this.$store.dispatch("catalog/load"),this.hideBannerDefaults||(this.apps=await this.$store.dispatch("cluster/findAll",{type:a.W8.APP})))},data(){return{apps:null}},computed:{defaultsApp(){return this.apps?.find((e=>e.spec?.chart?.metadata?.annotations?.[l.W8.RELEASE_NAME]===u.qp.RANCHER_DEFAULTS))},hideBannerDefaults(){return this.$store.getters["kubewarden/hideBannerDefaults"]||!!this.defaultsApp},rows(){return this.$store.getters["cluster/all"](this.resource)}}},h=r(47433);const m=(0,h.A)(p,[["render",o]]);var f=m},88682:function(e,t,r){var s=r(650);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var n=r(74825).A;n("6137d196",s,!0,{sourceMap:!1,shadowMode:!1})},97356:function(e,t,r){"use strict";r.d(t,{A:function(){return m}});var s=r(9274);const n={class:"filter"};function o(e,t,r,o,a,l){const i=(0,s.resolveComponent)("LabeledSelect"),c=(0,s.resolveComponent)("ResourceTable");return(0,s.openBlock)(),(0,s.createElementBlock)("div",null,[(0,s.createElementVNode)("div",n,[(0,s.createVNode)(i,{value:a.resources,"onUpdate:value":t[0]||(t[0]=e=>a.resources=e),clearable:!0,taggable:!0,multiple:!0,class:"filter__resources",label:"Search by Resource",options:l.resourceOptions},null,8,["value","options"]),(0,s.createVNode)(i,{value:a.mode,"onUpdate:value":t[1]||(t[1]=e=>a.mode=e),clearable:!0,searchable:!1,options:l.modeOptions,multiple:!1,placement:"bottom",class:"filter__mode",label:"Search by Mode"},null,8,["value","options"]),(0,s.createElementVNode)("button",{ref:"btn",class:"btn, btn-sm, role-primary",type:"button",onClick:t[2]||(t[2]=(...e)=>l.resetFilter&&l.resetFilter(...e))},(0,s.toDisplayString)(e.t("kubewarden.utils.resetFilter")),513)]),(0,s.createVNode)(c,{schema:r.schema,rows:l.filteredRows,headers:l.headers,"use-query-params-for-simple-filtering":!0},null,8,["schema","rows","headers"])])}var a=r(53435),l=r.n(a),i=r(74302),c=r(88697),u=r(31400),d={components:{LabeledSelect:c.A,ResourceTable:u.A},props:{resource:{type:String,required:!0},rows:{type:Array,required:!0},schema:{type:Object,required:!0}},data(){return{mode:null,resources:null}},created(){this.mode="All"},computed:{headers(){return this.$store.getters["type-map/headersFor"](this.schema)},filteredRows(){const e=this.rows||[],t=e.filter((e=>{const t=l()(e.spec.rules),r=t.flatMap((e=>e.resources)),s=e.spec.mode;if(this.mode&&"All"!==this.mode&&this.mode!==s)return!1;if(this.resources)for(const n of this.resources)if(!r.includes(n))return!1;return!0}));return(0,i.Ul)(t,["id"])},modeOptions(){const e=this.rows?.map((e=>e.spec?.mode))||[];return e.unshift("All"),[...new Set(e)]},resourceOptions(){return this.flattenRule("resources")}},methods:{flattenRule(e){const t=this.rows?.flatMap((t=>{const r=l()(t.spec?.rules);return r.flatMap((t=>t[e]))}));return[...new Set(t)]||[]},hasNamespaceSelector(e){return e.namespaceSelector},resetFilter(){this.resources=null,this.mode="All"}}},p=(r(88682),r(47433));const h=(0,p.A)(d,[["render",o],["__scopeId","data-v-6702db02"]]);var m=h},99521:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var s=r(9274);const n={key:1};function o(e,t,r,o,a,l){const i=(0,s.resolveComponent)("Loading"),c=(0,s.resolveComponent)("Banner"),u=(0,s.resolveComponent)("DefaultsBanner"),d=(0,s.resolveComponent)("PolicyList");return e.$fetchState.pending?((0,s.openBlock)(),(0,s.createBlock)(i,{key:0})):((0,s.openBlock)(),(0,s.createElementBlock)("div",n,[(0,s.createVNode)(c,{"data-testid":"kw-cap-list-banner",class:"type-banner mb-20 mt-0",color:"info",label:e.t("kubewarden.clusterAdmissionPolicy.description")},null,8,["label"]),l.kwDefaultsHelmChartSettingsCompatible?(0,s.createCommentVNode)("",!0):((0,s.openBlock)(),(0,s.createBlock)(u,{key:0,mode:"upgrade"})),(0,s.createVNode)(d,{"data-testid":"kw-cap-policy-list",resource:r.resource,rows:l.rows,schema:r.schema},null,8,["resource","rows","schema"])]))}var a=r(35664),l=r(9980),i=r(84409),c=r(2841),u=r(56505),d=r(2722),p=r.n(d);function h(e,t){return!p().gt(t,"1.4.1")||p().gt(e,"1.9.9")}var m=r(97356),f=r(60929),b={components:{Banner:l.l,Loading:i.A,PolicyList:m.A,DefaultsBanner:f.A},props:{resource:{type:String,required:!0},schema:{type:Object,required:!0}},async fetch(){this.$store.getters["cluster/canList"](a.W8.APP)&&this.$store.dispatch("cluster/findAll",{type:a.W8.APP}),this.$store.getters["cluster/canList"](a.hX)&&this.$store.dispatch("cluster/findAll",{type:a.hX}),await this.$store.dispatch("cluster/findAll",{type:this.resource})},computed:{rows(){return this.$store.getters["cluster/all"](this.resource)},allApps(){return this.$store.getters["cluster/all"](a.W8.APP)},kubewardenDefaultsApp(){return this.allApps?this.allApps?.find((e=>e.spec?.chart?.metadata?.annotations?.[c.W8.RELEASE_NAME]===u.qp.RANCHER_DEFAULTS||e.spec?.chart?.metadata?.name===u.j6.DEFAULTS)):null},kubewardenExtension(){const e=this.$store.getters["uiplugins/plugins"]||[];return e?.find((e=>e?.id?.includes(u.bp)))},kwDefaultsHelmChartSettingsCompatible(){const e=this.kubewardenDefaultsApp?.spec?.chart?.metadata?.version,t=this.kubewardenExtension?.version;return!e||!t||h(e,t)}}},y=r(47433);const w=(0,y.A)(b,[["render",o]]);var v=w}}]);
//# sourceMappingURL=kubewarden-4.0.2.umd.min.list.js.map