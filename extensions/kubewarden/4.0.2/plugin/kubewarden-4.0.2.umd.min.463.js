(("undefined"!==typeof self?self:this)["webpackChunkkubewarden_4_0_2"]=("undefined"!==typeof self?self:this)["webpackChunkkubewarden_4_0_2"]||[]).push([[463],{1463:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return D}});var a=r(9274),o=r(65359),n=r(3514),l=r.n(n),s=r(14220),c=r(87102),i=r(9980),d=r(82964),p=r(56505),u=r(65165),m=r(50634);const f={key:0,"data-testid":"resource-tab-loading",class:"pr-tab__loading"},b={key:1,class:"pr-tab__container"},g={key:0},y={key:1},v=["colspan"],_={class:"text-muted"},w={class:"details"},k={class:"col"},x={class:"title"},N={class:"col"},h={class:"title"},V={class:"col"},E={class:"title"};var C=(0,a.defineComponent)({__name:"ResourceTab",setup(e){const t=(0,o.Pj)();let r=null;const n=t.getters["i18n/t"],C=(0,a.ref)(null),S=(0,a.ref)(null),B=(0,a.ref)(!1),D=(0,a.ref)(u.QV),R=(0,a.reactive)({pending:!0}),I=(0,a.computed)((()=>S.value?.type===s.CU));function M(){if(r?.params?.resource&&r?.params?.id){const e=r?.params.namespace?`${r?.params.namespace}/${r?.params.id}`:r?.params.id;S.value=t.getters["cluster/byId"](r?.params.resource,e)}}async function T(){S.value&&(R.pending=!0,C.value=await(0,m.yf)(t,S.value)),R.pending=!1}function $(e,t,r=!1){if(I.value&&r){if(e.scope&&t in e.scope){const r=e.scope[t];return"string"===typeof r?r:"-"}return"-"}if(!l()(e)&&t in e){const r=e[t];return"string"===typeof r?r:"-"}return"-"}function z(e){const r=(0,m._Y)(t,e);if(r)return r}function A(e){return e.result&&e.severity?(0,m.M7)(e.severity):"bg-muted"}function j(e){if(e.result){const t=(0,m.q3)(e.result),r=t.includes("sizzle")?`${t}-bg`:t.replace(/text-/,"bg-");return r}return"bg-muted"}function O(e){return e.replace(/^clusterwide-/,"").replace(/^namespaced-[^-]+-/,"")}return(0,a.onMounted)((async()=>{if(!r){const e=(0,a.getCurrentInstance)();if(!e?.proxy?.$route)return;r=e.proxy.$route}M(),await(0,a.nextTick)(),await T();const e=t.getters["cluster/schemaFor"](p.$v.CLUSTER_ADMISSION_POLICY),o=t.getters["cluster/schemaFor"](p.$v.ADMISSION_POLICY);B.value=!(!e&&!o)})),(e,t)=>{const r=(0,a.resolveComponent)("router-link");return R.pending?((0,a.openBlock)(),(0,a.createElementBlock)("div",f,t[0]||(t[0]=[(0,a.createElementVNode)("i",{class:"icon icon-lg icon-spinner icon-spin m-20"},null,-1)]))):((0,a.openBlock)(),(0,a.createElementBlock)("div",b,[(0,a.createVNode)((0,a.unref)(d.A),{rows:C.value?.results,headers:D.value,"table-actions":!1,"row-actions":!1,"key-field":"policy","sub-expandable":!0,"sub-expand-column":!0,"sub-rows":!0,paging:!0,"rows-per-page":25,"extra-search-fields":["summary"],"default-sort-by":"status"},{"col:policy":(0,a.withCtx)((({row:e})=>[e.policy?((0,a.openBlock)(),(0,a.createElementBlock)("td",g,[B.value?((0,a.openBlock)(),(0,a.createBlock)(r,{key:0,to:z(e)},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(O(e.policy)),1)])),_:2},1032,["to"])):((0,a.openBlock)(),(0,a.createElementBlock)("span",y,(0,a.toDisplayString)(O(e.policy)),1))])):(0,a.createCommentVNode)("",!0)])),"col:severity":(0,a.withCtx)((({row:e})=>[(0,a.createElementVNode)("td",null,[(0,a.createVNode)((0,a.unref)(c.j),{label:$(e,"severity"),color:A(e)},null,8,["label","color"])])])),"col:status":(0,a.withCtx)((({row:e})=>[(0,a.createElementVNode)("td",null,[(0,a.createVNode)((0,a.unref)(c.j),{label:$(e,"result"),color:j(e)},null,8,["label","color"])])])),"sub-row":(0,a.withCtx)((({row:e,fullColspan:t})=>[(0,a.createElementVNode)("td",{colspan:t,class:"pr-tab__sub-row"},[e.message?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(i.l),{key:0,color:"info",class:"message"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",_,(0,a.toDisplayString)((0,a.unref)(n)("kubewarden.policyReporter.headers.policyReportsTab.message.title"))+": ",1),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.message),1)])),_:2},1024)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",w,[(0,a.createElementVNode)("section",k,[(0,a.createElementVNode)("div",x,(0,a.toDisplayString)((0,a.unref)(n)("kubewarden.policyReporter.headers.policyReportsTab.category")),1),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.category||"-"),1)]),(0,a.createElementVNode)("section",N,[(0,a.createElementVNode)("div",h,(0,a.toDisplayString)((0,a.unref)(n)("kubewarden.policyReporter.headers.policyReportsTab.properties.mutating")),1),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.properties["mutating"]||"-"),1)]),(0,a.createElementVNode)("section",V,[(0,a.createElementVNode)("div",E,(0,a.toDisplayString)((0,a.unref)(n)("kubewarden.policyReporter.headers.policyReportsTab.properties.validating")),1),(0,a.createElementVNode)("span",null,(0,a.toDisplayString)(e.properties["validating"]||"-"),1)])])],8,v)])),_:1},8,["rows","headers"])]))}}}),S=(r(90202),r(47433));const B=(0,S.A)(C,[["__scopeId","data-v-148d1445"]]);var D=B},74938:function(e,t,r){"use strict";r.r(t);var a=r(36758),o=r.n(a),n=r(40935),l=r.n(n),s=l()(o());s.push([e.id,".pr-tab__loading[data-v-148d1445]{display:flex;justify-content:center}.pr-tab__container .sizzle-warning-bg[data-v-148d1445]{background-color:#614ea2;color:#fff}.pr-tab__container .text-warning[data-v-148d1445]{color:var(--warning)!important}.pr-tab__container .text-darker[data-v-148d1445]{color:var(--dark)!important}.pr-tab__container .sizzle-warning[data-v-148d1445]{color:#614ea2}.pr-tab__sub-row[data-v-148d1445]{background-color:var(--body-bg);border-bottom:1px solid var(--sortable-table-top-divider);padding-left:1rem;padding-right:1rem}.pr-tab__sub-row .message[data-v-148d1445]{display:flex;flex-direction:column}.pr-tab__sub-row .details[data-v-148d1445]{display:flex;flex-direction:row}.pr-tab__sub-row .details .col[data-v-148d1445]{display:flex;flex-direction:column}.pr-tab__sub-row .details .col section[data-v-148d1445]{margin-bottom:1.5rem}.pr-tab__sub-row .details .col .title[data-v-148d1445]{color:var(--muted);margin-bottom:.5rem}",""]),t["default"]=s},90202:function(e,t,r){var a=r(74938);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var o=r(74825).A;o("51285298",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=kubewarden-4.0.2.umd.min.463.js.map