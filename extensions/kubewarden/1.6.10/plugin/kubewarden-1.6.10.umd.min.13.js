(("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_1_6_10"]=("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_1_6_10"]||[]).push([[13],{4415:function(e,t,r){var s=r("d4bc");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var a=r("0ed3").default;a("848c1bfe",s,!0,{sourceMap:!1,shadowMode:!1})},"4a98":function(e,t,r){"use strict";r("4415")},8564:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading",{attrs:{mode:"relative"}}):t("div",{staticClass:"pr-tab__container"},[[t("SortableTable",{attrs:{rows:e.reports,headers:e.tableHeaders,"table-actions":!1,"row-actions":!1,"key-field":"uid","group-by":e.isNamespaceResource?"kind":null,"sub-expandable":!0,"sub-expand-column":!0,"sub-rows":!0,paging:!0,"rows-per-page":25,"extra-search-fields":["summary"],"default-sort-by":"status"},scopedSlots:e._u([e.isNamespaceResource?{key:"col:kind",fn:function({row:r}){return[t("td",[e._v(e._s(e.getResourceValue(r,"kind",!0)))])]}}:null,e.isNamespaceResource?{key:"col:name",fn:function({row:r}){return[t("td",[e.canGetResourceLink(r)?[t("n-link",{attrs:{to:e.getResourceLink(r)}},[t("span",[e._v(e._s(e.getResourceValue(r,"name",!0)))])])]:[t("span",[e._v(e._s(e.getResourceValue(r,"name",!0)))])]],2)]}}:null,{key:"col:policy",fn:function({row:r}){return[r.policy&&r.policyName?t("td",[e.canGetKubewardenLinks?[t("n-link",{attrs:{to:e.getPolicyLink(r)}},[t("span",[e._v(e._s(r.policyName))])])]:[t("span",[e._v(e._s(r.policyName))])]],2):e._e()]}},{key:"col:severity",fn:function({row:r}){return[t("td",[t("BadgeState",{attrs:{label:e.getResourceValue(r,"severity"),color:e.severityColor(r)}})],1)]}},{key:"col:status",fn:function({row:r}){return[t("td",[t("BadgeState",{attrs:{label:e.getResourceValue(r,"result"),color:e.statusColor(r)}})],1)]}},{key:"sub-row",fn:function({row:r,fullColspan:s}){return[t("td",{staticClass:"pr-tab__sub-row",attrs:{colspan:s}},[r.message?t("Banner",{staticClass:"message",attrs:{color:"info"}},[t("span",{staticClass:"text-muted"},[e._v(e._s(e.t("kubewarden.policyReporter.headers.policyReportsTab.message.title"))+":")]),t("span",[e._v(e._s(r.message))])]):e._e(),t("div",{staticClass:"details"},[t("section",{staticClass:"col"},[t("div",{staticClass:"title"},[e._v(" "+e._s(e.t("kubewarden.policyReporter.headers.policyReportsTab.properties.mutating"))+" ")]),t("span",[e._v(" "+e._s(r.properties["mutating"]||"-")+" ")])]),t("section",{staticClass:"col"},[t("div",{staticClass:"title"},[e._v(" "+e._s(e.t("kubewarden.policyReporter.headers.policyReportsTab.properties.validating"))+" ")]),t("span",[e._v(" "+e._s(r.properties["validating"]||"-")+" ")])])])],1)]}}],null,!0)})]],2)},a=[],o=r("330a"),c=r.n(o),n=r("da25"),i=r("a8b9"),l=r("2359"),u=r("f17a"),d=r("6418"),p=r("15ca"),b=r("0fb1"),f=r("90cd"),_=r("5191"),v=r("ad2f"),g=r("ed89"),m=r("df4c"),h={props:{resource:{type:Object,required:!0}},components:{BadgeState:u["a"],Banner:d["a"],Loading:p["a"],SortableTable:b["b"]},mixins:[l["a"]],async fetch(){const e=await Object(v["c"])(this.$store,this.resource);if(this.reports=e||[],!c()(this.reports)){const e=[this.$fetchType(f["f"].ADMISSION_POLICY),this.$fetchType(f["f"].CLUSTER_ADMISSION_POLICY)];await Object(i["a"])(e)}},data(){return{colorForResult:v["a"],reports:[],resourceHeaders:_["c"].RESOURCE,namespaceHeaders:_["c"].NAMESPACE}},computed:{canGetKubewardenLinks(){const e=this.$store.getters["cluster/schemaFor"](f["f"].CLUSTER_ADMISSION_POLICY),t=this.$store.getters["cluster/schemaFor"](f["f"].ADMISSION_POLICY);return!(!e&&!t)},hasNamespace(){var e;return null===(e=this.resource)||void 0===e||null===(e=e.metadata)||void 0===e?void 0:e.namespace},hasReports(){return!c()(this.reports)},isNamespaceResource(){var e;return(null===(e=this.resource)||void 0===e?void 0:e.type)===n["g"]},tableHeaders(){return this.isNamespaceResource?this.namespaceHeaders:this.resourceHeaders}},methods:{canGetResourceLink(e){var t,r;const s=e.scope;if((null===(t=this.resource)||void 0===t?void 0:t.type)===n["g"]&&(null===(r=s.kind)||void 0===r?void 0:r.toLowerCase())===n["g"])return null;if(s){const e=Object.values(m).find(e=>s.kind===e.attributes.kind);var a;if(e)return this.$store.getters["cluster/schemaFor"](null===(a=s.kind)||void 0===a?void 0:a.toLowerCase());const t=Object(g["e"])(s);if(t)return this.$store.getters["cluster/schemaFor"](t)}return null},getResourceValue(e,t,r=!1){var s;return this.isNamespaceResource&&r?(null===(s=e.scope)||void 0===s?void 0:s[t])||"-":c()(e)?"-":e[t]||"-"},getPolicyLink(e){return Object(v["e"])(this.$store,e)},getResourceLink(e){return Object(v["f"])(e)},severityColor(e){return e.result?Object(v["b"])(e.severity):"bg-muted"},statusColor(e){if(e.result){const t=Object(v["a"])(e.result),r=t.includes("sizzle")?t.concat("-bg"):t.replace(/text-/,"bg-");return r}return"bg-muted"}}},y=h,w=(r("4a98"),r("d802")),k=Object(w["a"])(y,s,a,!1,null,"33cf2dc5",null);t["default"]=k.exports},d4bc:function(e,t,r){var s=r("5eaa");t=s(!1),t.push([e.i,".pr-tab__container .sizzle-warning-bg[data-v-33cf2dc5]{background-color:#614ea2;color:#fff}.pr-tab__container .text-warning[data-v-33cf2dc5]{color:var(--warning)!important}.pr-tab__container .text-darker[data-v-33cf2dc5]{color:var(--dark)!important}.pr-tab__container .sizzle-warning[data-v-33cf2dc5]{color:#614ea2}.pr-tab__sub-row[data-v-33cf2dc5]{background-color:var(--body-bg);border-bottom:1px solid var(--sortable-table-top-divider);padding-left:1rem;padding-right:1rem}.pr-tab__sub-row .message[data-v-33cf2dc5]{display:flex;flex-direction:column}.pr-tab__sub-row .details[data-v-33cf2dc5]{display:flex;flex-direction:row}.pr-tab__sub-row .details .col[data-v-33cf2dc5]{display:flex;flex-direction:column}.pr-tab__sub-row .details .col section[data-v-33cf2dc5]{margin-bottom:1.5rem}.pr-tab__sub-row .details .col .title[data-v-33cf2dc5]{color:var(--muted);margin-bottom:.5rem}",""]),e.exports=t}}]);
//# sourceMappingURL=kubewarden-1.6.10.umd.min.13.js.map