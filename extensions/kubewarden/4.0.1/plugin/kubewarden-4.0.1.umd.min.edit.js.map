{"version":3,"file":"kubewarden-4.0.1.umd.min.edit.js","mappings":"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","sources":["webpack://kubewarden-4.0.1/./edit/policies.kubewarden.io.admissionpolicy.vue?a87f","webpack://kubewarden-4.0.1/./edit/policies.kubewarden.io.policyserver.vue","webpack://kubewarden-4.0.1/./components/PolicyServer/Values.vue","webpack://kubewarden-4.0.1/./components/PolicyServer/Values.vue?b424","webpack://kubewarden-4.0.1/./edit/policies.kubewarden.io.policyserver.vue?3c62","webpack://kubewarden-4.0.1/./components/Policies/PolicyTable.vue?ac96","webpack://kubewarden-4.0.1/./components/Policies/Config.vue?d467","webpack://kubewarden-4.0.1/./components/Policies/Values.vue?abb6","webpack://kubewarden-4.0.1/./components/PolicyServer/Values.vue?a395","webpack://kubewarden-4.0.1/./components/Policies/Config.vue?38e7","webpack://kubewarden-4.0.1/./components/PolicyServer/Values.vue?1d97","webpack://kubewarden-4.0.1/./utils/object.ts","webpack://kubewarden-4.0.1/./components/Policies/Values.vue?0c7b","webpack://kubewarden-4.0.1/./edit/policies.kubewarden.io.admissionpolicy.vue?f63f","webpack://kubewarden-4.0.1/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue","webpack://kubewarden-4.0.1/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue?eb36","webpack://kubewarden-4.0.1/./components/Policies/Create.vue","webpack://kubewarden-4.0.1/./utils/string.ts","webpack://kubewarden-4.0.1/./modules/policyChart.ts","webpack://kubewarden-4.0.1/./components/SortableTableWrapper.vue?a897","webpack://kubewarden-4.0.1/./components/SortableTableWrapper.vue","webpack://kubewarden-4.0.1/./components/SortableTableWrapper.vue?c4e2","webpack://kubewarden-4.0.1/./components/Policies/PolicyTable.vue?d17f","webpack://kubewarden-4.0.1/./components/Policies/PolicyTable.vue","webpack://kubewarden-4.0.1/./components/Policies/PolicyTable.vue?e6cd","webpack://kubewarden-4.0.1/./components/Policies/Create.vue?0646","webpack://kubewarden-4.0.1/./components/Policies/Values.vue?0245","webpack://kubewarden-4.0.1/./components/Policies/Values.vue","webpack://kubewarden-4.0.1/./components/Policies/Values.vue?7801","webpack://kubewarden-4.0.1/./components/Policies/PolicyReadmePanel.vue?32ba","webpack://kubewarden-4.0.1/./components/Policies/PolicyReadmePanel.vue?8b91","webpack://kubewarden-4.0.1/./edit/policies.kubewarden.io.admissionpolicy.vue","webpack://kubewarden-4.0.1/./edit/policies.kubewarden.io.admissionpolicy.vue?1abe","webpack://kubewarden-4.0.1/./components/Policies/Create.vue?00e3","webpack://kubewarden-4.0.1/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue?a0c8","webpack://kubewarden-4.0.1/./components/Policies/PolicyReadmePanel.vue?cc71","webpack://kubewarden-4.0.1/./components/Policies/PolicyReadmePanel.vue","webpack://kubewarden-4.0.1/./components/Policies/PolicyReadmePanel.vue?bee5","webpack://kubewarden-4.0.1/./edit/policies.kubewarden.io.clusteradmissionpolicy.vue?1036","webpack://kubewarden-4.0.1/./components/Policies/PolicyTable.vue?5a0a","webpack://kubewarden-4.0.1/./components/Policies/Create.vue?8fdd","webpack://kubewarden-4.0.1/./components/Policies/Config.vue?dcfa","webpack://kubewarden-4.0.1/./components/Policies/Config.vue","webpack://kubewarden-4.0.1/./components/Policies/Config.vue?af1f"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-788fd4b0] .cru__footer{z-index:1}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<script>\nimport merge from 'lodash/merge';\n\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n\nimport { Banner } from '@components/Banner';\nimport CruResource from '@shell/components/CruResource';\nimport Loading from '@shell/components/Loading';\n\nimport { DEFAULT_POLICY_SERVER } from '@kubewarden/models/policies.kubewarden.io.policyserver';\nimport { KUBEWARDEN } from '@kubewarden/types';\n\nimport Values from '@kubewarden/components/PolicyServer/Values';\n\nexport default {\n  components: {\n    Banner,\n    CruResource,\n    Loading,\n    Values\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    realMode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    value: {\n      type:     Object,\n      required: true\n    },\n  },\n\n  async fetch() {\n    const schema = this.$store.getters[`cluster/schemaFor`](KUBEWARDEN.POLICY_SERVER);\n\n    await schema.fetchResourceFields();\n  },\n\n  data() {\n    return { chartValues: this.value };\n  },\n\n  created() {\n    if (this.isCreate) {\n      merge(this.chartValues, structuredClone(DEFAULT_POLICY_SERVER));\n    }\n  },\n\n  computed: {\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n\n    hasErrors() {\n      return this.errors?.length && Array.isArray(this.errors);\n    },\n\n    validationPassed() {\n      return !!this.chartValues?.metadata?.name;\n    }\n  },\n\n  methods: {\n    closeError(index) {\n      const errors = this.errors.filter((_, i) => i !== index);\n\n      this.errors = errors;\n    },\n\n    async finish(event) {\n      // Clean up the securityContexts \"seccompProfile\" property if there are no keys set on the object\n      const securityContexts = this.chartValues?.spec?.securityContexts;\n\n      if (securityContexts) {\n        ['pod', 'container'].forEach((type) => {\n          const seccompProfile = securityContexts[type]?.seccompProfile;\n\n          if (seccompProfile && Object.keys(seccompProfile).length === 0) {\n            delete securityContexts[type].seccompProfile;\n          }\n        });\n      }\n\n      try {\n        await this.save(event);\n      } catch (e) {\n        this.errors.push(e);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <CruResource\n    v-else\n    :resource=\"value\"\n    :mode=\"realMode\"\n    :can-yaml=\"false\"\n    :done-route=\"doneRoute\"\n    :errors=\"errors\"\n    :validation-passed=\"validationPassed\"\n    @finish=\"finish\"\n  >\n    <Values\n      :value=\"value\"\n      :chart-values=\"chartValues\"\n      :mode=\"mode\"\n    />\n    <div\n      v-if=\"hasErrors\"\n      id=\"cru-errors\"\n      class=\"cru__errors\"\n    >\n      <Banner\n        v-for=\"(err, i) in errors\"\n        :key=\"i\"\n        color=\"error\"\n        :data-testid=\"`error-banner${ i }`\"\n        :closable=\"true\"\n        @close=\"closeError(i)\"\n      >\n        {{ err }}\n      </Banner>\n    </div>\n  </CruResource>\n</template>\n","<script>\nimport { defineAsyncComponent, markRaw } from 'vue';\nimport merge from 'lodash/merge';\nimport isEmpty from 'lodash/isEmpty';\nimport jsyaml from 'js-yaml';\n\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport { SCHEMA } from '@shell/config/types';\nimport { createYaml } from '@shell/utils/create-yaml';\n\nimport ButtonGroup from '@shell/components/ButtonGroup';\nimport Loading from '@shell/components/Loading';\nimport ResourceCancelModal from '@shell/components/ResourceCancelModal';\nimport Tabbed from '@shell/components/Tabbed';\nimport YamlEditor, { EDITOR_MODES } from '@shell/components/YamlEditor';\n\nimport { VALUES_STATE, YAML_OPTIONS } from '@kubewarden/types';\n\nexport default {\n  name: 'Values',\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE\n    },\n\n    chartValues: {\n      type:     Object,\n      default:  () => {}\n    },\n\n    value: {\n      type:     Object,\n      required: true\n    }\n  },\n\n  components: {\n    ButtonGroup,\n    Loading,\n    ResourceCancelModal,\n    Tabbed,\n    YamlEditor\n  },\n\n  async created() {\n    const valuesYaml = this.generateYaml();\n\n    this.currentYamlValues = valuesYaml;\n    this.originalYamlValues = valuesYaml;\n\n    try {\n      await this.loadValuesComponent();\n    } catch (e) {\n      console.error(`Error loading values component: ${ e }`);\n    }\n  },\n\n  data() {\n    return {\n      YAML_OPTIONS,\n      currentYamlValues:   '',\n      originalYamlValues:  '',\n      showForm:            true,\n      configValues:        null,\n      showQuestions:       true,\n      showValuesComponent: false,\n      valuesComponent:     null,\n      preYamlOption:       VALUES_STATE.FORM,\n      yamlOption:          VALUES_STATE.FORM,\n      values:              this.chartValues\n    };\n  },\n\n  watch: {\n    yamlOption(neu, old) {\n      switch (neu) {\n      case VALUES_STATE.FORM:\n        this.showForm = true;\n        break;\n      case VALUES_STATE.YAML:\n        if (old === VALUES_STATE.FORM) {\n          this.currentYamlValues = this.generateYaml();\n          this.updateYamlValues();\n        }\n\n        this.showForm = false;\n        break;\n      }\n    },\n  },\n\n  computed: {\n    editorMode() {\n      return EDITOR_MODES.EDIT_CODE;\n    },\n\n    isCreate() {\n      return this.mode === _CREATE;\n    },\n\n    isEdit() {\n      return this.mode === _EDIT;\n    }\n  },\n\n  methods: {\n    generateYaml() {\n      const schemas = this.$store.getters['cluster/all'](SCHEMA);\n      const yaml = createYaml(schemas, this.value?.type, this.chartValues);\n\n      const lines = yaml.split('\\n');\n      const filteredLines = lines.filter((line) => !line.includes('Error loading schema for array'));\n      const modifiedYAML = filteredLines.join('\\n');\n\n      return modifiedYAML;\n    },\n\n    async loadValuesComponent() {\n      if (this.value.haveComponent('kubewarden/policy-server')) {\n        const importFn = this.value.importComponent('kubewarden/policy-server');\n\n        this.valuesComponent = markRaw(defineAsyncComponent(importFn));\n\n        this.showValuesComponent = true;\n      }\n    },\n\n    tabChanged() {\n      window.scrollTop = 0;\n    },\n\n    updateYamlValues() {\n      if (!isEmpty(this.currentYamlValues)) {\n        const parsed = jsyaml.load(this.currentYamlValues);\n\n        if (parsed) {\n          merge(this.chartValues, parsed);\n        }\n      }\n    },\n\n    handleValidationPassed(val) {\n      this.$emit('validation-passed', val);\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <div v-else class=\"scroll__container\">\n    <div v-if=\"isCreate || isEdit\" class=\"step__values__controls\">\n      <ButtonGroup\n        v-model:value=\"yamlOption\"\n        data-testid=\"kw-policy-server-config-yaml-option\"\n        :options=\"YAML_OPTIONS\"\n        inactive-class=\"bg-disabled btn-sm\"\n        active-class=\"bg-primary btn-sm\"\n      />\n    </div>\n    <div class=\"scroll__content\">\n      <template v-if=\"showForm\">\n        <Tabbed\n          ref=\"tabs\"\n          :side-tabs=\"true\"\n          class=\"step__values__content\"\n          @changed=\"tabChanged($event)\"\n        >\n          <component\n            :is=\"valuesComponent\"\n            v-model:value=\"values\"\n            :resource=\"value\"\n            :mode=\"mode\"\n            @validation-passed=\"handleValidationPassed\"\n          />\n        </Tabbed>\n      </template>\n      <template v-else-if=\"(isCreate || isEdit) && !showForm\">\n        <YamlEditor\n          ref=\"yaml\"\n          v-model:value=\"currentYamlValues\"\n          data-testid=\"kw-policy-server-config-yaml-editor\"\n          class=\"step__values__content\"\n          :scrolling=\"true\"\n          :initial-yaml-values=\"originalYamlValues\"\n          :editor-mode=\"editorMode\"\n          :hide-preview-buttons=\"true\"\n          @onChanges=\"updateYamlValues\"\n        />\n      </template>\n\n      <ResourceCancelModal\n        ref=\"cancelModal\"\n        data-testid=\"kw-policy-server-config-yaml-cancel\"\n        :is-cancel-modal=\"false\"\n        :is-form=\"true\"\n        @cancel-cancel=\"preYamlOption = yamlOption\"\n        @confirm-cancel=\"yamlOption = preYamlOption\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  $padding: 5px;\n  $height: 110px;\n  $side: 15px;\n  $margin: 10px;\n  $logo: 60px;\n\n  :deep(.step-container) {\n    height: auto;\n  }\n\n  .step {\n    &__basic {\n      display: flex;\n      flex-direction: column;\n      flex: 1;\n      overflow-x: hidden;\n\n      .spacer {\n        line-height: 2;\n      }\n    }\n\n    &__values {\n      &__controls {\n        display: flex;\n        margin-bottom: 15px;\n\n        & > *:not(:last-of-type) {\n          margin-right: $padding * 2;\n        }\n\n        &--spacer {\n          flex: 1\n        }\n\n      }\n\n      &__content {\n        flex: 1;\n\n        :deep(.tab-container) {\n          overflow: auto;\n        }\n      }\n    }\n  }\n</style>\n","import { render } from \"./Values.vue?vue&type=template&id=228d5d9f&scoped=true\"\nimport script from \"./Values.vue?vue&type=script&lang=js\"\nexport * from \"./Values.vue?vue&type=script&lang=js\"\n\nimport \"./Values.vue?vue&type=style&index=0&id=228d5d9f&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-228d5d9f\"]])\n\nexport default __exports__","import { render } from \"./policies.kubewarden.io.policyserver.vue?vue&type=template&id=07bf9d3b\"\nimport script from \"./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js\"\nexport * from \"./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./PolicyTable.vue?vue&type=style&index=0&id=2ce15ea6&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0b4a3990\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./Config.vue?vue&type=style&index=0&id=4f77d707&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3880525e\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".step__values__controls[data-v-7bf0db83]{display:flex;margin-bottom:15px}.step__values__controls[data-v-7bf0db83]>:not(:last-of-type){margin-right:10px}.step__values__content[data-v-7bf0db83],.step__values__controls--spacer[data-v-7bf0db83]{flex:1}.step__values__content[data-v-7bf0db83] .tab-container{overflow:auto}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-228d5d9f] .step-container{height:auto}.step__basic[data-v-228d5d9f]{display:flex;flex-direction:column;flex:1;overflow-x:hidden}.step__basic .spacer[data-v-228d5d9f]{line-height:2}.step__values__controls[data-v-228d5d9f]{display:flex;margin-bottom:15px}.step__values__controls[data-v-228d5d9f]>:not(:last-of-type){margin-right:10px}.step__values__content[data-v-228d5d9f],.step__values__controls--spacer[data-v-228d5d9f]{flex:1}.step__values__content[data-v-228d5d9f] .tab-container{overflow:auto}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".content[data-v-4f77d707]{position:relative;z-index:1}.banner__title[data-v-4f77d707]{padding-top:10px;margin-bottom:10px;border-bottom:1px solid var(--border);min-height:60px}.banner__readme-button[data-v-4f77d707]{padding:0 7px 0 0}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./Values.vue?vue&type=style&index=0&id=228d5d9f&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"26436fd6\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import isEmpty from 'lodash/isEmpty';\nimport isObject from 'lodash/isObject';\n\nexport function removeEmptyAttrs(obj: any): any {\n  Object.keys(obj).forEach((key: any) => {\n    const value = obj[key];\n\n    // Check for value being empty, null, or an empty array\n    if (value === undefined || value === null || value === '' || (Array.isArray(value) && !value.length)) {\n      delete obj[key];\n    } else if (isObject(value)) {\n      // Recursively clean the object\n      removeEmptyAttrs(value);\n\n      // After cleaning, if the object is empty, delete it\n      if (isEmpty(value)) {\n        delete obj[key];\n      }\n    }\n  });\n\n  // Added check: If the parent object is now empty, return null to signal removal\n  if (isEmpty(obj)) {\n    return null;\n  }\n\n  return obj;\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./Values.vue?vue&type=style&index=0&id=7bf0db83&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3e4b6f00\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./policies.kubewarden.io.admissionpolicy.vue?vue&type=style&index=0&id=788fd4b0&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"45ae5902\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","<script>\nimport { _CLONE, _CREATE, _EDIT } from '@shell/config/query-params';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport jsyaml from 'js-yaml';\n\nimport { handleGrowl } from '@kubewarden/utils/handle-growl';\nimport { removeEmptyAttrs } from '@kubewarden/utils/object';\nimport CruResource from '@shell/components/CruResource';\n\nimport Config from '@kubewarden/components/Policies/Config';\nimport Create from '@kubewarden/components/Policies/Create';\n\nexport default {\n  name: 'ClusterAdmissionPolicy',\n\n  props: {\n    value: {\n      type:     Object,\n      required: true\n    },\n\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    realMode: {\n      type:    String,\n      default: _EDIT\n    }\n  },\n\n  components: {\n    CruResource,\n    Config,\n    Create\n  },\n\n  mixins: [CreateEditView],\n\n  provide() {\n    return {\n      chartType: this.value.type,\n      realMode:  this.realMode\n    };\n  },\n\n  computed: {\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n\n    isClone() {\n      return this.realMode === _CLONE;\n    },\n\n    schema() {\n      return this.$store.getters['cluster/schemaFor'](this.value.type);\n    }\n  },\n\n  methods: {\n    async finish(event) {\n      try {\n        removeEmptyAttrs(this.value);\n\n        // remove metadata that identifies a CAP as a default policy, so that we can edit it later on the UI\n        // https://github.com/rancher/kubewarden-ui/issues/682\n        if (\n          this.isClone &&\n          this.value.isKubewardenDefaultPolicy &&\n          this.value?.metadata?.labels?.['app.kubernetes.io/name'] === 'kubewarden-defaults'\n        ) {\n          delete this.value?.metadata?.labels?.['app.kubernetes.io/name'];\n        }\n\n        await this.save(event, (this.schema?.linkFor('collection') || ''));\n      } catch (e) {\n        handleGrowl({\n          error: e,\n          store: this.$store\n        });\n      }\n    },\n\n    // this updates the \"value\" obj for CAP's\n    // with the updated values that came from the \"edit YAML\" scenario\n    updateYamlValuesFromEdit(val) {\n      // Parse the YAML input and remove any empty attributes.\n      const parsed = jsyaml.load(val);\n\n      removeEmptyAttrs(parsed);\n\n      /*\n       * We update the contents of this.value in place instead of replacing it with a new object.\n       *\n       * The reason for this is that the CreateEditView mixin directly works with the object\n       * referenced by this.value. Replacing the object (e.g., using `this.value = { ...parsed }`)\n       * would break that reference and prevent the mixin from observing the updated properties.\n       *\n       * Instead, we:\n       *   1. Delete any properties from this.value that no longer exist in the parsed object.\n       *   2. Merge the parsed object's properties into the existing this.value using Object.assign.\n       *\n       * See issue https://github.com/rancher/kubewarden-ui/issues/1155\n       */\n      Object.keys(this.value).forEach((key) => {\n        if (!Object.prototype.hasOwnProperty.call(parsed, key)) {\n          delete this.value[key];\n        }\n      });\n\n      Object.assign(this.value, parsed);\n\n      // Emit the updated object to inform the parent/component using v-model that a change has occurred.\n      this.$emit('input', this.value);\n    }\n  }\n};\n</script>\n\n\n\n<template>\n  <Create v-if=\"isCreate\" :value=\"value\" :mode=\"mode\" />\n  <CruResource\n    v-else\n    :errors=\"errors\"\n    :resource=\"value\"\n    :mode=\"realMode\"\n    :can-yaml=\"false\"\n    @finish=\"finish\"\n  >\n    <Config\n      :value=\"value\"\n      :mode=\"realMode\"\n      @updateYamlValues=\"updateYamlValuesFromEdit\"\n    />\n  </CruResource>\n</template>\n\n<style lang=\"scss\" scoped>\n:deep(.cru__footer) {\n  z-index: 1;\n}\n</style>\n","import { render } from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=template&id=6e954f10&scoped=true\"\nimport script from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js\"\nexport * from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js\"\n\nimport \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=style&index=0&id=6e954f10&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6e954f10\"]])\n\nexport default __exports__","<script>\nimport jsyaml from 'js-yaml';\nimport isEmpty from 'lodash/isEmpty';\nimport isEqual from 'lodash/isEqual';\nimport merge from 'lodash/merge';\nimport { toRaw } from 'vue';\nimport { mapGetters } from 'vuex';\n\nimport { _CREATE } from '@shell/config/query-params';\nimport { CATALOG, MANAGEMENT, NAMESPACE } from '@shell/config/types';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { saferDump } from '@shell/utils/create-yaml';\nimport { set } from '@shell/utils/object';\n\nimport { Banner } from '@components/Banner';\n\nimport AsyncButton from '@shell/components/AsyncButton';\nimport Loading from '@shell/components/Loading';\nimport Wizard from '@shell/components/Wizard';\n\nimport {\n  DEFAULT_POLICY,\n  KUBEWARDEN,\n  KUBEWARDEN_ANNOTATIONS,\n  KUBEWARDEN_CATALOG_ANNOTATIONS,\n  KUBEWARDEN_POLICY_ANNOTATIONS,\n  KUBEWARDEN_PRODUCT_NAME,\n  KUBEWARDEN_REPOS,\n  VALUES_STATE\n} from '@kubewarden/types';\nimport { handleGrowl } from '@kubewarden/utils/handle-growl';\nimport { removeEmptyAttrs } from '@kubewarden/utils/object';\nimport { trimTrailingSlash } from '@kubewarden/utils/string';\n\nimport PolicyReadmePanel from './PolicyReadmePanel';\nimport PolicyTable from './PolicyTable';\nimport Values from './Values';\n\nexport default ({\n  name: 'Create',\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE\n    },\n\n    value: {\n      type:     Object,\n      default:  () => ({})\n    },\n  },\n\n  components: {\n    AsyncButton,\n    Banner,\n    Loading,\n    Wizard,\n    PolicyTable,\n    PolicyReadmePanel,\n    Values\n  },\n\n  inject: ['chartType'],\n\n  mixins: [CreateEditView],\n\n  async created() {\n    this.isLoading = true;\n    const isReposLoaded = this.$store.getters['catalog/repos']?.length > 0;\n\n    if (!isReposLoaded && this.$store.getters['cluster/canList'](CATALOG.CLUSTER_REPO)) {\n      await this.$store.dispatch('cluster/findAll', { type: CATALOG.CLUSTER_REPO });\n    }\n\n    const isChartsLoaded = this.$store.getters['catalog/charts']?.length > 0;\n\n    if (!isChartsLoaded) {\n      await this.$store.dispatch('catalog/refresh');\n    }\n\n    this.value.apiVersion = `${ this.schema?.attributes?.group }.${ this.schema?.attributes?.version }`;\n    this.value.kind = this.schema?.attributes?.kind;\n\n    this.isLoading = false;\n  },\n\n  data() {\n    const OFFICIAL_REPOS = [\n      KUBEWARDEN_REPOS.POLICY_CATALOG,\n      KUBEWARDEN_REPOS.POLICY_CATALOG_REPO,\n      KUBEWARDEN_REPOS.POLICY_CATALOG_REPO_GIT\n    ];\n\n    return {\n      OFFICIAL_REPOS,\n\n      isLoading:              false,\n      bannerTitle:            null,\n      shortDescription:       null,\n      loadingPackages:        false,\n      packages:               null,\n      repository:             null,\n      selectedPolicyChart:    null,\n      selectedPolicyDetails:  null,\n      typeModule:             null,\n      version:                null,\n      errorFetchingPolicy:    false,\n\n      chartValues: {\n        policy:    {},\n        questions: {}\n      },\n      yamlValues: '',\n\n      hasCustomPolicy: false,\n      yamlOption:      VALUES_STATE.FORM,\n      finishAttempts:  0,\n\n      // Steps\n      stepPolicies: {\n        hidden:    false,\n        name:      'policies',\n        label:     'Policies',\n        ready:     false,\n        showSteps: false,\n        weight:    99\n      },\n      stepValues: {\n        name:      'values',\n        label:     'Values',\n        ready:     true,\n        showSteps: false,\n        weight:    98\n      },\n    };\n  },\n\n  computed: {\n    ...mapGetters({\n      charts:   'catalog/charts',\n      repos:    'catalog/repos',\n    }),\n\n    isAirgap() {\n      return this.$store.getters['kubewarden/airGapped'];\n    },\n\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n\n    isSelected() {\n      return !!this.selectedPolicyChart;\n    },\n\n    customPolicy() {\n      return this.selectedPolicyChart === 'custom';\n    },\n\n    /** Allow create if either editing in yaml view or module and required rules/settings have been met */\n    canFinish() {\n      if (this.yamlOption === VALUES_STATE.YAML) {\n        return true;\n      }\n\n      return !!this.chartValues?.policy?.spec?.module && this.hasRequired;\n    },\n\n    systemDefaultRegistry() {\n      return this.$store.getters['management/byId'](MANAGEMENT.SETTING, 'system-default-registry');\n    },\n\n    /** Determines if the required rules/settings are set, if not the resource can not be created */\n    hasRequired() {\n      if (!isEmpty(this.chartValues?.policy) && this.chartValues.policy.spec) {\n        const { rules, settings } = this.chartValues.policy.spec;\n\n        const requiredRules = ['apiVersions', 'operations', 'resources'];\n        const acceptedRules = this.acceptedValues(rules, requiredRules);\n        const acceptedName = this.chartValues.policy.metadata.name;\n\n        const requiredQuestions = this.chartValues?.questions?.questions?.map((q) => {\n          if (q.required) {\n            return q.variable;\n          }\n        }).filter(Boolean);\n        const acceptedQuestions = this.acceptedValues(settings, requiredQuestions);\n\n        if (!!acceptedName && !isEmpty(acceptedRules) && (isEmpty(requiredQuestions) || !isEmpty(acceptedQuestions))) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    hideOfficialRepoBanner() {\n      return !!this.officialKubewardenRepo || this.$store.getters['kubewarden/hideBannerOfficialRepo'];\n    },\n\n    hideRepoBanner() {\n      return !this.hideOfficialRepoBanner ||\n             (this.policiesCharts.length ||\n             this.$store.getters['kubewarden/hideBannerPolicyRepo']);\n    },\n\n    hideAirgapBanner() {\n      return !this.isAirgap || this.$store.getters['kubewarden/hideBannerAirgapPolicy'];\n    },\n\n    steps() {\n      const steps = [];\n\n      steps.push(\n        this.stepPolicies,\n        this.stepValues\n      );\n\n      return steps.sort((a, b) => b.weight - a.weight);\n    },\n\n    policiesCharts() {\n      return this.charts?.filter((chart) => chart.chartType === 'kubewarden-policy');\n    },\n\n    latestPolicyChartsVersion() {\n      return this.policiesCharts?.map((chart) => {\n        const out = chart.versions[0];\n        const chartRepo = this.$store.getters['catalog/repo']({\n          repoType: out.repoType,\n          repoName: out.repoName\n        });\n\n        const repoUrl = trimTrailingSlash(chartRepo?.spec?.url || '');\n\n        out.official = this.OFFICIAL_REPOS.includes(repoUrl);\n\n        return out;\n      });\n    },\n\n    reposByName() {\n      return this.repos.reduce((acc, repo) => {\n        acc[repo.metadata.name] = repo;\n\n        return acc;\n      }, {});\n    },\n\n    reposByUrl() {\n      return this.repos.reduce((acc, repo) => {\n        // For OCI or plain https/http repos, use spec.url. For Git repos, use spec.gitRepo.\n        const rawRepoUrl = repo.spec.url || repo.spec.gitRepo;\n        const repoUrl = rawRepoUrl ? trimTrailingSlash(rawRepoUrl) : rawRepoUrl;\n\n        if (repoUrl) {\n          acc[repoUrl] = repo;\n        }\n\n        return acc;\n      }, {});\n    },\n\n    officialKubewardenRepo() {\n      for (const repoUrl of this.OFFICIAL_REPOS) {\n        if (this.reposByUrl[repoUrl]) {\n          return this.reposByUrl[repoUrl];\n        }\n      }\n\n      return null;\n    }\n  },\n\n  methods: {\n    async addRepository(btnCb) {\n      try {\n        const repoObj = await this.$store.dispatch('cluster/create', {\n          type:     CATALOG.CLUSTER_REPO,\n          metadata: { name: 'kubewarden-policy-catalog' },\n          spec:     { url: KUBEWARDEN_REPOS.POLICY_CATALOG },\n        });\n\n        try {\n          await repoObj.save();\n        } catch (e) {\n          handleGrowl({\n            error: e,\n            store: this.$store\n          });\n          btnCb(false);\n\n          return;\n        }\n\n        if (!this.officialKubewardenRepo) {\n          await this.$store.dispatch('catalog/refresh');\n        }\n      } catch (e) {\n        handleGrowl({\n          error: e,\n          store: this.$store\n        });\n        btnCb(false);\n      }\n    },\n\n    /** Determine values which need to be required from supplied property and keys */\n    acceptedValues(requiredProp, requiredKeys) {\n      if (isEmpty(requiredKeys)) {\n        return null;\n      }\n\n      let accepted;\n\n      if (Array.isArray(requiredProp)) {\n        accepted = requiredProp.find((prop) => this.checkProperties(prop, requiredKeys));\n      } else {\n        accepted = this.checkProperties(requiredProp, requiredKeys);\n      }\n\n      return accepted;\n    },\n\n    /** Check supplied property for required keys */\n    checkProperties(requiredProp, requiredKeys) {\n      const match = [];\n\n      if (!isEmpty(requiredKeys)) {\n        for (const key of requiredKeys.values()) {\n          if (!isEmpty(requiredProp[key])) {\n            match.push(key);\n          }\n        }\n        if (requiredKeys && isEqual(match, requiredKeys)) {\n          return requiredProp;\n        }\n      }\n\n      return null;\n    },\n\n    async closeBanner(banner, retry = 0) {\n      const res = await this.$store.dispatch(`kubewarden/${ banner }`, true);\n\n      if (retry === 0 && res?.type === 'error' && res?.status === 500) {\n        await this.close(retry + 1);\n      }\n    },\n\n    async createNamespace(ns) {\n      const allNamespaces = this.$store.getters['cluster/all'](NAMESPACE);\n      const nsTemplate = {\n        type:                     NAMESPACE,\n        metadata:                 { name: ns },\n        disableOpenApiValidation: false\n      };\n\n      const existing = allNamespaces?.find((n) => n?.metadata?.name === ns);\n\n      if (!existing) {\n        const nsResource = await this.$store.dispatch('cluster/create', nsTemplate);\n\n        try {\n          await nsResource.save();\n        } catch (e) {\n          this.errors.push(e);\n        }\n      }\n    },\n\n    done() {\n      this.$router.replace({\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster:  this.$route.params.cluster,\n          product:  KUBEWARDEN_PRODUCT_NAME,\n          resource: this.schema?.id\n        }\n      });\n    },\n\n    async finish(event) {\n      try {\n        let out;\n\n        if (this.yamlOption === VALUES_STATE.YAML) {\n          out = jsyaml.load(this.yamlValues);\n        } else {\n          out = this.chartValues?.policy ? this.chartValues.policy : jsyaml.load(this.yamlValues);\n        }\n\n        removeEmptyAttrs(out); // Clean up empty values from questions\n\n        if (this.finishAttempts > 0) {\n          // Remove keys that are not in the new spec\n          Object.keys(this.value.spec).forEach((key) => {\n            if (!(key in out.spec)) {\n              this.$delete(this.value.spec, key);\n            }\n          });\n\n          // Then, set or update the remaining keys\n          Object.keys(out.spec).forEach((key) => {\n            this.value.spec.key = out.spec[key];\n          });\n        } else {\n          merge(this.value, out);\n        }\n\n        // If create new namespace option is selected, create the ns before saving the policy\n        if (this.chartType === KUBEWARDEN.ADMISSION_POLICY && this.chartValues?.isNamespaceNew) {\n          await this.createNamespace(this.value?.metadata?.namespace);\n        }\n\n        await this.attemptSave(event);\n      } catch (e) {\n        console.error('Error creating policy', e);\n      }\n    },\n\n    async attemptSave(event) {\n      await this.save(event);\n\n      // Check for errors set by the mixin\n      if (this.errors && this.errors.length > 0) {\n        const error = new Error('Save operation failed');\n\n        this.finishAttempts++;\n        throw error; // Force an error to be caught in the finish method\n      }\n    },\n\n    parseObj(obj) {\n      if (!obj) {\n        return null;\n      }\n\n      const parsed = JSON.parse(JSON.stringify(obj));\n\n      return jsyaml.load(parsed);\n    },\n\n    /** Extract policy questions from the policy chart's details */\n    async policyQuestions() {\n      const defaultPolicy = structuredClone(DEFAULT_POLICY);\n\n      if (this.customPolicy) {\n        // Add contextAwareResources to custom policy spec\n        const updatedCustomPolicy = { spec: { contextAwareResources: [] } };\n\n        const finalPolicy = merge({}, defaultPolicy, updatedCustomPolicy);\n\n        set(this.chartValues, 'policy', finalPolicy);\n        this.yamlValues = saferDump(finalPolicy);\n\n        return;\n      } else {\n        // Add chart metadata annotations for fetching chart details/questions later\n        this.value.metadata.annotations = this.value.metadata.annotations || {};\n        this.value.metadata.annotations[KUBEWARDEN_ANNOTATIONS.CHART_KEY] = this.selectedPolicyChart.key;\n        this.value.metadata.annotations[KUBEWARDEN_ANNOTATIONS.CHART_NAME] = this.selectedPolicyChart.name;\n        this.value.metadata.annotations[KUBEWARDEN_ANNOTATIONS.CHART_VERSION] = this.selectedPolicyChart.version;\n      }\n\n      try {\n        this.selectedPolicyDetails = await this.$store.dispatch('catalog/getVersionInfo', {\n          repoType:     this.selectedPolicyChart.repoType,\n          repoName:     this.selectedPolicyChart.repoName,\n          chartName:    this.selectedPolicyChart.name,\n          versionName:  this.selectedPolicyChart.version\n        });\n\n        const policyQuestions = this.selectedPolicyDetails?.questions;\n        const policyAnnotations = toRaw(this.selectedPolicyDetails?.chart?.annotations);\n\n        if (!policyAnnotations) {\n          throw new Error('Policy annotations are missing');\n        }\n\n        let registry = policyAnnotations[KUBEWARDEN_CATALOG_ANNOTATIONS.REGISTRY];\n        let policyModule = `${ policyAnnotations[KUBEWARDEN_CATALOG_ANNOTATIONS.REPOSITORY] }:${ policyAnnotations[KUBEWARDEN_CATALOG_ANNOTATIONS.TAG] }`;\n\n        if (this.systemDefaultRegistry?.value) {\n          registry = this.systemDefaultRegistry.value;\n        }\n\n        if (registry) {\n          policyModule = `${ registry }/${ policyModule }`;\n        }\n\n        const updatedPolicy = {\n          apiVersion: this.value.apiVersion,\n          kind:       this.value.kind,\n          metadata:   { ...this.value.metadata },\n          spec:       {\n            module:   policyModule,\n            mode:     'monitor', // Default to monitor mode\n            mutating: policyAnnotations[KUBEWARDEN_CATALOG_ANNOTATIONS.MUTATING] === 'true' || false,\n            rules:    this.parseObj(policyAnnotations[KUBEWARDEN_CATALOG_ANNOTATIONS.RULES]) || []\n          }\n        };\n\n        if (this.chartType === KUBEWARDEN.CLUSTER_ADMISSION_POLICY) {\n          Object.assign(updatedPolicy.spec, { contextAwareResources: this.parseObj(policyAnnotations[KUBEWARDEN_CATALOG_ANNOTATIONS.CONTEXT_AWARE_RESOURCES]) || [] });\n        }\n\n        merge(defaultPolicy, updatedPolicy);\n        set(this.chartValues, 'policy', defaultPolicy);\n\n        this.yamlValues = saferDump(this.chartValues.policy);\n\n        if (policyQuestions) {\n          set(this.chartValues, 'questions', policyQuestions);\n        }\n\n        this.shortDescription = this.selectedPolicyChart?.description;\n      } catch (e) {\n        console.warn('Error fetching policy questions. Using default policy scaffold. Details:', e);\n\n        this.errorFetchingPolicy = true;\n\n        this.bannerTitle = 'Policy Details Unavailable';\n        this.shortDescription = `There was an issue retrieving the policy details. The default configuration will be used. (Error: ${ e.message || 'Unknown error' })`;\n\n        // Fallback: use the default policy scaffold without additional questions\n        set(this.chartValues, 'policy', defaultPolicy);\n        this.yamlValues = saferDump(defaultPolicy);\n      }\n    },\n\n    reset(event) {\n      this.$nextTick(() => {\n        if (event.step?.name === this.stepPolicies.name) {\n          const initialState = [\n            'errors',\n            'bannerTitle',\n            'shortDescription',\n            'selectedPolicyChart',\n            'selectedPolicyDetails',\n            'typeModule',\n            'version',\n            'hasCustomPolicy',\n          ];\n\n          initialState.forEach((i) => {\n            this[i] = null;\n          });\n\n          this.stepPolicies.ready = false;\n          this.stepValues.hidden = false;\n\n          this.chartValues = {\n            policy:    {},\n            questions: {}\n          };\n          this.yamlOption = VALUES_STATE.FORM;\n          this.yamlValues = '';\n\n          // Remove the hash created from the tabbed component\n          this.$router.replace({\n            path:  this.$route.path,\n            query: this.$route.query,\n            hash:  ''\n          });\n        }\n      });\n    },\n\n    async selectPolicy(policy) {\n      this.selectedPolicyChart = policy;\n\n      if (this.customPolicy) {\n        this.hasCustomPolicy = true;\n      } else {\n        this.hasCustomPolicy = false;\n      }\n\n      await this.policyQuestions();\n      this.stepPolicies.ready = true;\n      this.$refs.wizard.next();\n      this.bannerTitle = this.customPolicy ? 'Custom Policy' : (\n        policy?.annotations?.[KUBEWARDEN_POLICY_ANNOTATIONS.DISPLAY_NAME] || policy?.name\n      );\n    },\n\n    showReadme() {\n      this.$refs.readmePanel?.show();\n    }\n  }\n\n});\n</script>\n\n<template>\n  <Loading v-if=\"isLoading\" mode=\"relative\" />\n  <div v-else>\n    <template v-if=\"!hideOfficialRepoBanner\">\n      <Banner\n        data-testid=\"kw-policy-add-official-repo-banner\"\n        class=\"type-banner mb-20 mt-0\"\n        color=\"warning\"\n        :closable=\"true\"\n        @close=\"closeBanner('updateHideBannerOfficialRepo')\"\n      >\n        <div>\n          <p v-clean-html=\"t('kubewarden.policies.noOfficialPolicies', {}, true)\" class=\"mb-10\" />\n          <AsyncButton mode=\"kubewardenPolicyCatalog\" @click=\"addRepository\" />\n        </div>\n      </Banner>\n    </template>\n    <template v-if=\"!hideRepoBanner\">\n      <Banner\n        data-testid=\"kw-policy-add-repo-banner\"\n        class=\"type-banner mb-20 mt-0\"\n        color=\"warning\"\n        :closable=\"true\"\n        @close=\"closeBanner('updateHideBannerPolicyRepo')\"\n      >\n        <p>{{ t('kubewarden.policies.noPolicyRepo') }}</p>\n      </Banner>\n    </template>\n    <template v-if=\"!hideAirgapBanner\">\n      <Banner\n        data-testid=\"kw-policy-create-ag-banner\"\n        class=\"type-banner mb-20 mt-0\"\n        color=\"warning\"\n        :closable=\"true\"\n        :label=\"t('kubewarden.policies.airgap.banner')\"\n        @close=\"closeBanner('updateHideBannerAirgapPolicy')\"\n      />\n    </template>\n    <Wizard\n      v-if=\"value\"\n      ref=\"wizard\"\n      :value=\"value\"\n      data-testid=\"kw-policy-create-wizard\"\n      :errors=\"errors\"\n      :steps=\"steps\"\n      :show-banner=\"false\"\n      :edit-first-step=\"true\"\n      class=\"wizard\"\n      @next=\"reset\"\n      @cancel=\"done\"\n      @finish=\"finish\"\n    >\n      <template #policies>\n        <PolicyTable\n          data-testid=\"kw-policy-create-table\"\n          :mode=\"mode\"\n          :charts=\"latestPolicyChartsVersion\"\n          @selectPolicy=\"selectPolicy($event)\"\n        />\n      </template>\n\n      <template #values>\n        <div class=\"banner__title\">\n          <h2>{{ bannerTitle }}</h2>\n          <template v-if=\"!customPolicy\">\n            <p class=\"banner__short-description\">\n              {{ shortDescription }}\n            </p>\n            <button\n              v-if=\"selectedPolicyDetails && (selectedPolicyDetails?.readme || selectPolicyDetails?.appreadme) && !errorFetchingPolicy\"\n              class=\"btn btn-sm role-link banner__readme-button\"\n              @click=\"showReadme\"\n            >\n              {{ t('kubewarden.policyConfig.description.showReadme') }}\n            </button>\n            <div v-else class=\"mb-10\"></div>\n          </template>\n        </div>\n        <Values\n          :value=\"value\"\n          :chart-values=\"chartValues\"\n          :yaml-values=\"yamlValues\"\n          :mode=\"mode\"\n          :custom-policy=\"customPolicy\"\n          :error-fetching-policy=\"errorFetchingPolicy\"\n          @editor=\"$event => yamlOption = $event\"\n          @updateYamlValues=\"$event => yamlValues = $event\"\n        />\n      </template>\n\n      <template #finish>\n        <AsyncButton\n          data-testid=\"kw-policy-create-finish-button\"\n          :disabled=\"!canFinish\"\n          mode=\"finish\"\n          class=\"ml-20\"\n          @click=\"finish\"\n        />\n      </template>\n    </Wizard>\n\n    <template v-if=\"selectedPolicyDetails && (selectedPolicyDetails?.readme || selectPolicyDetails?.appreadme) && !customPolicy && !errorFetchingPolicy\">\n      <PolicyReadmePanel\n        ref=\"readmePanel\"\n        :policy-chart-details=\"selectedPolicyDetails\"\n      />\n    </template>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n$padding: 5px;\n$height: 110px;\n$margin: 10px;\n$color: var(--body-text) !important;\n\n:deep(.header) {\n  display: none;\n}\n\n:deep(.controls-row) {\n  position: sticky;\n  width: auto;\n\n  .controls-steps {\n    display: flex;\n  }\n}\n\n:deep(.custom) {\n  min-height: 110px;\n}\n\n:deep(.subtype) {\n  height: $height;\n  margin: $margin;\n  position: relative;\n  border-radius: calc( 1.5 * var(--border-radius));\n  border: 1px solid var(--border);\n  text-decoration: none !important;\n  color: $color;\n\n  &:hover:not(.disabled) {\n    box-shadow: 0 0 30px var(--shadow);\n    transition: box-shadow 0.1s ease-in-out;\n    cursor: pointer;\n    text-decoration: none !important;\n  }\n\n  .subtype__metadata {\n    padding: $margin;\n\n    &__label, &__description {\n      padding-right: 20px;\n    }\n  }\n\n  .subtype__badge {\n    position: absolute;\n    right: 0;\n    top: 0;\n    padding: 4px $padding;\n    border-bottom-left-radius: var(--border-radius);\n\n    label {\n      font-size: 12px;\n      line-height: 12px;\n      text-align: center;\n      display: block;\n      white-space: no-wrap;\n      text-overflow: ellipsis;\n      color: var(--app-rancher-accent-text);\n      margin: 0;\n    }\n  }\n\n  .subtype__label {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    margin-bottom: 4px;\n    line-height: initial;\n  }\n\n  .subtype__description {\n    margin-right: $margin;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 3;\n    line-clamp: 3;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    color: var(--input-label);\n  }\n}\n\n:deep(.footer-error) {\n  margin-top: 15px;\n}\n\n.wizard {\n  position: relative;\n  height: 100%;\n  z-index: 1;\n}\n\n.banner {\n  &__title {\n    padding-top: 10px;\n    margin-bottom: 10px;\n    border-bottom: 1px solid var(--border);\n    min-height: 60px;\n  }\n\n  &__readme-button {\n    padding: 0 7px 0 0;\n  }\n}\n</style>\n","/**\n * Takes a k8s dns entry and returns the port\n * @param inputString | dns entry e.g. 'my-open-telemetry-collector.jaeger.svc.cluster.local:4317'\n * @returns `number | null | void` | Returns the port at the end of a string\n */\nexport function extractPortNumber(inputString: any): number | null | void {\n  const portPattern = /:(\\d+)$/;\n  const match = inputString.match(portPattern);\n\n  if (match && match[1]) {\n    return parseInt(match[1], 10);\n  } else {\n    return null;\n  }\n}\n\n\n/**\n * Takes a URL and returns the url without the trailing slash\n * @param inputString | URL e.g. 'https://my-service.local:4317/'\n * @returns `string` | Returns the URL without the trailing slash\n * @example\n * ```ts\n * const url = 'https://my-service.local:4317/';\n * const result = trimTrailingSlash(url);\n * console.log(result); // 'https://my-service.local:4317'\n * ```\n */\nexport function trimTrailingSlash(inputString: string): string {\n  return inputString.replace(/\\/$/, '');\n};","import { PolicyChart, KUBEWARDEN_POLICY_ANNOTATIONS, LEGACY_POLICY_ANNOTATIONS } from '@kubewarden/types';\n\n/**\n * Extracts resource kinds from a list of policy charts with the `kubewarden/resources` annotation.\n * @param policyCharts\n * @returns `string[]` | Resource kinds\n */\nexport function resourcesFromAnnotation(policyChart: PolicyChart[]): string[] | void {\n  const out: string[] = [];\n\n  const resources = policyChart?.flatMap((policyChart) => {\n    const annotation = policyChart?.annotations?.[KUBEWARDEN_POLICY_ANNOTATIONS.RESOURCES] ??\n                       policyChart?.annotations?.[LEGACY_POLICY_ANNOTATIONS.RESOURCES];\n\n    if (annotation) {\n      return annotation;\n    }\n  });\n\n  resources?.flatMap((resource) => {\n    if (resource) {\n      const split = resource.split(',');\n\n      if (split.length > 1) {\n        split.forEach((s: string) => out.push(s.trim()));\n      } else {\n        out.push(resource);\n      }\n    }\n\n    return [];\n  })?.sort();\n\n  if (!out || out?.length === 0) {\n    return [];\n  }\n\n  return [...new Set(out.filter(Boolean))];\n}\n\n/**\n * Checks the resources within a policy chart's `kubewarden/resources` annotation to determine if\n * the policy is targeting non-namespaced resources. Needed to gate CAP from AP grid.\n * @param policyChart `schemas`\n * @returns Boolean\n */\nexport function isGlobalPolicy(policyChart: PolicyChart, schemas: any): boolean {\n  if (policyChart) {\n    const resources: string[] | undefined = policyChart.annotations?.['kubewarden/resources']?.split(',');\n    let targetsNonNamespaced: boolean = false;\n\n    if (resources) {\n      for (const resource of resources) {\n        targetsNonNamespaced = schemas?.some((schema: any) => (\n          schema?.attributes?.kind === resource && (schema?.attributes?.namespaced === false || undefined)\n        ));\n      }\n    }\n\n    return targetsNonNamespaced;\n  }\n\n  return false;\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport {\n  ref, watch, onMounted, onBeforeUnmount, nextTick\n} from 'vue';\n\nimport SortableTable from '@shell/components/SortableTable';\n\ninterface Listener {\n  row: HTMLElement;\n  listener: (event: Event) => void; // eslint-disable-line no-unused-vars\n}\n\ninterface Props {\n  rows: Array<any>;\n  headers: Array<any>;\n  tableActions?: boolean;\n  rowActions?: boolean;\n  keyField: string;\n  defaultSortBy?: string;\n  paging?: boolean;\n  search?: boolean;\n  useQueryParamsForSimpleFiltering?: boolean;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'SortableTableWrapper',\n  props: {\n    rows: {},\n    headers: {},\n    tableActions: { type: Boolean },\n    rowActions: { type: Boolean },\n    keyField: {},\n    defaultSortBy: {},\n    paging: { type: Boolean },\n    search: { type: Boolean },\n    useQueryParamsForSimpleFiltering: { type: Boolean }\n  },\n  emits: ['selectRow'],\n  setup(__props: any, { emit: __emit }) {\n\n\n\nconst emit = __emit;\n\nconst sortableTable = ref();\nconst listeners = ref<Listener[]>([]);\n\nconst addRowClickListener = () => {\n  nextTick(() => {\n    const table = sortableTable.value?.$el?.querySelector('table') as HTMLElement;\n\n    if (table) {\n      removeRowClickListener();\n\n      table.querySelectorAll('tbody tr').forEach((row, index) => {\n        const listener = () => {\n          const rowsProp = (sortableTable.value?.$props as Props).rows || [];\n\n          emit('selectRow', rowsProp[index]);\n        };\n\n        row.addEventListener('click', listener);\n        listeners.value.push({\n          row: row as HTMLElement,\n          listener\n        });\n      });\n    }\n  });\n};\n\nconst removeRowClickListener = () => {\n  listeners.value.forEach(({ row, listener }) => {\n    row.removeEventListener('click', listener);\n  });\n  listeners.value = [];\n};\n\nwatch(() => sortableTable.value?.$props.rows, () => {\n  addRowClickListener();\n});\n\nonMounted(() => {\n  addRowClickListener();\n});\n\nonBeforeUnmount(() => {\n  removeRowClickListener();\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(_unref(SortableTable), {\n      ref_key: \"sortableTable\",\n      ref: sortableTable,\n      rows: _ctx.rows,\n      headers: _ctx.headers,\n      \"table-actions\": _ctx.tableActions,\n      \"row-actions\": _ctx.rowActions,\n      \"key-field\": _ctx.keyField,\n      \"default-sort-by\": _ctx.defaultSortBy,\n      paging: _ctx.paging,\n      search: _ctx.search,\n      \"use-query-params-for-simple-filtering\": _ctx.useQueryParamsForSimpleFiltering\n    }, null, 8, [\"rows\", \"headers\", \"table-actions\", \"row-actions\", \"key-field\", \"default-sort-by\", \"paging\", \"search\", \"use-query-params-for-simple-filtering\"])\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport {\n  ref, watch, onMounted, onBeforeUnmount, nextTick\n} from 'vue';\n\nimport SortableTable from '@shell/components/SortableTable';\n\ninterface Listener {\n  row: HTMLElement;\n  listener: (event: Event) => void; // eslint-disable-line no-unused-vars\n}\n\ninterface Props {\n  rows: Array<any>;\n  headers: Array<any>;\n  tableActions?: boolean;\n  rowActions?: boolean;\n  keyField: string;\n  defaultSortBy?: string;\n  paging?: boolean;\n  search?: boolean;\n  useQueryParamsForSimpleFiltering?: boolean;\n}\n\ndefineProps<Props>();\n\nconst emit = defineEmits(['selectRow']);\n\nconst sortableTable = ref();\nconst listeners = ref<Listener[]>([]);\n\nconst addRowClickListener = () => {\n  nextTick(() => {\n    const table = sortableTable.value?.$el?.querySelector('table') as HTMLElement;\n\n    if (table) {\n      removeRowClickListener();\n\n      table.querySelectorAll('tbody tr').forEach((row, index) => {\n        const listener = () => {\n          const rowsProp = (sortableTable.value?.$props as Props).rows || [];\n\n          emit('selectRow', rowsProp[index]);\n        };\n\n        row.addEventListener('click', listener);\n        listeners.value.push({\n          row: row as HTMLElement,\n          listener\n        });\n      });\n    }\n  });\n};\n\nconst removeRowClickListener = () => {\n  listeners.value.forEach(({ row, listener }) => {\n    row.removeEventListener('click', listener);\n  });\n  listeners.value = [];\n};\n\nwatch(() => sortableTable.value?.$props.rows, () => {\n  addRowClickListener();\n});\n\nonMounted(() => {\n  addRowClickListener();\n});\n\nonBeforeUnmount(() => {\n  removeRowClickListener();\n});\n</script>\n\n<template>\n  <div>\n    <SortableTable\n      ref=\"sortableTable\"\n      :rows=\"rows\"\n      :headers=\"headers\"\n      :table-actions=\"tableActions\"\n      :row-actions=\"rowActions\"\n      :key-field=\"keyField\"\n      :default-sort-by=\"defaultSortBy\"\n      :paging=\"paging\"\n      :search=\"search\"\n      :use-query-params-for-simple-filtering=\"useQueryParamsForSimpleFiltering\"\n    />\n  </div>\n</template>\n","import script from \"./SortableTableWrapper.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SortableTableWrapper.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"policy-table-container\" }\nconst _hoisted_2 = { class: \"filter\" }\nconst _hoisted_3 = { class: \"policy-table-actions\" }\n\nimport { computed, inject, ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRoute } from 'vue-router';\nimport semver from 'semver';\n\nimport { SCHEMA } from '@shell/config/types';\nimport { CATEGORY, SEARCH_QUERY } from '@shell/config/query-params';\nimport { SHOW_PRE_RELEASE } from '@shell/store/prefs';\nimport { ensureRegex } from '@shell/utils/string';\n\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { Checkbox } from '@components/Form/Checkbox';\n\nimport { PolicyChart, KUBEWARDEN, KUBEWARDEN_POLICY_ANNOTATIONS, LEGACY_POLICY_ANNOTATIONS } from '@kubewarden/types';\nimport { POLICY_TABLE_HEADERS } from '@kubewarden/config/table-headers';\nimport { resourcesFromAnnotation, isGlobalPolicy } from '@kubewarden/modules/policyChart';\n\nimport SortableTableWrapper from '@kubewarden/components/SortableTableWrapper';\n\ntype KubewardenKey = keyof typeof KUBEWARDEN_POLICY_ANNOTATIONS;\ntype LegacyKey = keyof typeof LEGACY_POLICY_ANNOTATIONS;\ntype AnnotationKey = KubewardenKey | LegacyKey;\n\ninterface Props {\n  mode: string;\n  charts: PolicyChart[];\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'PolicyTable',\n  props: {\n    mode: {},\n    charts: {}\n  },\n  emits: ['selectPolicy'],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\n\nconst emit = __emit;\n\n/**\n * Provided in `./edit/policies.kubewarden.io.(cluster)admissionpolicy.vue`\n */\nconst chartType = inject<string>('chartType', '');\n\nconst store = useStore();\nconst route = useRoute();\nconst t = store.getters['i18n/t'];\n\nconst category = ref<string>(route?.query?.[CATEGORY] as string || '');\nconst searchQuery = ref<string>(route?.query?.[SEARCH_QUERY] as string || '');\nconst attributes = ref<string[]>([t('kubewarden.utils.attributes.optionLabels.all')]);\nconst showKubewardenOfficial = ref<boolean>(true);\n\nconst allSchemas = computed(() => store.getters['cluster/all'](SCHEMA));\n\nconst showPreRelease = computed<boolean>(() => store.getters['prefs/get'](SHOW_PRE_RELEASE));\n\nconst computedAttributes = computed<string[]>({\n  get() {\n    return attributes.value;\n  },\n  set(newVal: string[]) {\n    const allLabel = t('kubewarden.utils.attributes.optionLabels.all');\n\n    let cleaned = [...newVal];\n\n    if (!cleaned.length) {\n      cleaned = [allLabel];\n    }\n\n    if (cleaned.length > 1 && cleaned.includes(allLabel)) {\n      cleaned = cleaned.filter((x) => x !== allLabel);\n    }\n\n    attributes.value = cleaned;\n  }\n});\n\n/**\n * Return charts filtering out global policies (if Admission Policy),\n * and pre-release charts if the user doesn't want to see them.\n */\nconst filteredCharts = computed(() => {\n  return props.charts?.filter((chart) => {\n    // Determine if the package is a pre-release\n    const isPreRelease = isPrerelease(chart);\n\n    if (!showPreRelease.value && isPreRelease) {\n      return false; // Exclude pre-releases if showPreRelease is false\n    }\n\n    if (chartType === KUBEWARDEN.ADMISSION_POLICY) {\n      // Filter out cluster-level Admission Policy charts\n      return !isGlobalPolicy(chart, allSchemas.value);\n    }\n\n    return true;\n  }) || [];\n});\n\n/**\n * Derived from `filteredCharts` - applies search queries, attribute filters, etc.\n */\nconst filteredPolicies = computed(() => {\n  const showPre = showPreRelease.value;\n  const search = searchQuery.value;\n  const showOfficial = showKubewardenOfficial.value;\n\n  // Pre-split search tokens\n  const searchTokens = (search || '')\n    .split(/\\s*[, ]\\s*/)\n    .map((x) => ensureRegex(x, false))\n    .filter((x) => x); // remove empty\n\n  return props.charts.filter((chart) => {\n    // Filter out cluster-level Admission Policies\n    if (chartType === KUBEWARDEN.ADMISSION_POLICY && isGlobalPolicy(chart, allSchemas.value)) {\n      return false;\n    }\n\n    // Filter out pre-release if the user doesn't want them\n    const isPre = isPrerelease(chart);\n\n    if (!showPre && isPre) {\n      return false;\n    }\n\n    // Filter official vs. non-official\n    if (showOfficial && !chart.official) {\n      return false;\n    }\n\n    // Search tokens\n    if (searchTokens.length) {\n      const displayName = coalescedDisplayName(chart);\n      const keywords    = coalescedKeywords(chart);\n      const desc        = chart.description || '';\n\n      const matchesSearch = searchTokens.every((token) => (displayName && displayName.match(token)) ||\n        (desc && desc.match(token)) ||\n        keywords.some((k) => k.match(token))\n      );\n\n      if (!matchesSearch) {\n        return false;\n      }\n    }\n\n    // Attribute filtering (features & resources)\n    if (attributes.value.length) {\n      // If user selected \"All,\" pass immediately\n      if (attributes.value.includes(t('kubewarden.utils.attributes.optionLabels.all'))) {\n        return true;\n      }\n\n      const matchesAttributes = attributes.value.some((attribute) => {\n        // Is it a feature (Mutation, Context Aware)?\n        const isFeature = featureOptions.value.includes(attribute);\n\n        if (isFeature) {\n          if (attribute === 'Mutation') {\n            return isMutation(chart);\n          } else if (attribute === 'Context Aware') {\n            return isContextAware(chart);\n          }\n\n          return false;\n        } else {\n          // Otherwise treat it as a resource filter\n          const resources = coalescedResources(chart);\n\n          return resources?.includes(attribute);\n        }\n      });\n\n      if (!matchesAttributes) {\n        return false;\n      }\n    }\n\n    return true;\n  }).sort((a, b) => a.name.localeCompare(b.name));\n});\n\n/**\n * Build out the attribute options (resource options + feature options).\n */\nconst attributeOptionsComputed = computed(() => {\n  const out: Array<string | { kind: string; label: string }> = [];\n\n  if (resourceOptions.value?.length) {\n    out.push(\n      {\n        kind:  'group',\n        label: t('kubewarden.utils.attributes.optionLabels.resource'),\n      },\n      ...resourceOptions.value\n    );\n  }\n\n  if (featureOptions.value.length) {\n    out.push(\n      {\n        kind:  'group',\n        label: t('kubewarden.utils.attributes.optionLabels.features'),\n      },\n      ...featureOptions.value\n    );\n  }\n\n  if (out.length) {\n    out.unshift(\n      t('kubewarden.utils.attributes.optionLabels.all'),\n      {\n        kind:  'divider',\n        label: 'divider'\n      }\n    );\n  }\n\n  return out;\n});\n\n/**\n * List all “features” from the annotations of the charts\n */\nconst featureOptions = computed<string[]>(() => {\n  const featuresList: string[] = [];\n\n  for (const policy of filteredCharts.value) {\n    if (policy?.annotations?.['kubewarden/mutation'] === 'true') {\n      featuresList.push('Mutation');\n    }\n\n    if (policy?.annotations?.['kubewarden/contextAwareResources']) {\n      featuresList.push('Context Aware');\n    }\n  }\n\n  return [...new Set(featuresList.filter(Boolean))];\n});\n\n/**\n * Resource options derived from chart annotations\n */\nconst resourceOptions = computed(() => {\n  return resourcesFromAnnotation(filteredCharts.value);\n});\n\nfunction isPrerelease(policyChart: any) {\n  const parsed = semver.prerelease(policyChart.version);\n\n  // Special handling for `deprecated-api-versions`\n  if (parsed && policyChart.name === 'deprecated-api-versions') {\n    return !!parsed.includes('rc');\n  }\n\n  return !!parsed;\n}\n\nfunction refresh() {\n  category.value = '';\n  attributes.value = [t('kubewarden.utils.attributes.optionLabels.all')];\n  searchQuery.value = '';\n}\n\n/**\n * Helper to unify new & legacy policy annotations for a given annotation name\n */\nfunction getAnnotation(policy: PolicyChart, key: AnnotationKey): string | undefined {\n  return policy.annotations?.[KUBEWARDEN_POLICY_ANNOTATIONS[key as KubewardenKey]] ??\n         policy.annotations?.[LEGACY_POLICY_ANNOTATIONS[key as LegacyKey]];\n}\n\nfunction coalescedDisplayName(policy: PolicyChart) {\n  return getAnnotation(policy, 'DISPLAY_NAME') || policy.name;\n}\n\nfunction coalescedKeywords(policy: PolicyChart): string[] {\n  const fromAnnotation = getAnnotation(policy, 'KEYWORDS') || '';\n  const arrayFromAnnotation = fromAnnotation ? fromAnnotation.split(',') : [];\n\n  return [\n    ...(policy.keywords || []),\n    ...arrayFromAnnotation\n  ].filter(Boolean);\n}\n\nfunction coalescedResources(policy: PolicyChart) {\n  return getAnnotation(policy, 'RESOURCES');\n}\n\nfunction isMutation(chart: PolicyChart): boolean {\n  return chart.annotations?.[KUBEWARDEN_POLICY_ANNOTATIONS.MUTATION] === 'true';\n}\n\nfunction isContextAware(chart: PolicyChart): boolean {\n  return chart.annotations?.[KUBEWARDEN_POLICY_ANNOTATIONS.CONTEXT_AWARE_RESOURCES] === 'true';\n}\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (attributeOptionsComputed.value.length)\n        ? (_openBlock(), _createBlock(_unref(LabeledSelect), {\n            key: 0,\n            value: computedAttributes.value,\n            \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((computedAttributes).value = $event)),\n            \"data-testid\": \"kw-table-filter-source\",\n            clearable: true,\n            taggable: true,\n            mode: props.mode,\n            multiple: true,\n            class: \"filter__attributes\",\n            label: _unref(t)('kubewarden.utils.attributes.label'),\n            options: attributeOptionsComputed.value\n          }, null, 8, [\"value\", \"mode\", \"label\", \"options\"]))\n        : _createCommentVNode(\"\", true),\n      _createVNode(_unref(LabeledInput), {\n        ref: \"searchQueryInput\",\n        value: searchQuery.value,\n        \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((searchQuery).value = $event)),\n        \"data-testid\": \"kw-table-filter-search\",\n        mode: props.mode,\n        class: \"input-sm filter__search\",\n        label: _unref(t)('kubewarden.utils.search'),\n        placeholder: _unref(t)('kubewarden.generic.name')\n      }, null, 8, [\"value\", \"mode\", \"label\", \"placeholder\"]),\n      _createElementVNode(\"button\", {\n        \"data-testid\": \"kw-table-filter-refresh\",\n        class: \"btn role-tertiary filter__reset\",\n        type: \"button\",\n        onClick: refresh\n      }, [\n        _createElementVNode(\"p\", null, _toDisplayString(_unref(t)('kubewarden.utils.resetFilter')), 1)\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(_unref(Checkbox), {\n        value: showKubewardenOfficial.value,\n        \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => ((showKubewardenOfficial).value = $event)),\n        label: _unref(t)('kubewarden.utils.official.label'),\n        \"data-testid\": \"kw-table-filter-official\"\n      }, null, 8, [\"value\", \"label\"]),\n      _createElementVNode(\"button\", {\n        \"data-testid\": \"kw-table-custom-buttom\",\n        class: \"btn role-tertiary\",\n        type: \"button\",\n        onClick: _cache[3] || (_cache[3] = ($event: any) => (emit('selectPolicy', 'custom')))\n      }, [\n        _createElementVNode(\"p\", null, _toDisplayString(_unref(t)('kubewarden.utils.custom.create')), 1)\n      ])\n    ]),\n    _createVNode(_unref(SortableTableWrapper), {\n      rows: filteredPolicies.value,\n      headers: _unref(POLICY_TABLE_HEADERS),\n      \"table-actions\": false,\n      \"row-actions\": false,\n      \"key-field\": \"digest\",\n      \"default-sort-by\": \"name\",\n      paging: true,\n      search: false,\n      onSelectRow: _cache[4] || (_cache[4] = (row) => emit('selectPolicy', row))\n    }, null, 8, [\"rows\", \"headers\"])\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { computed, inject, ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRoute } from 'vue-router';\nimport semver from 'semver';\n\nimport { SCHEMA } from '@shell/config/types';\nimport { CATEGORY, SEARCH_QUERY } from '@shell/config/query-params';\nimport { SHOW_PRE_RELEASE } from '@shell/store/prefs';\nimport { ensureRegex } from '@shell/utils/string';\n\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { Checkbox } from '@components/Form/Checkbox';\n\nimport { PolicyChart, KUBEWARDEN, KUBEWARDEN_POLICY_ANNOTATIONS, LEGACY_POLICY_ANNOTATIONS } from '@kubewarden/types';\nimport { POLICY_TABLE_HEADERS } from '@kubewarden/config/table-headers';\nimport { resourcesFromAnnotation, isGlobalPolicy } from '@kubewarden/modules/policyChart';\n\nimport SortableTableWrapper from '@kubewarden/components/SortableTableWrapper';\n\ntype KubewardenKey = keyof typeof KUBEWARDEN_POLICY_ANNOTATIONS;\ntype LegacyKey = keyof typeof LEGACY_POLICY_ANNOTATIONS;\ntype AnnotationKey = KubewardenKey | LegacyKey;\n\ninterface Props {\n  mode: string;\n  charts: PolicyChart[];\n}\n\nconst props = defineProps<Props>();\n\nconst emit = defineEmits(['selectPolicy']);\n\n/**\n * Provided in `./edit/policies.kubewarden.io.(cluster)admissionpolicy.vue`\n */\nconst chartType = inject<string>('chartType', '');\n\nconst store = useStore();\nconst route = useRoute();\nconst t = store.getters['i18n/t'];\n\nconst category = ref<string>(route?.query?.[CATEGORY] as string || '');\nconst searchQuery = ref<string>(route?.query?.[SEARCH_QUERY] as string || '');\nconst attributes = ref<string[]>([t('kubewarden.utils.attributes.optionLabels.all')]);\nconst showKubewardenOfficial = ref<boolean>(true);\n\nconst allSchemas = computed(() => store.getters['cluster/all'](SCHEMA));\n\nconst showPreRelease = computed<boolean>(() => store.getters['prefs/get'](SHOW_PRE_RELEASE));\n\nconst computedAttributes = computed<string[]>({\n  get() {\n    return attributes.value;\n  },\n  set(newVal: string[]) {\n    const allLabel = t('kubewarden.utils.attributes.optionLabels.all');\n\n    let cleaned = [...newVal];\n\n    if (!cleaned.length) {\n      cleaned = [allLabel];\n    }\n\n    if (cleaned.length > 1 && cleaned.includes(allLabel)) {\n      cleaned = cleaned.filter((x) => x !== allLabel);\n    }\n\n    attributes.value = cleaned;\n  }\n});\n\n/**\n * Return charts filtering out global policies (if Admission Policy),\n * and pre-release charts if the user doesn't want to see them.\n */\nconst filteredCharts = computed(() => {\n  return props.charts?.filter((chart) => {\n    // Determine if the package is a pre-release\n    const isPreRelease = isPrerelease(chart);\n\n    if (!showPreRelease.value && isPreRelease) {\n      return false; // Exclude pre-releases if showPreRelease is false\n    }\n\n    if (chartType === KUBEWARDEN.ADMISSION_POLICY) {\n      // Filter out cluster-level Admission Policy charts\n      return !isGlobalPolicy(chart, allSchemas.value);\n    }\n\n    return true;\n  }) || [];\n});\n\n/**\n * Derived from `filteredCharts` - applies search queries, attribute filters, etc.\n */\nconst filteredPolicies = computed(() => {\n  const showPre = showPreRelease.value;\n  const search = searchQuery.value;\n  const showOfficial = showKubewardenOfficial.value;\n\n  // Pre-split search tokens\n  const searchTokens = (search || '')\n    .split(/\\s*[, ]\\s*/)\n    .map((x) => ensureRegex(x, false))\n    .filter((x) => x); // remove empty\n\n  return props.charts.filter((chart) => {\n    // Filter out cluster-level Admission Policies\n    if (chartType === KUBEWARDEN.ADMISSION_POLICY && isGlobalPolicy(chart, allSchemas.value)) {\n      return false;\n    }\n\n    // Filter out pre-release if the user doesn't want them\n    const isPre = isPrerelease(chart);\n\n    if (!showPre && isPre) {\n      return false;\n    }\n\n    // Filter official vs. non-official\n    if (showOfficial && !chart.official) {\n      return false;\n    }\n\n    // Search tokens\n    if (searchTokens.length) {\n      const displayName = coalescedDisplayName(chart);\n      const keywords    = coalescedKeywords(chart);\n      const desc        = chart.description || '';\n\n      const matchesSearch = searchTokens.every((token) => (displayName && displayName.match(token)) ||\n        (desc && desc.match(token)) ||\n        keywords.some((k) => k.match(token))\n      );\n\n      if (!matchesSearch) {\n        return false;\n      }\n    }\n\n    // Attribute filtering (features & resources)\n    if (attributes.value.length) {\n      // If user selected \"All,\" pass immediately\n      if (attributes.value.includes(t('kubewarden.utils.attributes.optionLabels.all'))) {\n        return true;\n      }\n\n      const matchesAttributes = attributes.value.some((attribute) => {\n        // Is it a feature (Mutation, Context Aware)?\n        const isFeature = featureOptions.value.includes(attribute);\n\n        if (isFeature) {\n          if (attribute === 'Mutation') {\n            return isMutation(chart);\n          } else if (attribute === 'Context Aware') {\n            return isContextAware(chart);\n          }\n\n          return false;\n        } else {\n          // Otherwise treat it as a resource filter\n          const resources = coalescedResources(chart);\n\n          return resources?.includes(attribute);\n        }\n      });\n\n      if (!matchesAttributes) {\n        return false;\n      }\n    }\n\n    return true;\n  }).sort((a, b) => a.name.localeCompare(b.name));\n});\n\n/**\n * Build out the attribute options (resource options + feature options).\n */\nconst attributeOptionsComputed = computed(() => {\n  const out: Array<string | { kind: string; label: string }> = [];\n\n  if (resourceOptions.value?.length) {\n    out.push(\n      {\n        kind:  'group',\n        label: t('kubewarden.utils.attributes.optionLabels.resource'),\n      },\n      ...resourceOptions.value\n    );\n  }\n\n  if (featureOptions.value.length) {\n    out.push(\n      {\n        kind:  'group',\n        label: t('kubewarden.utils.attributes.optionLabels.features'),\n      },\n      ...featureOptions.value\n    );\n  }\n\n  if (out.length) {\n    out.unshift(\n      t('kubewarden.utils.attributes.optionLabels.all'),\n      {\n        kind:  'divider',\n        label: 'divider'\n      }\n    );\n  }\n\n  return out;\n});\n\n/**\n * List all “features” from the annotations of the charts\n */\nconst featureOptions = computed<string[]>(() => {\n  const featuresList: string[] = [];\n\n  for (const policy of filteredCharts.value) {\n    if (policy?.annotations?.['kubewarden/mutation'] === 'true') {\n      featuresList.push('Mutation');\n    }\n\n    if (policy?.annotations?.['kubewarden/contextAwareResources']) {\n      featuresList.push('Context Aware');\n    }\n  }\n\n  return [...new Set(featuresList.filter(Boolean))];\n});\n\n/**\n * Resource options derived from chart annotations\n */\nconst resourceOptions = computed(() => {\n  return resourcesFromAnnotation(filteredCharts.value);\n});\n\nfunction isPrerelease(policyChart: any) {\n  const parsed = semver.prerelease(policyChart.version);\n\n  // Special handling for `deprecated-api-versions`\n  if (parsed && policyChart.name === 'deprecated-api-versions') {\n    return !!parsed.includes('rc');\n  }\n\n  return !!parsed;\n}\n\nfunction refresh() {\n  category.value = '';\n  attributes.value = [t('kubewarden.utils.attributes.optionLabels.all')];\n  searchQuery.value = '';\n}\n\n/**\n * Helper to unify new & legacy policy annotations for a given annotation name\n */\nfunction getAnnotation(policy: PolicyChart, key: AnnotationKey): string | undefined {\n  return policy.annotations?.[KUBEWARDEN_POLICY_ANNOTATIONS[key as KubewardenKey]] ??\n         policy.annotations?.[LEGACY_POLICY_ANNOTATIONS[key as LegacyKey]];\n}\n\nfunction coalescedDisplayName(policy: PolicyChart) {\n  return getAnnotation(policy, 'DISPLAY_NAME') || policy.name;\n}\n\nfunction coalescedKeywords(policy: PolicyChart): string[] {\n  const fromAnnotation = getAnnotation(policy, 'KEYWORDS') || '';\n  const arrayFromAnnotation = fromAnnotation ? fromAnnotation.split(',') : [];\n\n  return [\n    ...(policy.keywords || []),\n    ...arrayFromAnnotation\n  ].filter(Boolean);\n}\n\nfunction coalescedResources(policy: PolicyChart) {\n  return getAnnotation(policy, 'RESOURCES');\n}\n\nfunction isMutation(chart: PolicyChart): boolean {\n  return chart.annotations?.[KUBEWARDEN_POLICY_ANNOTATIONS.MUTATION] === 'true';\n}\n\nfunction isContextAware(chart: PolicyChart): boolean {\n  return chart.annotations?.[KUBEWARDEN_POLICY_ANNOTATIONS.CONTEXT_AWARE_RESOURCES] === 'true';\n}\n\n</script>\n\n<template>\n  <div class=\"policy-table-container\">\n    <!-- FILTERS -->\n    <div class=\"filter\">\n      <LabeledSelect\n        v-if=\"attributeOptionsComputed.length\"\n        v-model:value=\"computedAttributes\"\n        data-testid=\"kw-table-filter-source\"\n        :clearable=\"true\"\n        :taggable=\"true\"\n        :mode=\"props.mode\"\n        :multiple=\"true\"\n        class=\"filter__attributes\"\n        :label=\"t('kubewarden.utils.attributes.label')\"\n        :options=\"attributeOptionsComputed\"\n      />\n\n      <LabeledInput\n        ref=\"searchQueryInput\"\n        v-model:value=\"searchQuery\"\n        data-testid=\"kw-table-filter-search\"\n        :mode=\"props.mode\"\n        class=\"input-sm filter__search\"\n        :label=\"t('kubewarden.utils.search')\"\n        :placeholder=\"t('kubewarden.generic.name')\"\n      />\n\n      <button\n        data-testid=\"kw-table-filter-refresh\"\n        class=\"btn role-tertiary filter__reset\"\n        type=\"button\"\n        @click=\"refresh\"\n      >\n        <p>{{ t('kubewarden.utils.resetFilter') }}</p>\n      </button>\n    </div>\n\n    <!-- ACTIONS -->\n    <div class=\"policy-table-actions\">\n      <Checkbox\n        v-model:value=\"showKubewardenOfficial\"\n        :label=\"t('kubewarden.utils.official.label')\"\n        data-testid=\"kw-table-filter-official\"\n      />\n\n      <button\n        data-testid=\"kw-table-custom-buttom\"\n        class=\"btn role-tertiary\"\n        type=\"button\"\n        @click=\"emit('selectPolicy', 'custom')\"\n      >\n        <p>{{ t('kubewarden.utils.custom.create') }}</p>\n      </button>\n    </div>\n\n    <!-- TABLE -->\n    <SortableTableWrapper\n      :rows=\"filteredPolicies\"\n      :headers=\"POLICY_TABLE_HEADERS\"\n      :table-actions=\"false\"\n      :row-actions=\"false\"\n      key-field=\"digest\"\n      default-sort-by=\"name\"\n      :paging=\"true\"\n      :search=\"false\"\n      @selectRow=\"(row: any) => emit('selectPolicy', row)\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.policy-table-container {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  padding: 1rem;\n}\n\n.policy-table-actions {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.filter {\n  width: 100%;\n  display: grid;\n  grid-template-rows: 1fr;\n  grid-template-columns: repeat(2, 1fr) .25fr;\n  grid-template-areas:\n    \"attributes search reset\";\n  gap: 1rem;\n\n  & > * {\n    margin: 0.5rem 0;\n  }\n\n  &__attributes {\n    grid-area: attributes;\n  }\n\n  &__search {\n    grid-area: search;\n  }\n\n  &__reset {\n    grid-area: reset;\n\n    p {\n      line-height: 1.5;\n      white-space: wrap;\n    }\n  }\n}\n\n/* Make table rows clickable */\n:deep(tr:hover) {\n  cursor: pointer;\n}\n</style>\n","import script from \"./PolicyTable.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PolicyTable.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PolicyTable.vue?vue&type=style&index=0&id=2ce15ea6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2ce15ea6\"]])\n\nexport default __exports__","import { render } from \"./Create.vue?vue&type=template&id=231277f4&scoped=true\"\nimport script from \"./Create.vue?vue&type=script&lang=js\"\nexport * from \"./Create.vue?vue&type=script&lang=js\"\n\nimport \"./Create.vue?vue&type=style&index=0&id=231277f4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-231277f4\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, withCtx as _withCtx, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = { key: 1 }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"step__values__controls\"\n}\nconst _hoisted_3 = { class: \"scroll__container\" }\nconst _hoisted_4 = { class: \"scroll__content\" }\n\nimport {\n  ref,\n  onMounted,\n  watch,\n  computed,\n  markRaw\n} from 'vue';\nimport { useStore } from 'vuex';\nimport { defineAsyncComponent, toRaw } from 'vue';\n\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport { SCHEMA } from '@shell/config/types';\nimport { createYaml, saferDump } from '@shell/utils/create-yaml';\n\nimport ButtonGroup from '@shell/components/ButtonGroup';\nimport Loading from '@shell/components/Loading';\nimport ResourceCancelModal from '@shell/components/ResourceCancelModal';\nimport Tabbed from '@shell/components/Tabbed';\nimport YamlEditor, { EDITOR_MODES } from '@shell/components/YamlEditor';\n\nimport {\n  KUBEWARDEN_CHARTS,\n  VALUES_STATE,\n  YAML_OPTIONS,\n  RANCHER_NS_MATCH_EXPRESSION\n} from '@kubewarden/types';\n\ninterface Props {\n  mode: string;\n  chartValues: Record<string, any>;\n  customPolicy?: boolean;\n  value: Record<string, any>;\n  yamlValues: string;\n  errorFetchingPolicy: boolean;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'Values',\n  props: {\n    mode: {},\n    chartValues: {},\n    customPolicy: { type: Boolean },\n    value: {},\n    yamlValues: {},\n    errorFetchingPolicy: { type: Boolean }\n  },\n  emits: ['editor', 'updateYamlValues'],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\nconst store = useStore();\nconst emit = __emit;\n\nconst fetchPending = ref(true);\n\nconst currentYamlValues = ref('');\nconst originalYamlValues = ref('');\nconst showForm = ref(true);\nconst valuesComponent = ref<any>(null);\nconst preYamlOption = ref(VALUES_STATE.FORM);\nconst yamlOption = ref(VALUES_STATE.FORM);\nconst version = ref<any>(null);\n\nconst editorMode = computed(() => EDITOR_MODES.EDIT_CODE);\nconst isCreate = computed(() => props.mode === _CREATE);\nconst isEdit = computed(() => props.mode === _EDIT);\n\nwatch(yamlOption, (neu, old) => {\n  switch (neu) {\n  case VALUES_STATE.FORM:\n    showForm.value = true;\n    emit('editor', neu);\n    break;\n  case VALUES_STATE.YAML:\n    // Switching to YAML view from form\n    if (old === VALUES_STATE.FORM) {\n      currentYamlValues.value = saferDump(props.chartValues.policy);\n      updateYamlValues();\n    }\n\n    showForm.value = false;\n    emit('editor', neu);\n    break;\n  }\n});\n\nfunction generateYaml() {\n  const schemas = store.getters['cluster/all'](SCHEMA);\n\n  const rawPolicy = toRaw(props.chartValues.policy);\n  // Fallback to props.value if there is no policy\n  const cloned = rawPolicy ? structuredClone(rawPolicy) : props.value;\n\n  if (props.yamlValues?.length) {\n    currentYamlValues.value = props.yamlValues;\n  } else {\n    currentYamlValues.value = createYaml(schemas, props.value?.type, cloned);\n  }\n}\n\nfunction loadValuesComponent() {\n  if (props.value?.haveComponent('kubewarden/admission')) {\n    // Dynamic import of the form component\n    const importFn = props.value.importComponent('kubewarden/admission');\n\n    valuesComponent.value = markRaw(defineAsyncComponent(importFn));\n  }\n}\n\nfunction tabChanged() {\n  window.scrollTo(0, 0);\n}\n\nfunction updateYamlValues() {\n  emit('updateYamlValues', currentYamlValues.value);\n}\n\nonMounted(async() => {\n  // Attempt to fetch chart version info\n  try {\n    version.value = store.getters['catalog/version']({\n      repoType:  'cluster',\n      repoName:  'kubewarden',\n      chartName: KUBEWARDEN_CHARTS.CONTROLLER\n    });\n    loadValuesComponent();\n  } catch (e) {\n    console.warn(`Unable to fetch Version: ${ e }`);\n  }\n\n  generateYaml();\n\n  // If creating a ClusterAdmissionPolicy, ensure default matchExpressions\n  if (props.mode === _CREATE && props.chartValues?.policy?.kind === 'ClusterAdmissionPolicy') {\n    if (!props.chartValues?.policy?.spec?.namespaceSelector) {\n      props.chartValues.policy.spec.namespaceSelector = {};\n    }\n    props.chartValues.policy.spec.namespaceSelector.matchExpressions = [\n      RANCHER_NS_MATCH_EXPRESSION\n    ];\n  }\n\n  fetchPending.value = false;\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (fetchPending.value)\n    ? (_openBlock(), _createBlock(_unref(Loading), {\n        key: 0,\n        mode: \"relative\"\n      }))\n    : (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        (isCreate.value || isEdit.value)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n              _createVNode(_unref(ButtonGroup), {\n                value: yamlOption.value,\n                \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((yamlOption).value = $event)),\n                \"data-testid\": \"kw-policy-config-yaml-option\",\n                options: _unref(YAML_OPTIONS),\n                \"inactive-class\": \"bg-disabled btn-sm\",\n                \"active-class\": \"bg-primary btn-sm\"\n              }, null, 8, [\"value\", \"options\"])\n            ]))\n          : _createCommentVNode(\"\", true),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createElementVNode(\"div\", _hoisted_4, [\n            (showForm.value)\n              ? (_openBlock(), _createBlock(_unref(Tabbed), {\n                  key: 0,\n                  ref: \"tabs\",\n                  \"side-tabs\": true,\n                  class: \"step__values__content\",\n                  onChanged: _cache[1] || (_cache[1] = ($event: any) => (tabChanged()))\n                }, {\n                  default: _withCtx(() => [\n                    (valuesComponent.value)\n                      ? (_openBlock(), _createBlock(_resolveDynamicComponent(valuesComponent.value), {\n                          key: 0,\n                          value: _ctx.chartValues,\n                          mode: _ctx.mode,\n                          \"custom-policy\": _ctx.customPolicy,\n                          \"error-fetching-policy\": _ctx.errorFetchingPolicy\n                        }, null, 8, [\"value\", \"mode\", \"custom-policy\", \"error-fetching-policy\"]))\n                      : _createCommentVNode(\"\", true)\n                  ]),\n                  _: 1\n                }, 512))\n              : ((isCreate.value || isEdit.value) && !showForm.value)\n                ? (_openBlock(), _createBlock(_unref(YamlEditor), {\n                    key: 1,\n                    ref: \"yaml\",\n                    value: currentYamlValues.value,\n                    \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => ((currentYamlValues).value = $event)),\n                    \"data-testid\": \"kw-policy-config-yaml-editor\",\n                    class: \"step__values__content\",\n                    scrolling: true,\n                    \"initial-yaml-values\": originalYamlValues.value,\n                    \"editor-mode\": editorMode.value,\n                    \"hide-preview-buttons\": true,\n                    onOnChanges: updateYamlValues\n                  }, null, 8, [\"value\", \"initial-yaml-values\", \"editor-mode\"]))\n                : _createCommentVNode(\"\", true),\n            _createVNode(_unref(ResourceCancelModal), {\n              ref: \"cancelModal\",\n              \"data-testid\": \"kw-policy-config-yaml-cancel\",\n              \"is-cancel-modal\": false,\n              \"is-form\": true,\n              onCancelCancel: _cache[3] || (_cache[3] = ($event: any) => (preYamlOption.value = yamlOption.value)),\n              onConfirmCancel: _cache[4] || (_cache[4] = ($event: any) => (yamlOption.value = preYamlOption.value))\n            }, null, 512)\n          ])\n        ])\n      ]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport {\n  ref,\n  onMounted,\n  watch,\n  computed,\n  markRaw\n} from 'vue';\nimport { useStore } from 'vuex';\nimport { defineAsyncComponent, toRaw } from 'vue';\n\nimport { _CREATE, _EDIT } from '@shell/config/query-params';\nimport { SCHEMA } from '@shell/config/types';\nimport { createYaml, saferDump } from '@shell/utils/create-yaml';\n\nimport ButtonGroup from '@shell/components/ButtonGroup';\nimport Loading from '@shell/components/Loading';\nimport ResourceCancelModal from '@shell/components/ResourceCancelModal';\nimport Tabbed from '@shell/components/Tabbed';\nimport YamlEditor, { EDITOR_MODES } from '@shell/components/YamlEditor';\n\nimport {\n  KUBEWARDEN_CHARTS,\n  VALUES_STATE,\n  YAML_OPTIONS,\n  RANCHER_NS_MATCH_EXPRESSION\n} from '@kubewarden/types';\n\ninterface Props {\n  mode: string;\n  chartValues: Record<string, any>;\n  customPolicy?: boolean;\n  value: Record<string, any>;\n  yamlValues: string;\n  errorFetchingPolicy: boolean;\n}\n\nconst props = defineProps<Props>();\nconst store = useStore();\nconst emit = defineEmits(['editor', 'updateYamlValues']);\n\nconst fetchPending = ref(true);\n\nconst currentYamlValues = ref('');\nconst originalYamlValues = ref('');\nconst showForm = ref(true);\nconst valuesComponent = ref<any>(null);\nconst preYamlOption = ref(VALUES_STATE.FORM);\nconst yamlOption = ref(VALUES_STATE.FORM);\nconst version = ref<any>(null);\n\nconst editorMode = computed(() => EDITOR_MODES.EDIT_CODE);\nconst isCreate = computed(() => props.mode === _CREATE);\nconst isEdit = computed(() => props.mode === _EDIT);\n\nwatch(yamlOption, (neu, old) => {\n  switch (neu) {\n  case VALUES_STATE.FORM:\n    showForm.value = true;\n    emit('editor', neu);\n    break;\n  case VALUES_STATE.YAML:\n    // Switching to YAML view from form\n    if (old === VALUES_STATE.FORM) {\n      currentYamlValues.value = saferDump(props.chartValues.policy);\n      updateYamlValues();\n    }\n\n    showForm.value = false;\n    emit('editor', neu);\n    break;\n  }\n});\n\nfunction generateYaml() {\n  const schemas = store.getters['cluster/all'](SCHEMA);\n\n  const rawPolicy = toRaw(props.chartValues.policy);\n  // Fallback to props.value if there is no policy\n  const cloned = rawPolicy ? structuredClone(rawPolicy) : props.value;\n\n  if (props.yamlValues?.length) {\n    currentYamlValues.value = props.yamlValues;\n  } else {\n    currentYamlValues.value = createYaml(schemas, props.value?.type, cloned);\n  }\n}\n\nfunction loadValuesComponent() {\n  if (props.value?.haveComponent('kubewarden/admission')) {\n    // Dynamic import of the form component\n    const importFn = props.value.importComponent('kubewarden/admission');\n\n    valuesComponent.value = markRaw(defineAsyncComponent(importFn));\n  }\n}\n\nfunction tabChanged() {\n  window.scrollTo(0, 0);\n}\n\nfunction updateYamlValues() {\n  emit('updateYamlValues', currentYamlValues.value);\n}\n\nonMounted(async() => {\n  // Attempt to fetch chart version info\n  try {\n    version.value = store.getters['catalog/version']({\n      repoType:  'cluster',\n      repoName:  'kubewarden',\n      chartName: KUBEWARDEN_CHARTS.CONTROLLER\n    });\n    loadValuesComponent();\n  } catch (e) {\n    console.warn(`Unable to fetch Version: ${ e }`);\n  }\n\n  generateYaml();\n\n  // If creating a ClusterAdmissionPolicy, ensure default matchExpressions\n  if (props.mode === _CREATE && props.chartValues?.policy?.kind === 'ClusterAdmissionPolicy') {\n    if (!props.chartValues?.policy?.spec?.namespaceSelector) {\n      props.chartValues.policy.spec.namespaceSelector = {};\n    }\n    props.chartValues.policy.spec.namespaceSelector.matchExpressions = [\n      RANCHER_NS_MATCH_EXPRESSION\n    ];\n  }\n\n  fetchPending.value = false;\n});\n</script>\n\n<template>\n  <Loading v-if=\"fetchPending\" mode=\"relative\" />\n  <div v-else>\n    <div v-if=\"isCreate || isEdit\" class=\"step__values__controls\">\n      <ButtonGroup\n        v-model:value=\"yamlOption\"\n        data-testid=\"kw-policy-config-yaml-option\"\n        :options=\"YAML_OPTIONS\"\n        inactive-class=\"bg-disabled btn-sm\"\n        active-class=\"bg-primary btn-sm\"\n      />\n    </div>\n\n    <div class=\"scroll__container\">\n      <div class=\"scroll__content\">\n        <!-- Show the form-based component if showForm is true -->\n        <template v-if=\"showForm\">\n          <Tabbed\n            ref=\"tabs\"\n            :side-tabs=\"true\"\n            class=\"step__values__content\"\n            @changed=\"tabChanged()\"\n          >\n            <template v-if=\"valuesComponent\">\n              <component\n                :is=\"valuesComponent\"\n                :value=\"chartValues\"\n                :mode=\"mode\"\n                :custom-policy=\"customPolicy\"\n                :error-fetching-policy=\"errorFetchingPolicy\"\n              />\n            </template>\n          </Tabbed>\n        </template>\n\n        <!-- Otherwise, show the YAML editor -->\n        <template v-else-if=\"(isCreate || isEdit) && !showForm\">\n          <YamlEditor\n            ref=\"yaml\"\n            v-model:value=\"currentYamlValues\"\n            data-testid=\"kw-policy-config-yaml-editor\"\n            class=\"step__values__content\"\n            :scrolling=\"true\"\n            :initial-yaml-values=\"originalYamlValues\"\n            :editor-mode=\"editorMode\"\n            :hide-preview-buttons=\"true\"\n            @onChanges=\"updateYamlValues\"\n          />\n        </template>\n\n        <ResourceCancelModal\n          ref=\"cancelModal\"\n          data-testid=\"kw-policy-config-yaml-cancel\"\n          :is-cancel-modal=\"false\"\n          :is-form=\"true\"\n          @cancel-cancel=\"preYamlOption = yamlOption\"\n          @confirm-cancel=\"yamlOption = preYamlOption\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n$padding: 5px;\n\n.step {\n  &__values {\n    &__controls {\n      display: flex;\n      margin-bottom: 15px;\n\n      & > *:not(:last-of-type) {\n        margin-right: $padding * 2;\n      }\n\n      &--spacer {\n        flex: 1;\n      }\n    }\n\n    &__content {\n      flex: 1;\n\n      :deep(.tab-container) {\n        overflow: auto;\n      }\n    }\n  }\n}\n</style>\n","import script from \"./Values.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Values.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Values.vue?vue&type=style&index=0&id=7bf0db83&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7bf0db83\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-5f854ef2] .btn-sm{padding:0 7px 0 0}.policy-info-panel[data-v-5f854ef2]{position:fixed;top:0;left:0;z-index:2;overflow-y:auto;--banner-top-offset:0}.policy-info-panel .glass[data-v-5f854ef2]{left:0;width:100%;opacity:0}.policy-info-panel .glass[data-v-5f854ef2],.policy-info-panel .slideIn[data-v-5f854ef2]{position:fixed;top:calc(54px + var(--banner-top-offset));height:calc(100% - 54px - var(--banner-top-offset));overflow-y:auto}.policy-info-panel .slideIn[data-v-5f854ef2]{border-left:var(--header-border-size) solid var(--header-border);right:-45%;background-color:var(--topmenu-bg);width:45%;display:flex;flex-direction:column;box-shadow:-3px 0 5px rgba(0,0,0,.1);padding:10px;transition:right .5s ease}.policy-info-panel .slideIn__header[data-v-5f854ef2]{text-transform:inherit}.policy-info-panel .slideIn .policy-info-content[data-v-5f854ef2]{display:flex;flex-direction:column;overflow-y:auto}.policy-info-panel .slideIn h3[data-v-5f854ef2]{font-size:14px;margin:0;opacity:.7;text-transform:uppercase}.policy-info-panel .slideIn .policy-header[data-v-5f854ef2]{border-bottom:1px solid var(--border);display:flex;align-items:center}.policy-info-panel .slideIn .policy-header .policy-title[data-v-5f854ef2]{flex:1}.policy-info-panel .slideIn__header[data-v-5f854ef2]{display:flex;align-items:center;justify-content:space-between}.policy-info-panel .slideIn__header__buttons[data-v-5f854ef2]{display:flex;align-items:center}.policy-info-panel .slideIn__header__button[data-v-5f854ef2]{cursor:pointer;display:flex;align-items:center;justify-content:center}.policy-info-panel .slideIn__header__button>i[data-v-5f854ef2]{font-size:20px;opacity:.5}.policy-info-panel .slideIn__header__button[data-v-5f854ef2]:hover{background-color:var(--wm-closer-hover-bg)}.policy-info-panel .slideIn__show[data-v-5f854ef2]{right:0}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./PolicyReadmePanel.vue?vue&type=style&index=0&id=5f854ef2&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"5a319f52\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","<script>\nimport jsyaml from 'js-yaml';\nimport { _CREATE, _EDIT, _CLONE } from '@shell/config/query-params';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n\nimport CruResource from '@shell/components/CruResource';\nimport { removeEmptyAttrs } from '@kubewarden/utils/object';\nimport { handleGrowl } from '@kubewarden/utils/handle-growl';\n\nimport Config from '@kubewarden/components/Policies/Config';\nimport Create from '@kubewarden/components/Policies/Create';\n\nexport default {\n  name: 'AdmissionPolicy',\n\n  props: {\n    value: {\n      type:     Object,\n      required: true\n    },\n\n    mode: {\n      type:    String,\n      default: _EDIT\n    },\n\n    realMode: {\n      type:    String,\n      default: _EDIT\n    }\n  },\n\n  components: {\n    CruResource,\n    Config,\n    Create\n  },\n\n  mixins: [CreateEditView],\n\n  provide() {\n    return {\n      chartType: this.value.type,\n      realMode:  this.realMode\n    };\n  },\n\n  computed: {\n    isCreate() {\n      return this.realMode === _CREATE;\n    },\n\n    isClone() {\n      return this.realMode === _CLONE;\n    },\n\n    schema() {\n      return this.$store.getters['cluster/schemaFor'](this.value.type);\n    }\n  },\n\n  methods: {\n    async finish(event) {\n      try {\n        removeEmptyAttrs(this.value);\n\n        // remove metadata that identifies a CAP as a default policy, so that we can edit it later on the UI\n        // https://github.com/rancher/kubewarden-ui/issues/682\n        if (\n          this.isClone &&\n          this.value.isKubewardenDefaultPolicy &&\n          this.value?.metadata?.labels?.['app.kubernetes.io/name'] === 'kubewarden-defaults'\n        ) {\n          delete this.value?.metadata?.labels?.['app.kubernetes.io/name'];\n        }\n\n        await this.save(event, (this.schema?.linkFor('collection') || ''));\n      } catch (e) {\n        handleGrowl({\n          error: e,\n          store: this.$store\n        });\n      }\n    },\n\n    // this updates the \"value\" obj for CAP's\n    // with the updated values that came from the \"edit YAML\" scenario\n    updateYamlValuesFromEdit(val) {\n      const parsed = jsyaml.load(val);\n\n      removeEmptyAttrs(parsed);\n      Object.assign(this.value, parsed);\n    }\n  }\n};\n</script>\n\n<template>\n  <Create v-if=\"isCreate\" :value=\"value\" :mode=\"mode\" />\n  <CruResource\n    v-else\n    :errors=\"errors\"\n    :resource=\"value\"\n    :mode=\"realMode\"\n    :can-yaml=\"false\"\n    @finish=\"finish\"\n  >\n    <Config\n      :value=\"value\"\n      :mode=\"realMode\"\n      @updateYamlValues=\"updateYamlValuesFromEdit\"\n    />\n  </CruResource>\n</template>\n\n<style lang=\"scss\" scoped>\n:deep(.cru__footer) {\n  z-index: 1;\n}\n</style>\n","import { render } from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=template&id=788fd4b0&scoped=true\"\nimport script from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js\"\nexport * from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js\"\n\nimport \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=style&index=0&id=788fd4b0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-788fd4b0\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-231277f4] .header{display:none}[data-v-231277f4] .controls-row{position:sticky;width:auto}[data-v-231277f4] .controls-row .controls-steps{display:flex}[data-v-231277f4] .custom{min-height:110px}[data-v-231277f4] .subtype{height:110px;margin:10px;position:relative;border-radius:calc(var(--border-radius)*1.5);border:1px solid var(--border);text-decoration:none!important;color:var(--body-text)!important}[data-v-231277f4] .subtype:hover:not(.disabled){box-shadow:0 0 30px var(--shadow);transition:box-shadow .1s ease-in-out;cursor:pointer;text-decoration:none!important}[data-v-231277f4] .subtype .subtype__metadata{padding:10px}[data-v-231277f4] .subtype .subtype__metadata__description,[data-v-231277f4] .subtype .subtype__metadata__label{padding-right:20px}[data-v-231277f4] .subtype .subtype__badge{position:absolute;right:0;top:0;padding:4px 5px;border-bottom-left-radius:var(--border-radius)}[data-v-231277f4] .subtype .subtype__badge label{font-size:12px;line-height:12px;text-align:center;display:block;white-space:no-wrap;text-overflow:ellipsis;color:var(--app-rancher-accent-text);margin:0}[data-v-231277f4] .subtype .subtype__label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:4px;line-height:normal}[data-v-231277f4] .subtype .subtype__description{margin-right:10px;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;line-clamp:3;overflow:hidden;text-overflow:ellipsis;color:var(--input-label)}[data-v-231277f4] .footer-error{margin-top:15px}.wizard[data-v-231277f4]{position:relative;height:100%;z-index:1}.banner__title[data-v-231277f4]{padding-top:10px;margin-bottom:10px;border-bottom:1px solid var(--border);min-height:60px}.banner__readme-button[data-v-231277f4]{padding:0 7px 0 0}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=style&index=0&id=6e954f10&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"803a93b0\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = {\n  class: \"policy-info-panel\",\n  style: `--banner-top-offset: 0px`\n}\nconst _hoisted_2 = { class: \"slideIn__header\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"policy-info-content\"\n}\nconst _hoisted_4 = { class: \"policy-header pb-10\" }\nconst _hoisted_5 = { class: \"slideIn__header__buttons\" }\nconst _hoisted_6 = { class: \"policy-title mt-20\" }\nconst _hoisted_7 = { class: \"policy-info-title\" }\n\nimport { computed, ref } from 'vue';\nimport { useStore } from 'vuex';\n\nimport ChartReadme from '@shell/components/ChartReadme';\n\nimport { KUBEWARDEN_POLICY_ANNOTATIONS, LEGACY_POLICY_ANNOTATIONS, PolicyDetail } from '@kubewarden/types';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'PolicyReadmePanel',\n  props: {\n    policyChartDetails: {}\n  },\n  setup(__props: any, { expose: __expose }) {\n\nconst props = __props;\n\nconst store = useStore();\nconst showSlideIn = ref(false);\nconst t = store.getters['i18n/t'];\n\nconst displayName = computed<string>(() => {\n  const { annotations } = props.policyChartDetails.chart;\n  let name = props.policyChartDetails.chart.name;\n\n  if (annotations) {\n    name =\n      annotations[KUBEWARDEN_POLICY_ANNOTATIONS.DISPLAY_NAME] ??\n      annotations[LEGACY_POLICY_ANNOTATIONS.DISPLAY_NAME] ??\n      name;\n  }\n\n  return name;\n});\n\nconst show = () => {\n  showSlideIn.value = true;\n};\n\nconst hide = () => {\n  showSlideIn.value = false;\n};\n\n__expose({\n  show,\n  hide,\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (showSlideIn.value)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          class: \"glass\",\n          \"data-testid\": \"extension-details-bg\",\n          onClick: hide\n        }))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", {\n      class: _normalizeClass([\"slideIn\", {'hide': false, 'slideIn__show': showSlideIn.value}]),\n      \"data-testid\": \"extension-details\"\n    }, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        (props.policyChartDetails)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n              _createElementVNode(\"div\", _hoisted_4, [\n                _createElementVNode(\"div\", _hoisted_5, [\n                  _createElementVNode(\"button\", {\n                    class: \"btn btn-sm role-link\",\n                    onClick: hide\n                  }, [\n                    _createElementVNode(\"span\", null, _toDisplayString(_unref(t)('generic.close')), 1),\n                    _cache[0] || (_cache[0] = _createElementVNode(\"i\", { class: \"icon icon-chevron-right\" }, null, -1))\n                  ])\n                ])\n              ]),\n              _createElementVNode(\"div\", _hoisted_6, [\n                _createElementVNode(\"h2\", _hoisted_7, _toDisplayString(displayName.value), 1)\n              ]),\n              _createVNode(_unref(ChartReadme), {\n                class: \"mt-20\",\n                \"version-info\": _ctx.policyChartDetails\n              }, null, 8, [\"version-info\"])\n            ]))\n          : _createCommentVNode(\"\", true)\n      ])\n    ], 2)\n  ]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { computed, ref } from 'vue';\nimport { useStore } from 'vuex';\n\nimport ChartReadme from '@shell/components/ChartReadme';\n\nimport { KUBEWARDEN_POLICY_ANNOTATIONS, LEGACY_POLICY_ANNOTATIONS, PolicyDetail } from '@kubewarden/types';\n\nconst props = defineProps<{ policyChartDetails: PolicyDetail }>();\n\nconst store = useStore();\nconst showSlideIn = ref(false);\nconst t = store.getters['i18n/t'];\n\nconst displayName = computed<string>(() => {\n  const { annotations } = props.policyChartDetails.chart;\n  let name = props.policyChartDetails.chart.name;\n\n  if (annotations) {\n    name =\n      annotations[KUBEWARDEN_POLICY_ANNOTATIONS.DISPLAY_NAME] ??\n      annotations[LEGACY_POLICY_ANNOTATIONS.DISPLAY_NAME] ??\n      name;\n  }\n\n  return name;\n});\n\nconst show = () => {\n  showSlideIn.value = true;\n};\n\nconst hide = () => {\n  showSlideIn.value = false;\n};\n\ndefineExpose({\n  show,\n  hide,\n});\n</script>\n\n<template>\n  <div\n    class=\"policy-info-panel\"\n    :style=\"`--banner-top-offset: 0px`\"\n  >\n    <div\n      v-if=\"showSlideIn\"\n      class=\"glass\"\n      data-testid=\"extension-details-bg\"\n      @click=\"hide\"\n    />\n    <div\n      class=\"slideIn\"\n      data-testid=\"extension-details\"\n      :class=\"{'hide': false, 'slideIn__show': showSlideIn}\"\n    >\n      <div class=\"slideIn__header\">\n        <div\n          v-if=\"props.policyChartDetails\"\n          class=\"policy-info-content\"\n        >\n          <div class=\"policy-header pb-10\">\n            <div class=\"slideIn__header__buttons\">\n              <button class=\"btn btn-sm role-link\" @click=\"hide\">\n                <span>{{ t('generic.close') }}</span>\n                <i class=\"icon icon-chevron-right\" />\n              </button>\n            </div>\n          </div>\n\n          <div class=\"policy-title mt-20\">\n            <h2 class=\"policy-info-title\">\n              {{ displayName }}\n            </h2>\n          </div>\n\n          <ChartReadme class=\"mt-20\" :version-info=\"policyChartDetails\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n:deep(.btn-sm) {\n  padding: 0 7px 0 0;\n}\n\n.policy-info-panel {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2;\n  overflow-y: auto;\n\n  $slideout-width: 35%;\n  $title-height: 50px;\n  $padding: 5px;\n  $slideout-width: 45%;\n  --banner-top-offset: 0;\n  $header-height: calc(54px + var(--banner-top-offset));\n\n  .glass {\n    position: fixed;\n    top: $header-height;\n    height: calc(100% - $header-height);\n    left: 0;\n    width: 100%;\n    opacity: 0;\n    overflow-y: auto;\n  }\n\n  .slideIn {\n    border-left: var(--header-border-size) solid var(--header-border);\n    position: fixed;\n    top: $header-height;\n    right: -$slideout-width;\n    height: calc(100% - $header-height);\n    background-color: var(--topmenu-bg);\n    width: $slideout-width;\n    display: flex;\n    flex-direction: column;\n    overflow-y: auto;\n    box-shadow: -3px 0 5px rgba(0, 0, 0, 0.1);\n\n    padding: 10px;\n\n    transition: right .5s ease;\n\n    &__header {\n      text-transform: inherit;\n    }\n\n    .policy-info-content {\n      display: flex;\n      flex-direction: column;\n      overflow-y: auto;\n    }\n\n    h3 {\n      font-size: 14px;\n      margin: 0;\n      opacity: 0.7;\n      text-transform: uppercase;\n    }\n\n    .policy-header {\n      border-bottom: 1px solid var(--border);\n      display: flex;\n      align-items: center;\n\n      .policy-title {\n        flex: 1;\n      }\n    }\n\n    &__header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n\n      &__buttons {\n        display: flex;\n        align-items: center;\n      }\n\n      &__button {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n\n        > i {\n          font-size: 20px;\n          opacity: 0.5;\n        }\n\n        &:hover {\n          background-color: var(--wm-closer-hover-bg);\n        }\n      }\n    }\n\n    &__show {\n      right: 0;\n    }\n  }\n}\n</style>\n","import script from \"./PolicyReadmePanel.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PolicyReadmePanel.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PolicyReadmePanel.vue?vue&type=style&index=0&id=5f854ef2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5f854ef2\"]])\n\nexport default __exports__","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"[data-v-6e954f10] .cru__footer{z-index:1}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".policy-table-container[data-v-2ce15ea6]{display:flex;flex-direction:column;gap:1rem;padding:1rem}.policy-table-actions[data-v-2ce15ea6]{display:flex;justify-content:space-between;align-items:center}.filter[data-v-2ce15ea6]{width:100%;display:grid;grid-template-rows:1fr;grid-template-columns:repeat(2,1fr) .25fr;grid-template-areas:\\\"attributes search reset\\\";gap:1rem}.filter[data-v-2ce15ea6]>*{margin:.5rem 0}.filter__attributes[data-v-2ce15ea6]{grid-area:attributes}.filter__search[data-v-2ce15ea6]{grid-area:search}.filter__reset[data-v-2ce15ea6]{grid-area:reset}.filter__reset p[data-v-2ce15ea6]{line-height:1.5;white-space:wrap}[data-v-2ce15ea6] tr:hover{cursor:pointer}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-23.use[1]!../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[2]!../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-23.use[3]!../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-23.use[4]!../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./Create.vue?vue&type=style&index=0&id=231277f4&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"37d9fc82\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, unref as _unref, createElementBlock as _createElementBlock, createVNode as _createVNode } from \"vue\"\n\nconst _hoisted_1 = { key: 1 }\nconst _hoisted_2 = { class: \"content\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"banner__title\"\n}\nconst _hoisted_4 = { class: \"banner__short-description\" }\n\nimport { onBeforeMount, onMounted, ref, toRaw } from 'vue';\nimport { useStore } from 'vuex';\n\nimport { CATALOG, MANAGEMENT } from '@shell/config/types';\nimport { saferDump } from '@shell/utils/create-yaml';\nimport { set } from '@shell/utils/object';\n\nimport Loading from '@shell/components/Loading.vue';\n\nimport {\n  Chart, Version, VersionInfo, KUBEWARDEN_ANNOTATIONS, KUBEWARDEN_CATALOG_ANNOTATIONS\n} from '@kubewarden/types';\n\nimport PolicyReadmePanel from './PolicyReadmePanel.vue';\nimport Values from './Values.vue';\n\ninterface Props {\n  mode: string;\n  value: Record<string, any>;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'Config',\n  props: {\n    mode: {},\n    value: {}\n  },\n  emits: ['updateYamlValues'],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\nconst emit = __emit;\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst selectedPolicyDetails = ref<any>(null);\nconst chartValues = ref<any>(null);\nconst yamlValues = ref('');\nconst shortDescription = ref('');\nconst policyReadme = ref<any>(null);\n\nconst fetchPending = ref(true);\nconst errorFetchingPolicy = ref(false);\n\nconst systemDefaultRegistry = store.getters['management/byId'](MANAGEMENT.SETTING, 'system-default-registry');\n\nasync function loadFromAnnotations(chartKey: string, chartName: string, chartVersion: string) {\n  if (!chartKey && (!chartName || !chartVersion)) {\n    console.warn('No chart details found in annotations');\n\n    return;\n  }\n\n  let chart: any | null = null;\n  let version: any = null;\n\n  if (chartKey) {\n    chart = toRaw(store.getters['catalog/chart']({ key: chartKey }));\n  }\n\n  if (chart) {\n    version = chart?.versions?.find((v: any) => v.version === chartVersion);\n  } else {\n    // Fallback: find chart by filtering\n    const charts = store.getters['catalog/charts'] as Chart[];\n\n    chart = charts.find((c) => c.chartType === 'kubewarden-policy' && c.chartName === chartName);\n    version = chart?.versions?.find((v: Version) => v.version === chartVersion);\n  }\n\n  if (version) {\n    try {\n      const versionInfo = await store.dispatch('catalog/getVersionInfo', {\n        repoType:    version.repoType,\n        repoName:    version.repoName,\n        chartName,\n        versionName: version.version\n      });\n\n      processChartDetails(toRaw(versionInfo));\n    } catch (e) {\n      console.warn('Failed to load chart version:', e);\n\n      errorFetchingPolicy.value = true;\n    }\n  }\n}\n\nasync function loadFromModule() {\n  const module = props.value.spec?.module;\n\n  if (!module) {\n    return;\n  }\n\n  const [repo, tag] = module.split(':');\n  const charts: Chart[] = store.getters['catalog/charts'].filter((c: Chart) => c.chartType === 'kubewarden-policy');\n\n  let matchingChart = null;\n  let matchingVersion = null;\n\n  chartLoop:\n  for (const chart of charts) {\n    if (!chart?.versions?.length) {\n      continue;\n    }\n\n    for (const version of chart.versions) {\n      const annos = version.annotations || {};\n      const registryFromAnnotations = annos[KUBEWARDEN_CATALOG_ANNOTATIONS.REGISTRY] || systemDefaultRegistry?.value;\n      const repositoryFromAnnotations = annos[KUBEWARDEN_CATALOG_ANNOTATIONS.REPOSITORY];\n      const tagFromAnnotations = annos[KUBEWARDEN_CATALOG_ANNOTATIONS.TAG];\n\n      const assembledRepo = `${ registryFromAnnotations }/${ repositoryFromAnnotations }`;\n\n      if (assembledRepo === repo && tagFromAnnotations === tag) {\n        matchingChart = chart;\n        matchingVersion = version;\n\n        break chartLoop;\n      }\n    }\n  }\n\n  if (matchingChart && matchingVersion) {\n    try {\n      const versionInfo: VersionInfo = await store.dispatch('catalog/getVersionInfo', {\n        repoType:    matchingVersion.repoType,\n        repoName:    matchingVersion.repoName,\n        chartName:   matchingChart.chartName,\n        versionName: matchingVersion.version\n      });\n\n      processChartDetails(toRaw(versionInfo));\n    } catch (e) {\n      console.warn('Failed to fetch version info:', e);\n      errorFetchingPolicy.value = true;\n    }\n  }\n}\n\nfunction processChartDetails(versionInfo: VersionInfo) {\n  selectedPolicyDetails.value = versionInfo;\n  shortDescription.value = versionInfo?.chart?.description || '';\n  policyReadme.value = versionInfo?.readme;\n\n  if (versionInfo.questions) {\n    set(chartValues.value, 'questions', versionInfo.questions);\n  }\n}\n\nconst readmePanel = ref<InstanceType<typeof PolicyReadmePanel> | null>(null);\n\nfunction showReadme() {\n  readmePanel.value?.show();\n}\n\nonBeforeMount(async() => {\n  const isReposLoaded = store.getters['catalog/repos']?.length > 0;\n\n  if (!isReposLoaded && store.getters['cluster/canList'](CATALOG.CLUSTER_REPO)) {\n    await store.dispatch('cluster/findAll', { type: CATALOG.CLUSTER_REPO });\n  }\n\n  const isChartsLoaded = store.getters['catalog/charts']?.length > 0;\n\n  if (!isChartsLoaded) {\n    await store.dispatch('catalog/refresh');\n  }\n});\n\nonMounted(async() => {\n  chartValues.value = {\n    policy:    props.value,\n    questions: null\n  };\n\n  // Try annotations first\n  const chartKey     = props.value?.metadata?.annotations?.[KUBEWARDEN_ANNOTATIONS.CHART_KEY];\n  const chartName    = props.value?.metadata?.annotations?.[KUBEWARDEN_ANNOTATIONS.CHART_NAME];\n  const chartVersion = props.value?.metadata?.annotations?.[KUBEWARDEN_ANNOTATIONS.CHART_VERSION];\n\n  if (chartKey || (chartName && chartVersion)) {\n    await loadFromAnnotations(chartKey, chartName, chartVersion);\n  } else {\n    await loadFromModule();\n  }\n\n  yamlValues.value = saferDump(props.value);\n\n  fetchPending.value = false;\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (fetchPending.value)\n    ? (_openBlock(), _createBlock(Loading, { key: 0 }))\n    : (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          (shortDescription.value)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n                _createElementVNode(\"p\", _hoisted_4, _toDisplayString(shortDescription.value), 1),\n                (policyReadme.value)\n                  ? (_openBlock(), _createElementBlock(\"button\", {\n                      key: 0,\n                      class: \"btn btn-sm role-link banner__readme-button\",\n                      onClick: showReadme\n                    }, _toDisplayString(_unref(t)('kubewarden.policyConfig.description.showReadme')), 1))\n                  : _createCommentVNode(\"\", true)\n              ]))\n            : _createCommentVNode(\"\", true),\n          _createVNode(Values, {\n            value: props.value,\n            \"chart-values\": chartValues.value,\n            \"yaml-values\": yamlValues.value,\n            mode: props.mode,\n            \"error-fetching-policy\": errorFetchingPolicy.value,\n            onUpdateYamlValues: _cache[0] || (_cache[0] = val => emit('updateYamlValues', val))\n          }, null, 8, [\"value\", \"chart-values\", \"yaml-values\", \"mode\", \"error-fetching-policy\"])\n        ]),\n        (policyReadme.value)\n          ? (_openBlock(), _createBlock(PolicyReadmePanel, {\n              key: 0,\n              ref_key: \"readmePanel\",\n              ref: readmePanel,\n              \"policy-chart-details\": selectedPolicyDetails.value\n            }, null, 8, [\"policy-chart-details\"]))\n          : _createCommentVNode(\"\", true)\n      ]))\n}\n}\n\n})","<script setup lang=\"ts\">\nimport { onBeforeMount, onMounted, ref, toRaw } from 'vue';\nimport { useStore } from 'vuex';\n\nimport { CATALOG, MANAGEMENT } from '@shell/config/types';\nimport { saferDump } from '@shell/utils/create-yaml';\nimport { set } from '@shell/utils/object';\n\nimport Loading from '@shell/components/Loading.vue';\n\nimport {\n  Chart, Version, VersionInfo, KUBEWARDEN_ANNOTATIONS, KUBEWARDEN_CATALOG_ANNOTATIONS\n} from '@kubewarden/types';\n\nimport PolicyReadmePanel from './PolicyReadmePanel.vue';\nimport Values from './Values.vue';\n\ninterface Props {\n  mode: string;\n  value: Record<string, any>;\n}\n\nconst props = defineProps<Props>();\nconst emit = defineEmits(['updateYamlValues']);\nconst store = useStore();\nconst t = store.getters['i18n/t'];\n\nconst selectedPolicyDetails = ref<any>(null);\nconst chartValues = ref<any>(null);\nconst yamlValues = ref('');\nconst shortDescription = ref('');\nconst policyReadme = ref<any>(null);\n\nconst fetchPending = ref(true);\nconst errorFetchingPolicy = ref(false);\n\nconst systemDefaultRegistry = store.getters['management/byId'](MANAGEMENT.SETTING, 'system-default-registry');\n\nasync function loadFromAnnotations(chartKey: string, chartName: string, chartVersion: string) {\n  if (!chartKey && (!chartName || !chartVersion)) {\n    console.warn('No chart details found in annotations');\n\n    return;\n  }\n\n  let chart: any | null = null;\n  let version: any = null;\n\n  if (chartKey) {\n    chart = toRaw(store.getters['catalog/chart']({ key: chartKey }));\n  }\n\n  if (chart) {\n    version = chart?.versions?.find((v: any) => v.version === chartVersion);\n  } else {\n    // Fallback: find chart by filtering\n    const charts = store.getters['catalog/charts'] as Chart[];\n\n    chart = charts.find((c) => c.chartType === 'kubewarden-policy' && c.chartName === chartName);\n    version = chart?.versions?.find((v: Version) => v.version === chartVersion);\n  }\n\n  if (version) {\n    try {\n      const versionInfo = await store.dispatch('catalog/getVersionInfo', {\n        repoType:    version.repoType,\n        repoName:    version.repoName,\n        chartName,\n        versionName: version.version\n      });\n\n      processChartDetails(toRaw(versionInfo));\n    } catch (e) {\n      console.warn('Failed to load chart version:', e);\n\n      errorFetchingPolicy.value = true;\n    }\n  }\n}\n\nasync function loadFromModule() {\n  const module = props.value.spec?.module;\n\n  if (!module) {\n    return;\n  }\n\n  const [repo, tag] = module.split(':');\n  const charts: Chart[] = store.getters['catalog/charts'].filter((c: Chart) => c.chartType === 'kubewarden-policy');\n\n  let matchingChart = null;\n  let matchingVersion = null;\n\n  chartLoop:\n  for (const chart of charts) {\n    if (!chart?.versions?.length) {\n      continue;\n    }\n\n    for (const version of chart.versions) {\n      const annos = version.annotations || {};\n      const registryFromAnnotations = annos[KUBEWARDEN_CATALOG_ANNOTATIONS.REGISTRY] || systemDefaultRegistry?.value;\n      const repositoryFromAnnotations = annos[KUBEWARDEN_CATALOG_ANNOTATIONS.REPOSITORY];\n      const tagFromAnnotations = annos[KUBEWARDEN_CATALOG_ANNOTATIONS.TAG];\n\n      const assembledRepo = `${ registryFromAnnotations }/${ repositoryFromAnnotations }`;\n\n      if (assembledRepo === repo && tagFromAnnotations === tag) {\n        matchingChart = chart;\n        matchingVersion = version;\n\n        break chartLoop;\n      }\n    }\n  }\n\n  if (matchingChart && matchingVersion) {\n    try {\n      const versionInfo: VersionInfo = await store.dispatch('catalog/getVersionInfo', {\n        repoType:    matchingVersion.repoType,\n        repoName:    matchingVersion.repoName,\n        chartName:   matchingChart.chartName,\n        versionName: matchingVersion.version\n      });\n\n      processChartDetails(toRaw(versionInfo));\n    } catch (e) {\n      console.warn('Failed to fetch version info:', e);\n      errorFetchingPolicy.value = true;\n    }\n  }\n}\n\nfunction processChartDetails(versionInfo: VersionInfo) {\n  selectedPolicyDetails.value = versionInfo;\n  shortDescription.value = versionInfo?.chart?.description || '';\n  policyReadme.value = versionInfo?.readme;\n\n  if (versionInfo.questions) {\n    set(chartValues.value, 'questions', versionInfo.questions);\n  }\n}\n\nconst readmePanel = ref<InstanceType<typeof PolicyReadmePanel> | null>(null);\n\nfunction showReadme() {\n  readmePanel.value?.show();\n}\n\nonBeforeMount(async() => {\n  const isReposLoaded = store.getters['catalog/repos']?.length > 0;\n\n  if (!isReposLoaded && store.getters['cluster/canList'](CATALOG.CLUSTER_REPO)) {\n    await store.dispatch('cluster/findAll', { type: CATALOG.CLUSTER_REPO });\n  }\n\n  const isChartsLoaded = store.getters['catalog/charts']?.length > 0;\n\n  if (!isChartsLoaded) {\n    await store.dispatch('catalog/refresh');\n  }\n});\n\nonMounted(async() => {\n  chartValues.value = {\n    policy:    props.value,\n    questions: null\n  };\n\n  // Try annotations first\n  const chartKey     = props.value?.metadata?.annotations?.[KUBEWARDEN_ANNOTATIONS.CHART_KEY];\n  const chartName    = props.value?.metadata?.annotations?.[KUBEWARDEN_ANNOTATIONS.CHART_NAME];\n  const chartVersion = props.value?.metadata?.annotations?.[KUBEWARDEN_ANNOTATIONS.CHART_VERSION];\n\n  if (chartKey || (chartName && chartVersion)) {\n    await loadFromAnnotations(chartKey, chartName, chartVersion);\n  } else {\n    await loadFromModule();\n  }\n\n  yamlValues.value = saferDump(props.value);\n\n  fetchPending.value = false;\n});\n</script>\n\n<template>\n  <Loading v-if=\"fetchPending\" />\n  <div v-else>\n    <div class=\"content\">\n      <div v-if=\"shortDescription\" class=\"banner__title\">\n        <p class=\"banner__short-description\">\n          {{ shortDescription }}\n        </p>\n        <button\n          v-if=\"policyReadme\"\n          class=\"btn btn-sm role-link banner__readme-button\"\n          @click=\"showReadme\"\n        >\n          {{ t('kubewarden.policyConfig.description.showReadme') }}\n        </button>\n      </div>\n\n      <Values\n        :value=\"props.value\"\n        :chart-values=\"chartValues\"\n        :yaml-values=\"yamlValues\"\n        :mode=\"props.mode\"\n        :error-fetching-policy=\"errorFetchingPolicy\"\n        @updateYamlValues=\"val => emit('updateYamlValues', val)\"\n      />\n    </div>\n\n    <template v-if=\"policyReadme\">\n      <PolicyReadmePanel\n        ref=\"readmePanel\"\n        :policy-chart-details=\"selectedPolicyDetails\"\n      />\n    </template>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.content {\n  position: relative;\n  z-index: 1;\n}\n\n.banner {\n  &__title {\n    padding-top: 10px;\n    margin-bottom: 10px;\n    border-bottom: 1px solid var(--border);\n    min-height: 60px;\n  }\n\n  &__readme-button {\n    padding: 0 7px 0 0;\n  }\n}\n</style>\n","import script from \"./Config.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./Config.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./Config.vue?vue&type=style&index=0&id=4f77d707&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4f77d707\"]])\n\nexport default __exports__"],"names":["___CSS_LOADER_EXPORT___","push","module","id","key","class","_ctx","$fetchState","pending","_createBlock","_component_Loading","mode","_component_CruResource","resource","$props","value","realMode","doneRoute","errors","$options","validationPassed","onFinish","finish","default","_withCtx","_createVNode","_component_Values","$data","chartValues","hasErrors","_createElementBlock","_hoisted_1","_Fragment","_renderList","err","i","_component_Banner","color","closable","onClose","$event","closeError","_createTextVNode","_toDisplayString","_","_createCommentVNode","isCreate","isEdit","_hoisted_2","_component_ButtonGroup","yamlOption","_cache","options","YAML_OPTIONS","_createElementVNode","_hoisted_3","showForm","_component_Tabbed","ref","onChanged","tabChanged","_resolveDynamicComponent","valuesComponent","values","onValidationPassed","handleValidationPassed","_component_YamlEditor","currentYamlValues","scrolling","originalYamlValues","editorMode","onOnChanges","updateYamlValues","_component_ResourceCancelModal","onCancelCancel","preYamlOption","onConfirmCancel","name","props","type","String","_CREATE","Object","required","components","ButtonGroup","Loading","ResourceCancelModal","Tabbed","YamlEditor","created","valuesYaml","this","generateYaml","loadValuesComponent","e","console","error","data","configValues","showQuestions","showValuesComponent","VALUES_STATE","FORM","watch","neu","old","YAML","computed","EDITOR_MODES","EDIT_CODE","_EDIT","methods","schemas","$store","getters","SCHEMA","yaml","createYaml","lines","split","filteredLines","filter","line","includes","modifiedYAML","join","haveComponent","importFn","importComponent","markRaw","defineAsyncComponent","window","scrollTop","isEmpty","parsed","jsyaml","merge","val","$emit","__exports__","Banner","CruResource","Values","mixins","CreateEditView","fetch","schema","KUBEWARDEN","POLICY_SERVER","fetchResourceFields","structuredClone","DEFAULT_POLICY_SERVER","length","Array","isArray","metadata","index","event","securityContexts","spec","forEach","seccompProfile","keys","save","render","content","__esModule","locals","exports","add","removeEmptyAttrs","obj","undefined","isObject","_component_Create","_component_Config","onUpdateYamlValues","updateYamlValuesFromEdit","Config","Create","provide","chartType","isClone","_CLONE","isKubewardenDefaultPolicy","labels","linkFor","handleGrowl","store","prototype","hasOwnProperty","call","assign","isLoading","hideOfficialRepoBanner","closeBanner","t","_component_AsyncButton","onClick","addRepository","hideRepoBanner","hideAirgapBanner","label","_component_Wizard","steps","onNext","reset","onCancel","done","policies","_component_PolicyTable","charts","latestPolicyChartsVersion","onSelectPolicy","selectPolicy","bannerTitle","customPolicy","_hoisted_4","shortDescription","selectedPolicyDetails","readme","selectPolicyDetails","appreadme","errorFetchingPolicy","args","showReadme","_hoisted_5","yamlValues","onEditor","disabled","canFinish","_component_PolicyReadmePanel","trimTrailingSlash","inputString","replace","resourcesFromAnnotation","policyChart","out","resources","flatMap","annotation","annotations","KUBEWARDEN_POLICY_ANNOTATIONS","RESOURCES","LEGACY_POLICY_ANNOTATIONS","s","trim","sort","Set","Boolean","isGlobalPolicy","targetsNonNamespaced","some","attributes","kind","namespaced","_defineComponent","__name","rows","headers","tableActions","rowActions","keyField","defaultSortBy","paging","search","useQueryParamsForSimpleFiltering","emits","setup","__props","emit","__emit","sortableTable","listeners","addRowClickListener","nextTick","table","$el","querySelector","removeRowClickListener","querySelectorAll","row","listener","rowsProp","addEventListener","removeEventListener","onMounted","onBeforeUnmount","_openBlock","_unref","SortableTable","ref_key","inject","useStore","route","useRoute","category","query","CATEGORY","searchQuery","SEARCH_QUERY","showKubewardenOfficial","allSchemas","showPreRelease","SHOW_PRE_RELEASE","computedAttributes","get","set","newVal","allLabel","cleaned","x","filteredCharts","chart","isPreRelease","isPrerelease","ADMISSION_POLICY","filteredPolicies","showPre","showOfficial","searchTokens","map","ensureRegex","isPre","official","displayName","coalescedDisplayName","keywords","coalescedKeywords","desc","description","matchesSearch","every","token","match","k","matchesAttributes","attribute","isFeature","featureOptions","isMutation","isContextAware","coalescedResources","a","b","localeCompare","attributeOptionsComputed","resourceOptions","unshift","featuresList","policy","semver","version","refresh","getAnnotation","fromAnnotation","arrayFromAnnotation","MUTATION","CONTEXT_AWARE_RESOURCES","LabeledSelect","clearable","taggable","multiple","LabeledInput","placeholder","Checkbox","SortableTableWrapper","POLICY_TABLE_HEADERS","onSelectRow","AsyncButton","Wizard","PolicyTable","PolicyReadmePanel","isReposLoaded","CATALOG","CLUSTER_REPO","dispatch","isChartsLoaded","apiVersion","group","OFFICIAL_REPOS","KUBEWARDEN_REPOS","POLICY_CATALOG","POLICY_CATALOG_REPO","POLICY_CATALOG_REPO_GIT","loadingPackages","packages","repository","selectedPolicyChart","typeModule","questions","hasCustomPolicy","finishAttempts","stepPolicies","hidden","ready","showSteps","weight","stepValues","mapGetters","repos","isAirgap","isSelected","hasRequired","systemDefaultRegistry","MANAGEMENT","SETTING","rules","settings","requiredRules","acceptedRules","acceptedValues","acceptedName","requiredQuestions","q","variable","acceptedQuestions","officialKubewardenRepo","policiesCharts","versions","chartRepo","repoType","repoName","repoUrl","url","reposByName","reduce","acc","repo","reposByUrl","rawRepoUrl","gitRepo","btnCb","repoObj","requiredProp","requiredKeys","accepted","find","prop","checkProperties","isEqual","banner","retry","res","status","close","createNamespace","ns","allNamespaces","NAMESPACE","nsTemplate","disableOpenApiValidation","existing","n","nsResource","$router","params","cluster","$route","product","KUBEWARDEN_PRODUCT_NAME","$delete","isNamespaceNew","namespace","attemptSave","Error","parseObj","JSON","parse","stringify","policyQuestions","defaultPolicy","DEFAULT_POLICY","updatedCustomPolicy","contextAwareResources","finalPolicy","saferDump","KUBEWARDEN_ANNOTATIONS","CHART_KEY","CHART_NAME","CHART_VERSION","chartName","versionName","policyAnnotations","toRaw","registry","KUBEWARDEN_CATALOG_ANNOTATIONS","REGISTRY","policyModule","REPOSITORY","TAG","updatedPolicy","mutating","MUTATING","RULES","CLUSTER_ADMISSION_POLICY","warn","message","$nextTick","step","initialState","path","hash","$refs","wizard","next","DISPLAY_NAME","readmePanel","show","fetchPending","rawPolicy","cloned","scrollTo","async","KUBEWARDEN_CHARTS","CONTROLLER","namespaceSelector","matchExpressions","RANCHER_NS_MATCH_EXPRESSION","style","_hoisted_6","_hoisted_7","policyChartDetails","expose","__expose","showSlideIn","hide","_normalizeClass","ChartReadme","policyReadme","loadFromAnnotations","chartKey","chartVersion","v","c","versionInfo","processChartDetails","loadFromModule","tag","matchingChart","matchingVersion","chartLoop","annos","registryFromAnnotations","repositoryFromAnnotations","tagFromAnnotations","assembledRepo","onBeforeMount"],"sourceRoot":""}