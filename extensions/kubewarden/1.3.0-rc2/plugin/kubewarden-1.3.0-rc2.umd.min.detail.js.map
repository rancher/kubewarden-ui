{"version":3,"sources":["webpack://kubewarden-1.3.0-rc2/./components/TraceTable.vue","webpack://kubewarden-1.3.0-rc2/./utils/service.ts","webpack://kubewarden-1.3.0-rc2/./modules/jaegerTracing.ts","webpack://kubewarden-1.3.0-rc2/./utils/duration-format.ts","webpack://kubewarden-1.3.0-rc2/./components/TraceChecklist.vue","webpack://kubewarden-1.3.0-rc2/components/TraceChecklist.vue","webpack://kubewarden-1.3.0-rc2/./components/TraceChecklist.vue?c473","webpack://kubewarden-1.3.0-rc2/./components/TraceChecklist.vue?17a3","webpack://kubewarden-1.3.0-rc2/components/TraceTable.vue","webpack://kubewarden-1.3.0-rc2/./components/TraceTable.vue?a899","webpack://kubewarden-1.3.0-rc2/./components/TraceTable.vue?a48d","webpack://kubewarden-1.3.0-rc2/./components/TraceTable.vue?f0c7","webpack://kubewarden-1.3.0-rc2/./detail/policies.kubewarden.io.policyserver.vue?9162","webpack://kubewarden-1.3.0-rc2/./detail/policies.kubewarden.io.policyserver.vue","webpack://kubewarden-1.3.0-rc2/detail/policies.kubewarden.io.policyserver.vue","webpack://kubewarden-1.3.0-rc2/./detail/policies.kubewarden.io.policyserver.vue?5658","webpack://kubewarden-1.3.0-rc2/./detail/policies.kubewarden.io.policyserver.vue?dde1","webpack://kubewarden-1.3.0-rc2/./components/MetricsTab.vue","webpack://kubewarden-1.3.0-rc2/./modules/grafana.ts","webpack://kubewarden-1.3.0-rc2/./modules/metricsConfig.ts","webpack://kubewarden-1.3.0-rc2/./components/MetricsChecklist.vue","webpack://kubewarden-1.3.0-rc2/components/MetricsChecklist.vue","webpack://kubewarden-1.3.0-rc2/./components/MetricsChecklist.vue?f44c","webpack://kubewarden-1.3.0-rc2/./components/MetricsChecklist.vue?806c","webpack://kubewarden-1.3.0-rc2/components/MetricsTab.vue","webpack://kubewarden-1.3.0-rc2/./components/MetricsTab.vue?0f48","webpack://kubewarden-1.3.0-rc2/./components/MetricsTab.vue?5f74","webpack://kubewarden-1.3.0-rc2/./detail/policies.kubewarden.io.policyserver.vue?ca51","webpack://kubewarden-1.3.0-rc2/./components/MetricsChecklist.vue?64dd","webpack://kubewarden-1.3.0-rc2/./detail/policies.kubewarden.io.admissionpolicy.vue","webpack://kubewarden-1.3.0-rc2/detail/policies.kubewarden.io.admissionpolicy.vue","webpack://kubewarden-1.3.0-rc2/./detail/policies.kubewarden.io.admissionpolicy.vue?9025","webpack://kubewarden-1.3.0-rc2/./detail/policies.kubewarden.io.admissionpolicy.vue?eb14","webpack://kubewarden-1.3.0-rc2/./components/TraceChecklist.vue?aab7","webpack://kubewarden-1.3.0-rc2/./components/Policies/PolicyDetail.vue","webpack://kubewarden-1.3.0-rc2/./components/RulesTable.vue","webpack://kubewarden-1.3.0-rc2/components/RulesTable.vue","webpack://kubewarden-1.3.0-rc2/./components/RulesTable.vue?fa84","webpack://kubewarden-1.3.0-rc2/./components/RulesTable.vue?66d0","webpack://kubewarden-1.3.0-rc2/components/Policies/PolicyDetail.vue","webpack://kubewarden-1.3.0-rc2/./components/Policies/PolicyDetail.vue?2754","webpack://kubewarden-1.3.0-rc2/./components/Policies/PolicyDetail.vue?92e0","webpack://kubewarden-1.3.0-rc2/./components/MetricsChecklist.vue?323d","webpack://kubewarden-1.3.0-rc2/./detail/policies.kubewarden.io.clusteradmissionpolicy.vue","webpack://kubewarden-1.3.0-rc2/detail/policies.kubewarden.io.clusteradmissionpolicy.vue","webpack://kubewarden-1.3.0-rc2/./detail/policies.kubewarden.io.clusteradmissionpolicy.vue?50e4","webpack://kubewarden-1.3.0-rc2/./detail/policies.kubewarden.io.clusteradmissionpolicy.vue?0db9","webpack://kubewarden-1.3.0-rc2/./components/TraceTable.vue?2a26","webpack://kubewarden-1.3.0-rc2/./assets lazy ^\\.\\/.*\\.json$ namespace object","webpack://kubewarden-1.3.0-rc2/./components/TraceTable.vue?f1a3","webpack://kubewarden-1.3.0-rc2/./components/TraceChecklist.vue?b804","webpack://kubewarden-1.3.0-rc2/./components/MetricsChecklist.vue?517c","webpack://kubewarden-1.3.0-rc2/./components/TraceChecklist.vue?d31d","webpack://kubewarden-1.3.0-rc2/./detail/policies.kubewarden.io.policyserver.vue?5b56"],"names":["render","_vm","this","_c","_self","$fetchState","pending","attrs","showChecklist","controllerApp","tracingConfiguration","jaegerQuerySvc","openTelSvc","emptyPolicies","t","showTable","filteredValidations","TRACE_HEADERS","rowsPerPage","scopedSlots","_u","key","fn","row","staticClass","mode","modeColor","_v","_s","name","namespace","formatTime","startTime","duration","fullColspan","responseMessage","responseCode","mutated","emptyTracesLabel","staticRenderFns","proxyUrl","service","port","view","links","idx","lastIndexOf","proxyUrlFromBase","slice","metadata","base","scheme","path","schemaNamePort","encodeURIComponent","cleanPath","replace","cleanBase","out","async","jaegerTraces","config","store","queryService","resource","relatedPolicies","policy","time","proxy","promises","isEmpty","Error","push","jaegerTraceRequest","forEach","p","hash","res","Promise","all","flatMap","o","data","scaffoldPolicyTrace","e","console","warn","jaegerPolicyName","_policy$metadata","_policy$metadata2","_policy$metadata3","kind","_policy$spec","apiPath","lookbackTime","options","operation","spec","JAEGER_PATH","dispatch","url","traces","currentCluster","getters","filterTraces","policyName","reduce","acc","trace","_validationSpan$tags","validationSpan","spans","find","span","operationName","matchedTag","tags","tag","value","convertedTags","convertTagsToObject","id","traceID","allowed","response_message","response_code","cluster","updatedTrace","KUBEWARDEN","POLICY_SERVER","relatedPolicy","relatedTraces","arr","result","item","type","parseInt","parseFloat","dayjs","extend","_duration","ONE_MILLISECOND","ONE_SECOND","ONE_MINUTE","ONE_HOUR","ONE_DAY","UNIT_STEPS","unit","microseconds","ofPrevious","formatDuration","primaryUnit","secondaryUnit","_dropWhile","index","length","_round","primaryValue","Math","floor","primaryUnitString","secondaryValue","round","secondaryUnitString","class","directives","rawName","expression","tracingEnabled","controllerLinkTooltip","controllerLinkDisabled","on","controllerAppRoute","props","Object","default","components","Banner","computed","mapGetters","enabled","methods","_this$controllerApp$s","_this$controllerApp$s2","_metadata$annotations","_metadata$annotations2","_metadata$annotations3","_metadata$annotations4","_metadata$annotations5","_this$currentCluster","chart","query","NAMESPACE","annotations","CATALOG","NAME","RELEASE_NAME","VERSION","REPO","SOURCE_REPO_NAME","REPO_TYPE","SOURCE_REPO_TYPE","CHART","$router","params","component","relativeTime","String","required","Array","BadgeState","Loading","SortableTable","TraceChecklist","mixins","ResourceFetch","types","APP","CLUSTER_REPO","SERVICE","$store","$fetchType","allHash","specificValidations","MODE_MAP","OPERATION_MAP","charts","allApps","allServices","_this$allApps","app","_app$spec","_app$spec$chart","_app$spec$chart$metad","KUBEWARDEN_CHARTS","CONTROLLER","controllerChart","_this$charts","chartName","groupField","isPolicyServer","emptyTraces","_this$controllerApp","_this$controllerApp$s3","values","telemetry","tracing","jaegerServices","_this$allServices","filter","svc","_svc$metadata","_svc$metadata$labels","labels","_svc$spec","ports","openTelemetryServices","_this$allServices2","_svc$metadata2","_svc$metadata2$labels","KUBERNETES","MANAGED_NAME","_svc$spec2","_this$tracingConfigur","v","opColor","op","content","__esModule","module","i","locals","exports","add","policyGauges","_l","group","relatedPoliciesTotal","count","color","_e","tracesGauges","traceGaugeTotals","model","callback","$$v","RELATED_HEADERS","groupPreference","active","CountGauge","MetricsTab","ResourceTabs","ResourceTable","Tab","TraceTable","CreateEditView","_CREATE","allRelatedPolicies","assignIfNotEmpty","prop","reloadRequired","policyTraces","_group","mapPref","GROUP_RESOURCES","filteredTraces","policyTraceObj","_this$filteredTraces","hasNamespaceSelector","namespaceSelector","cattleDashboardNs","kubewardenGrafanaDashboards","monitoringApp","monitoringChart","metricsProxy","grafanaProxy","grafana","grafanaService","handleGrowl","error","root","findKubewardenDashboards","CONFIG_MAP","selector","addKubewardenDashboards","dashboardEnums","KubewardenDashboards","_existing$metadata","file","fileKey","existing","KubewardenDashboardLabels","DASHBOARD","PART_OF","GRAFANA_DASHBOARD","HelmAnnotations","configMapTemplate","JSON","stringify","save","monitoringIsConfigured","configured","serviceMonitorsConfigured","isArray","some","c","_c$selectors","selectorsConfigured","selectors","serviceMonitorSpec","policyServerSvcs","map","sm","_sm$namespaceSelector","_sm$namespaceSelector2","_controllerApp$metada","hasNamespace","matchNames","includes","_sm$selector","matchLabels","keys","_configured$selectors","hasLabel","monitoringLinkTooltip","$event","monitoringAppRoute","monitoringChartLink","emptyKubewardenDashboards","dashboardsTooltip","dashboardButtonDisabled","addDashboards","metricsEnabled","kubewardenDashboards","AsyncButton","controllerMetricsConfig","metrics","monitoringServiceMonitorsSpec","_this$monitoringApp$s","_this$monitoringApp$s2","_this$monitoringApp$s3","prometheus","additionalServiceMonitors","btnCb","goToInstall","_this$monitoringApp$m","_this$monitoringApp$m2","_this$monitoringApp$s4","_this$monitoringApp$s5","_this$monitoringApp$s6","_this$monitoringApp$s7","_this$monitoringApp$s8","_this$monitoringApp$s9","_this$monitoringApp$s10","_this$monitoringApp$s11","_this$monitoringApp$s12","_this$monitoringApp$s13","_this$monitoringApp$s14","_this$monitoringApp$s15","_this$monitoringApp$s16","_this$monitoringApp$s17","version","_this$controllerApp$s4","_this$controllerApp$s5","_this$currentCluster2","Boolean","DashboardMetrics","MetricsChecklist","resourceMap","property","allRepos","allConfigMaps","allPolicyServers","MONITORING","SERVICEMONITOR","allServiceMonitors","allNamespaces","refreshCharts","init","monitoringStatus","installed","METRICS_TYPE","metricsService","dashboardExists","_statusText","message","POLICY","watch","ns","_ns$metadata","monitoringServices","configMap","_configMap$metadata","_configMap$metadata$l","_this$allApps2","_app$spec2","_app$spec2$chart","_app$spec2$chart$meta","_this$charts2","_svc$metadata3","_svc$metadata3$labels","policyServerNames","ps","_ps$metadata","_svc$metadata4","_svc$metadata4$labels","monitoringEnabled","grafanaDashboardsInstalled","___CSS_LOADER_API_IMPORT___","PolicyDetail","hasRelationships","hasRules","rulesRows","rows","RULE_HEADERS","apiGroups","apiVersions","joinColumn","operations","resources","join","RulesTable","dashboardVars","_this$value","policy_name","_this$value$metadata","relationships","_this$value$spec","rules","webpackAsyncContext","req","__webpack_require__","resolve","then","code","ids"],"mappings":"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","file":"kubewarden-1.3.0-rc2.umd.min.detail.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.$fetchState.pending)?_c('Loading',{attrs:{\"mode\":\"relative\"}}):_c('div',[(_vm.showChecklist)?_c('TraceChecklist',{attrs:{\"controller-app\":_vm.controllerApp,\"tracing-configuration\":_vm.tracingConfiguration,\"jaeger-query-svc\":_vm.jaegerQuerySvc,\"open-tel-svc\":_vm.openTelSvc}}):(!_vm.showChecklist && _vm.emptyPolicies)?_c('Banner',{attrs:{\"color\":\"error\",\"label\":_vm.t('kubewarden.tracing.noRelatedPolicies')}}):(_vm.showTable)?_c('SortableTable',{attrs:{\"rows\":_vm.filteredValidations,\"headers\":_vm.TRACE_HEADERS,\"table-actions\":false,\"row-actions\":false,\"key-field\":\"id\",\"default-sort-by\":\"startTime\",\"sub-expandable\":true,\"sub-expand-column\":true,\"sub-rows\":true,\"paging\":true,\"rows-per-page\":_vm.rowsPerPage},scopedSlots:_vm._u([{key:\"col:mode\",fn:function({row}){return [_c('td',[_c('BadgeState',{staticClass:\"text-capitalize\",attrs:{\"label\":row.mode,\"color\":_vm.modeColor(row.mode)}})],1)]}},{key:\"col:name\",fn:function({row}){return [_c('td',{staticClass:\"text-bold\"},[_vm._v(\" \"+_vm._s(row.name)+\" \")])]}},{key:\"col:namespace\",fn:function({row}){return [_c('td',[_vm._v(\" \"+_vm._s(row.namespace ? row.namespace : '-')+\" \")])]}},{key:\"col:startTime\",fn:function({row}){return [_c('td',[_vm._v(\" \"+_vm._s(_vm.formatTime(row.startTime))+\" \")])]}},{key:\"col:duration\",fn:function({row}){return [_c('td',[_vm._v(\" \"+_vm._s(_vm.duration(row.duration))+\" \")])]}},{key:\"sub-row\",fn:function({row, fullColspan}){return [_c('td',{staticClass:\"sub-row\",attrs:{\"colspan\":fullColspan}},[_c('div',{staticClass:\"details\"},[_c('section',{staticClass:\"col\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" Response Message \")]),_c('span',{staticClass:\"text-info text-capitalize\"},[_vm._v(\" \"+_vm._s(row.responseMessage ? row.responseMessage : '-')+\" \")])]),_c('section',{staticClass:\"col\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" Response Code \")]),_c('span',{staticClass:\"text-info\"},[_vm._v(\" \"+_vm._s(row.responseCode ? row.responseCode : '-')+\" \")])]),_c('section',{staticClass:\"col\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" Mutated \")]),_c('span',{staticClass:\"text-info\"},[_vm._v(\" \"+_vm._s(row.mutated)+\" \")])])])])]}}])}):_c('Banner',{attrs:{\"color\":\"warning\",\"label\":_vm.t(_vm.emptyTracesLabel)}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function proxyUrl(service: any, port: number): string {\n  const view: string = service?.links['view'];\n  const idx: number = view.lastIndexOf(`/`);\n\n  return proxyUrlFromBase(view.slice(0, idx), 'http', service?.metadata.name, port);\n}\n\nexport function proxyUrlFromBase(base: string, scheme: string, name: string, port: number, path?: any): string {\n  const schemaNamePort = (scheme ? `${ encodeURIComponent(scheme) }:` : '') + encodeURIComponent(name) + (port ? `:${ encodeURIComponent(port) }` : '');\n\n  const cleanPath = `/${ (path || '').replace(/^\\/+/g, '') }`;\n  const cleanBase = base.replace(/\\/+$/g, '');\n\n  const out = `${ cleanBase }/${ schemaNamePort }/proxy${ cleanPath }`;\n\n  return out;\n}\n","import isEmpty from 'lodash/isEmpty';\n\nimport {\n  KUBEWARDEN, JaegerConfig, PolicyTrace, PolicyTraceConfig, Tag\n} from '../types';\nimport { proxyUrl } from '../utils/service';\n\n/** TODO: Update the `any` types throughout this file */\n\n/**\n * Fetches trace reports from Jaeger for each related policy or singular policy.\n * @param config `JaegerConfig` | Contains the `store`, `jaegerQueryService`, `resource` (policy-server or policy type),\n * `relatedPolicies?` needed for policy server, `policy?` for individual policies, `time?` for trace timeframe.\n * @returns `PolicyTraceConfig | null` | A scaffold object which contains the policy name, cluster id, and traces for the policy.\n */\nexport async function jaegerTraces(config: JaegerConfig): Promise<PolicyTraceConfig | null> {\n  const {\n    store, queryService, resource, relatedPolicies, policy, time\n  } = config;\n\n  try {\n    const proxy = proxyUrl(queryService, 16686);\n\n    const promises = [];\n\n    if ( !isEmpty(relatedPolicies) ) {\n      relatedPolicies?.forEach((p: any) => {\n        const hash = jaegerTraceRequest(store, proxy, p, time);\n\n        if ( hash ) {\n          promises.push(hash);\n        }\n      });\n    } else if ( policy ) {\n      promises.push(jaegerTraceRequest(store, proxy, policy, time));\n    } else {\n      throw new Error('Policy is undefined');\n    }\n\n    let res = await Promise.all(promises);\n\n    res = res.flatMap(o => o?.data);\n\n    return scaffoldPolicyTrace(store, res, resource, relatedPolicies, policy);\n  } catch (e) {\n    console.warn(`Error fetching Jaeger traces: ${ e }`); // eslint-disable-line no-console\n  }\n\n  return null;\n}\n\nexport function jaegerPolicyName(policy: any) {\n  let out = null;\n\n  switch (policy?.kind) {\n  case 'ClusterAdmissionPolicy':\n    out = `clusterwide-${ policy?.metadata?.name }`;\n    break;\n\n  case 'AdmissionPolicy':\n    out = `namespaced-${ policy?.metadata?.namespace }-${ policy?.metadata?.name }`;\n    break;\n\n  default:\n    break;\n  }\n\n  return out;\n}\n\nfunction jaegerTraceRequest(store: any, proxyUrl: any, policy: any, time?: any) {\n  let apiPath = null;\n\n  const name = jaegerPolicyName(policy);\n  const lookbackTime = time || '2d';\n\n  const options = `lookback=${ lookbackTime }&tags={\"policy_id\"%3A\"${ name }\"}`;\n  const operation = policy?.spec?.mode === 'monitor' ? 'policy_eval' : 'validation';\n\n  // The service `kubewarden-policy-server` is **not** a k8s Service\n  apiPath = `api/traces?service=kubewarden-policy-server&operation=${ operation }&${ options }`;\n  const JAEGER_PATH = `${ proxyUrl + apiPath }`;\n\n  return store.dispatch('cluster/request', { url: JAEGER_PATH });\n}\n\nfunction scaffoldPolicyTrace(store: any, traces: any, resource: any, relatedPolicies: any, policy: any): any {\n  const currentCluster = store.getters['currentCluster'];\n  const out = [];\n\n  function filterTraces(p: any) {\n    const policyName = jaegerPolicyName(p);\n\n    return traces.reduce((acc: any, trace: any): PolicyTrace[] => {\n      let out = {};\n\n      const validationSpan = trace.spans.find((span: any) => span.operationName === 'validation');\n      const matchedTag = validationSpan?.tags?.find((tag: any) => tag?.key === 'policy_id' && tag?.value === policyName);\n\n      if ( matchedTag ) {\n        const convertedTags = convertTagsToObject(validationSpan.tags);\n\n        out = {\n          id:              trace.traceID,\n          allowed:         convertedTags.allowed,\n          mode:            p.spec.mode,\n          name:            convertedTags.name,\n          operation:       convertedTags.operation,\n          kind:            convertedTags.kind,\n          namespace:       convertedTags.namespace || null,\n          startTime:       validationSpan.startTime,\n          duration:        validationSpan.duration,\n          responseMessage: convertedTags.response_message,\n          responseCode:    convertedTags.response_code,\n          mutated:         convertedTags.mutated\n        };\n      }\n\n      if ( !isEmpty(out) ) {\n        acc.push(out);\n        store.dispatch('kubewarden/updatePolicyTraces', {\n          policyName:   p.metadata.name,\n          cluster:      currentCluster?.id,\n          updatedTrace: out\n        });\n      }\n\n      return acc;\n    }, []);\n  }\n\n  if ( resource === KUBEWARDEN.POLICY_SERVER ) {\n    for ( const relatedPolicy of relatedPolicies ) {\n      const relatedTraces = filterTraces(relatedPolicy);\n\n      if ( !isEmpty(relatedTraces) ) {\n        out.push({\n          policyName: relatedPolicy.metadata.name,\n          cluster:    currentCluster?.id,\n          traces:     relatedTraces\n        });\n      }\n    }\n  } else {\n    const relatedTraces = filterTraces(policy);\n\n    if ( !isEmpty(relatedTraces) ) {\n      out.push({\n        policyName: policy.metadata.name,\n        cluster:    currentCluster?.id,\n        traces:     relatedTraces\n      });\n    }\n  }\n\n  return out;\n}\n\nexport function convertTagsToObject(arr: Tag[]): Record<string, string | number | boolean> {\n  const result: Record<string, string | number | boolean> = {};\n\n  for (const item of arr) {\n    switch (item.type) {\n    case 'string':\n      result[item.key] = item.value as string;\n      break;\n    case 'int64':\n      result[item.key] = parseInt(item.value as string, 10);\n      break;\n    case 'float64':\n      result[item.key] = parseFloat(item.value as string);\n      break;\n    case 'bool':\n      result[item.key] = item.value === 'true';\n      break;\n    default:\n      result[item.key] = item.value;\n    }\n  }\n\n  return result;\n}\n","import dayjs from 'dayjs';\nimport _dropWhile from 'lodash/dropWhile';\nimport _round from 'lodash/round';\nimport _duration from 'dayjs/plugin/duration';\n\ndayjs.extend(_duration);\n\nexport const STANDARD_DATE_FORMAT = 'YYYY-MM-DD';\nexport const STANDARD_TIME_FORMAT = 'HH:mm';\nexport const STANDARD_DATETIME_FORMAT = 'MMMM D YYYY, HH:mm:ss.SSS';\n\n/** @constant 1ms as the number of microseconds, which is the precision of Jaeger timestamps */\nexport const ONE_MILLISECOND = 1000 * 1;\n\nconst ONE_SECOND = 1000 * ONE_MILLISECOND;\nconst ONE_MINUTE = 60 * ONE_SECOND;\nconst ONE_HOUR = 60 * ONE_MINUTE;\nconst ONE_DAY = 24 * ONE_HOUR;\n\nconst UNIT_STEPS: { unit: string; microseconds: number; ofPrevious: number }[] = [\n  {\n    unit: 'd', microseconds: ONE_DAY, ofPrevious: 24\n  },\n  {\n    unit: 'h', microseconds: ONE_HOUR, ofPrevious: 60\n  },\n  {\n    unit: 'm', microseconds: ONE_MINUTE, ofPrevious: 60\n  },\n  {\n    unit: 's', microseconds: ONE_SECOND, ofPrevious: 1000\n  },\n  {\n    unit: 'ms', microseconds: ONE_MILLISECOND, ofPrevious: 1000\n  },\n  {\n    unit: 's', microseconds: 1, ofPrevious: 1000\n  },\n];\n\nexport function formatDuration(duration: number): string {\n  // Drop all units that are too large except the last one\n  const [primaryUnit, secondaryUnit] = _dropWhile(\n    UNIT_STEPS,\n    ({ microseconds }, index) => index < UNIT_STEPS.length - 1 && microseconds > duration\n  );\n\n  if (primaryUnit.ofPrevious === 1000) {\n    // If the unit is decimal based, display as a decimal\n    return `${ _round(duration / primaryUnit.microseconds, 2) }${ primaryUnit.unit }`;\n  }\n\n  const primaryValue = Math.floor(duration / primaryUnit.microseconds);\n  const primaryUnitString = `${ primaryValue }${ primaryUnit.unit }`;\n  const secondaryValue = Math.round((duration / secondaryUnit.microseconds) % primaryUnit.ofPrevious);\n  const secondaryUnitString = `${ secondaryValue }${ secondaryUnit.unit }`;\n\n  return secondaryValue === 0 ? primaryUnitString : `${ primaryUnitString } ${ secondaryUnitString }`;\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('p',{staticClass:\"checklist__description mb-20\",attrs:{\"data-testid\":\"kw-tracing-checklist-description\"}},[_vm._v(\" \"+_vm._s(_vm.t('kubewarden.tracing.description'))+\" \")]),_c('div',{staticClass:\"checklist__prereq mb-20\"},[_c('h2',[_vm._v(_vm._s(_vm.t('kubewarden.tracing.prerequisites.label')))]),_c('p',[_vm._v(_vm._s(_vm.t('kubewarden.tracing.prerequisites.description')))])]),_c('Banner',{attrs:{\"color\":\"warning\",\"label\":_vm.t('kubewarden.tracing.prerequisites.warning')}}),_c('div',{staticClass:\"checklist__container mt-20 mb-20\"},[_c('div',{staticClass:\"checklist__step mt-20 mb-20\",attrs:{\"data-testid\":\"kw-tracing-checklist-step-open-tel\"}},[_c('i',{staticClass:\"icon mr-10\",class:{ 'icon-dot-open': !_vm.openTelSvc,'icon-checkmark': _vm.openTelSvc }}),_c('p',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.t('kubewarden.tracing.openTelemetry', {}, true)),expression:\"t('kubewarden.tracing.openTelemetry', {}, true)\"}]})]),_c('div',{staticClass:\"checklist__step mb-20\",attrs:{\"data-testid\":\"kw-tracing-checklist-step-jaeger\"}},[_c('i',{staticClass:\"icon mr-10\",class:{ 'icon-dot-open': !_vm.jaegerQuerySvc,'icon-checkmark': _vm.jaegerQuerySvc }}),_c('p',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.t('kubewarden.tracing.jaeger', {}, true)),expression:\"t('kubewarden.tracing.jaeger', {}, true)\"}],attrs:{\"p\":\"\"}})]),_c('div',{staticClass:\"checklist__step mb-20\",attrs:{\"data-testid\":\"kw-tracing-checklist-step-config\"}},[_c('i',{staticClass:\"icon mr-10\",class:{ 'icon-dot-open': !_vm.tracingEnabled,'icon-checkmark': _vm.tracingEnabled }}),_c('div',{staticClass:\"checklist__config\"},[_c('p',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.t('kubewarden.tracing.config.label', {}, true)),expression:\"t('kubewarden.tracing.config.label', {}, true)\"}]}),_c('button',{directives:[{name:\"clean-tooltip\",rawName:\"v-clean-tooltip\",value:(_vm.controllerLinkTooltip),expression:\"controllerLinkTooltip\"}],staticClass:\"btn role-primary ml-10\",attrs:{\"data-testid\":\"kw-tracing-checklist-step-config-button\",\"disabled\":_vm.controllerLinkDisabled},on:{\"click\":_vm.controllerAppRoute}},[_vm._v(\" \"+_vm._s(_vm.t(\"kubewarden.tracing.config.link\"))+\" \")])])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\n\nimport { CATALOG } from '@shell/config/labels-annotations';\nimport {\n  REPO_TYPE, REPO, CHART, NAME, VERSION, NAMESPACE\n} from '@shell/config/query-params';\n\nimport { Banner } from '@components/Banner';\n\nexport default {\n  props: {\n    controllerApp: {\n      type:    Object,\n      default: null\n    },\n    tracingConfiguration: {\n      type:    Object,\n      default: null\n    },\n    jaegerQuerySvc: {\n      type:    Object,\n      default: null\n    },\n    openTelSvc: {\n      type:    Object,\n      default: null\n    }\n  },\n\n  components: { Banner },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n\n    controllerLinkTooltip() {\n      if ( this.controllerLinkDisabled ) {\n        return this.t('kubewarden.monitoring.prerequisites.controllerConfig.tooltip');\n      }\n\n      if ( !this.controllerApp ) {\n        return this.t('kubewarden.monitoring.prerequisites.controllerConfig.chartError');\n      }\n\n      return null;\n    },\n\n    controllerLinkDisabled() {\n      return !this.openTelSvc || !this.jaegerQuerySvc || !this.controllerApp;\n    },\n\n    tracingEnabled() {\n      if ( this.tracingConfiguration ) {\n        return this.tracingConfiguration.enabled;\n      }\n\n      return null;\n    }\n  },\n\n  methods: {\n    controllerAppRoute() {\n      if ( this.controllerApp ) {\n        const metadata = this.controllerApp.spec?.chart?.metadata;\n\n        const query = {\n          [NAMESPACE]: metadata?.annotations?.[CATALOG.NAMESPACE],\n          [NAME]:      metadata?.annotations?.[CATALOG.RELEASE_NAME],\n          [VERSION]:   metadata?.annotations?.['catalog.cattle.io/upstream-version'],\n          [REPO]:      metadata?.annotations?.[CATALOG.SOURCE_REPO_NAME],\n          [REPO_TYPE]: metadata?.annotations?.[CATALOG.SOURCE_REPO_TYPE],\n          [CHART]:     metadata?.name\n        };\n\n        this.$router.push({\n          name:   'c-cluster-apps-charts-install',\n          params: { cluster: this.currentCluster?.id || '_' },\n          query,\n        });\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <p class=\"checklist__description mb-20\" data-testid=\"kw-tracing-checklist-description\">\n      {{ t('kubewarden.tracing.description') }}\n    </p>\n    <div class=\"checklist__prereq mb-20\">\n      <h2>{{ t('kubewarden.tracing.prerequisites.label') }}</h2>\n      <p>{{ t('kubewarden.tracing.prerequisites.description') }}</p>\n    </div>\n    <Banner\n      color=\"warning\"\n      :label=\"t('kubewarden.tracing.prerequisites.warning')\"\n    />\n    <div class=\"checklist__container mt-20 mb-20\">\n      <div class=\"checklist__step mt-20 mb-20\" data-testid=\"kw-tracing-checklist-step-open-tel\">\n        <i class=\"icon mr-10\" :class=\"{ 'icon-dot-open': !openTelSvc,'icon-checkmark': openTelSvc }\" />\n        <p v-clean-html=\"t('kubewarden.tracing.openTelemetry', {}, true)\" />\n      </div>\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-tracing-checklist-step-jaeger\">\n        <i class=\"icon mr-10\" :class=\"{ 'icon-dot-open': !jaegerQuerySvc,'icon-checkmark': jaegerQuerySvc }\" />\n        <p v-clean-html=\"t('kubewarden.tracing.jaeger', {}, true)\" p />\n      </div>\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-tracing-checklist-step-config\">\n        <i class=\"icon mr-10\" :class=\"{ 'icon-dot-open': !tracingEnabled,'icon-checkmark': tracingEnabled }\" />\n        <div class=\"checklist__config\">\n          <p v-clean-html=\"t('kubewarden.tracing.config.label', {}, true)\" />\n          <button\n            v-clean-tooltip=\"controllerLinkTooltip\"\n            data-testid=\"kw-tracing-checklist-step-config-button\"\n            class=\"btn role-primary ml-10\"\n            :disabled=\"controllerLinkDisabled\"\n            @click=\"controllerAppRoute\"\n          >\n            {{ t(\"kubewarden.tracing.config.link\") }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.checklist {\n  &__container {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    border: 1px solid var(--border);\n    padding: 10px;\n  }\n\n  &__step, &__config {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n  }\n\n  &__step {\n    min-height: 40px;\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TraceChecklist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TraceChecklist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TraceChecklist.vue?vue&type=template&id=1d35b522&scoped=true&\"\nimport script from \"./TraceChecklist.vue?vue&type=script&lang=js&\"\nexport * from \"./TraceChecklist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TraceChecklist.vue?vue&type=style&index=0&id=1d35b522&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d35b522\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { mapGetters } from 'vuex';\nimport isEmpty from 'lodash/isEmpty';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\n\nimport { CATALOG, SERVICE } from '@shell/config/types';\nimport { KUBERNETES } from '@shell/config/labels-annotations';\nimport ResourceFetch from '@shell/mixins/resource-fetch';\nimport { allHash } from '@shell/utils/promise';\n\nimport { BadgeState } from '@components/BadgeState';\nimport { Banner } from '@components/Banner';\nimport Loading from '@shell/components/Loading';\nimport SortableTable from '@shell/components/SortableTable';\n\nimport { TRACE_HEADERS } from '../config/table-headers';\nimport { KUBEWARDEN, KUBEWARDEN_CHARTS, MODE_MAP, OPERATION_MAP } from '../types';\nimport { jaegerTraces } from '../modules/jaegerTracing';\nimport { formatDuration } from '../utils/duration-format';\n\nimport TraceChecklist from './TraceChecklist';\n\ndayjs.extend(relativeTime);\n\nexport default {\n  props: {\n    resource: {\n      type:     String,\n      required: true\n    },\n    relatedPolicies: {\n      type:    Array,\n      default: () => []\n    },\n    policy: {\n      type:    Object,\n      default: () => {}\n    }\n  },\n\n  components: {\n    BadgeState, Banner, Loading, SortableTable, TraceChecklist\n  },\n\n  mixins: [ResourceFetch],\n\n  async fetch() {\n    const types = [CATALOG.APP, CATALOG.CLUSTER_REPO, SERVICE];\n    const hash = [];\n\n    for ( const type of types ) {\n      if ( this.$store.getters['cluster/canList'](type) ) {\n        hash.push(this.$fetchType(type));\n      }\n    }\n\n    await allHash(hash);\n\n    if ( this.jaegerQuerySvc ) {\n      const options = {\n        store:           this.$store,\n        queryService:    this.jaegerQuerySvc,\n        resource:        this.resource,\n        relatedPolicies: null,\n        policy:          null\n      };\n\n      if ( this.resource === KUBEWARDEN.POLICY_SERVER ) {\n        options.relatedPolicies = this.relatedPolicies;\n      } else {\n        options.policy = this.policy;\n      }\n\n      this.specificValidations = await jaegerTraces(options);\n    }\n  },\n\n  data() {\n    return {\n      MODE_MAP,\n      TRACE_HEADERS,\n      OPERATION_MAP,\n\n      specificValidations: null\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n    ...mapGetters({ charts: 'catalog/charts' }),\n\n    allApps() {\n      return this.$store.getters['cluster/all'](CATALOG.APP);\n    },\n\n    allServices() {\n      return this.$store.getters['cluster/all'](SERVICE);\n    },\n\n    controllerApp() {\n      return this.allApps?.find(app => app?.spec?.chart?.metadata?.name === KUBEWARDEN_CHARTS.CONTROLLER);\n    },\n\n    controllerChart() {\n      return this.charts?.find(chart => chart.chartName === KUBEWARDEN_CHARTS.CONTROLLER);\n    },\n\n    groupField() {\n      if ( this.isPolicyServer ) {\n        return 'policy_id';\n      }\n\n      return null;\n    },\n\n    isPolicyServer() {\n      return this.resource === KUBEWARDEN.POLICY_SERVER;\n    },\n\n    emptyPolicies() {\n      if ( this.resource === KUBEWARDEN.POLICY_SERVER ) {\n        return isEmpty(this.relatedPolicies);\n      }\n\n      return isEmpty(this.policy);\n    },\n\n    emptyTraces() {\n      return isEmpty(this.filteredValidations);\n    },\n\n    emptyTracesLabel() {\n      if ( this.resource === KUBEWARDEN.POLICY_SERVER ) {\n        return 'kubewarden.tracing.noRelatedTraces';\n      }\n\n      return 'kubewarden.tracing.noTraces';\n    },\n\n    rowsPerPage() {\n      if ( this.isPolicyServer ) {\n        return 40;\n      }\n\n      return 20;\n    },\n\n    tracingConfiguration() {\n      if ( this.controllerApp ) {\n        return this.controllerApp?.spec?.values?.telemetry?.tracing;\n      }\n\n      return null;\n    },\n\n    tracingEnabled() {\n      if ( this.tracingConfiguration ) {\n        return this.tracingConfiguration.enabled;\n      }\n\n      return null;\n    },\n\n    jaegerServices() {\n      return this.allServices?.filter(svc => svc?.metadata?.labels?.['app.kubernetes.io/part-of'] === 'jaeger');\n    },\n\n    jaegerQuerySvc() {\n      if ( !isEmpty(this.jaegerServices) ) {\n        return this.jaegerServices.find((svc) => {\n          const ports = svc?.spec?.ports;\n\n          if ( ports.length ) {\n            return ports.find(p => p.port === 16685 || p.port === 16686);\n          }\n        });\n      }\n\n      return null;\n    },\n\n    openTelemetryServices() {\n      return this.allServices?.filter(svc => svc?.metadata?.labels?.[KUBERNETES.MANAGED_NAME] === 'opentelemetry-operator');\n    },\n\n    openTelSvc() {\n      if ( !isEmpty(this.openTelemetryServices) ) {\n        return this.openTelemetryServices.find((svc) => {\n          const ports = svc?.spec?.ports;\n\n          if ( ports.length ) {\n            return ports.find(p => p.port === 8080);\n          }\n        });\n      }\n\n      return null;\n    },\n\n    showChecklist() {\n      return (!this.openTelSvc || !this.jaegerQuerySvc || !this.tracingConfiguration?.enabled);\n    },\n\n    showTable() {\n      return (!this.emptyPolicies && !this.showChecklist && !this.emptyTraces);\n    },\n\n    filteredValidations() {\n      if ( !isEmpty(this.specificValidations) ) {\n        return this.specificValidations.flatMap((v) => {\n          if ( this.currentCluster?.id === v.cluster ) {\n            return v.traces;\n          } else {\n            return [];\n          }\n        });\n      }\n\n      return [];\n    }\n  },\n\n  methods: {\n    modeColor(mode) {\n      return this.MODE_MAP[mode];\n    },\n\n    opColor(op) {\n      return this.OPERATION_MAP[op];\n    },\n\n    formatTime(time) {\n      return dayjs(time / 1000);\n    },\n\n    duration(duration) {\n      return formatDuration(duration);\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <div v-else>\n    <TraceChecklist\n      v-if=\"showChecklist\"\n      :controller-app=\"controllerApp\"\n      :tracing-configuration=\"tracingConfiguration\"\n      :jaeger-query-svc=\"jaegerQuerySvc\"\n      :open-tel-svc=\"openTelSvc\"\n    />\n\n    <Banner\n      v-else-if=\"!showChecklist && emptyPolicies\"\n      color=\"error\"\n      :label=\"t('kubewarden.tracing.noRelatedPolicies')\"\n    />\n\n    <SortableTable\n      v-else-if=\"showTable\"\n      :rows=\"filteredValidations\"\n      :headers=\"TRACE_HEADERS\"\n      :table-actions=\"false\"\n      :row-actions=\"false\"\n      key-field=\"id\"\n      default-sort-by=\"startTime\"\n      :sub-expandable=\"true\"\n      :sub-expand-column=\"true\"\n      :sub-rows=\"true\"\n      :paging=\"true\"\n      :rows-per-page=\"rowsPerPage\"\n    >\n      <template #col:mode=\"{row}\">\n        <td>\n          <BadgeState\n            :label=\"row.mode\"\n            :color=\"modeColor(row.mode)\"\n            class=\"text-capitalize\"\n          />\n        </td>\n      </template>\n\n      <template #col:name=\"{row}\">\n        <td class=\"text-bold\">\n          {{ row.name }}\n        </td>\n      </template>\n\n      <template #col:namespace=\"{row}\">\n        <td>\n          {{ row.namespace ? row.namespace : '-' }}\n        </td>\n      </template>\n\n      <template #col:startTime=\"{row}\">\n        <td>\n          {{ formatTime(row.startTime) }}\n        </td>\n      </template>\n\n      <template #col:duration=\"{row}\">\n        <td>\n          {{ duration(row.duration) }}\n        </td>\n      </template>\n\n      <template #sub-row=\"{row, fullColspan}\">\n        <td :colspan=\"fullColspan\" class=\"sub-row\">\n          <div class=\"details\">\n            <section class=\"col\">\n              <div class=\"title\">\n                Response Message\n              </div>\n              <span class=\"text-info text-capitalize\">\n                {{ row.responseMessage ? row.responseMessage : '-' }}\n              </span>\n            </section>\n            <section class=\"col\">\n              <div class=\"title\">\n                Response Code\n              </div>\n              <span class=\"text-info\">\n                {{ row.responseCode ? row.responseCode : '-' }}\n              </span>\n            </section>\n            <section class=\"col\">\n              <div class=\"title\">\n                Mutated\n              </div>\n              <span class=\"text-info\">\n                {{ row.mutated }}\n              </span>\n            </section>\n          </div>\n        </td>\n      </template>\n    </SortableTable>\n\n    <Banner\n      v-else\n      color=\"warning\"\n      :label=\"t(emptyTracesLabel)\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.sub-row {\n  background-color: var(--body-bg);\n  border-bottom: 1px solid var(--sortable-table-top-divider);\n  padding-left: 1rem;\n  padding-right: 1rem;\n}\n\n.details {\n  display: grid;\n  grid-auto-flow: column;\n  grid-auto-columns: minmax(0, 1fr);\n  gap: 1em;\n\n  .col {\n    display: flex;\n    flex-direction: column;\n\n    section {\n      margin-bottom: 1.5rem;\n    }\n\n    .title {\n      color: var(--muted);\n      margin-bottom: 0.5rem;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TraceTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TraceTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TraceTable.vue?vue&type=template&id=7aeed565&scoped=true&\"\nimport script from \"./TraceTable.vue?vue&type=script&lang=js&\"\nexport * from \"./TraceTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TraceTable.vue?vue&type=style&index=0&id=7aeed565&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7aeed565\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TraceTable.vue?vue&type=style&index=0&id=7aeed565&prod&lang=scss&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.policyserver.vue?vue&type=style&index=0&id=1fba0390&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"79650ef4\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.$fetchState.pending)?_c('Loading'):_c('div',[(_vm.policyGauges)?[_c('div',{staticClass:\"row\"},[[_c('div',{staticClass:\"col span-6\"},[_c('h3',{attrs:{\"data-testid\":\"kw-ps-detail-status-title\"}},[_vm._v(\" \"+_vm._s(_vm.t('kubewarden.policyServer.policyGauge.byStatus'))+\" \")]),_c('div',{staticClass:\"gauges mb-20\"},_vm._l((_vm.policyGauges),function(group,key){return _c('CountGauge',{key:key,attrs:{\"total\":_vm.relatedPoliciesTotal,\"useful\":group.count || 0,\"graphical\":false,\"primary-color-var\":`--sizzle-${group.color}`,\"name\":key}})}),1)])],(!_vm.emptyTraces)?[_c('div',{staticClass:\"col span-6\"},[_c('h3',[_vm._v(\" \"+_vm._s(_vm.t('kubewarden.policyServer.policyGauge.traces'))+\" \")]),_c('div',{staticClass:\"gauges mb-20\"},_vm._l((_vm.tracesGauges),function(group,key){return _c('CountGauge',{key:key,attrs:{\"useful\":group.count || 0,\"total\":_vm.traceGaugeTotals,\"graphical\":false,\"primary-color-var\":`--sizzle-${group.color}`,\"name\":key}})}),1)])]:_vm._e()],2)]:_vm._e(),_c('ResourceTabs',{attrs:{\"mode\":_vm.mode},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('Tab',{attrs:{\"name\":\"related-policies\",\"label\":\"Policies\",\"weight\":99},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('ResourceTable',{attrs:{\"rows\":_vm.relatedPolicies || [],\"headers\":_vm.RELATED_HEADERS,\"groupable\":true,\"group-by\":_vm.groupPreference,\"table-actions\":true,\"data-testid\":\"kw-ps-detail-related-policies-list\"},scopedSlots:_vm._u([{key:\"col:operation\",fn:function({ row }){return [_c('td',[_c('BadgeState',{attrs:{\"data-testid\":`kw-ps-detail-${ row.id }-state`,\"label\":row.operation,\"color\":_vm.color(row.operation)}})],1)]}}])})]},proxy:true}])}),_c('Tab',{staticClass:\"relative\",attrs:{\"name\":\"policy-tracing\",\"label\":\"Tracing\",\"weight\":98}},[_c('TraceTable',{attrs:{\"resource\":_vm.resource,\"related-policies\":_vm.relatedPolicies}})],1),_c('Tab',{staticClass:\"relative\",attrs:{\"name\":\"policy-metrics\",\"label\":\"Metrics\",\"weight\":97},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('MetricsTab',{attrs:{\"resource\":_vm.resource,\"active\":props.active}})]}}])})],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport { _CREATE } from '@shell/config/query-params';\nimport { allHash } from '@shell/utils/promise';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport { mapPref, GROUP_RESOURCES } from '@shell/store/prefs';\n\nimport CountGauge from '@shell/components/CountGauge';\nimport Loading from '@shell/components/Loading';\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\nimport ResourceTable from '@shell/components/ResourceTable';\nimport Tab from '@shell/components/Tabbed/Tab';\n\nimport { isEmpty } from 'lodash';\nimport { RELATED_HEADERS } from '../config/table-headers';\n\nimport MetricsTab from '../components/MetricsTab';\nimport TraceTable from '../components/TraceTable';\n\nexport default {\n  name: 'PolicyServer',\n\n  components: {\n    CountGauge, Loading, MetricsTab, ResourceTabs, ResourceTable, Tab, TraceTable\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE,\n    },\n\n    resource: {\n      type:    String,\n      default: null\n    },\n\n    value: {\n      type:     Object,\n      required: true,\n    }\n  },\n\n  async fetch() {\n    const hash = await allHash({\n      relatedPolicies:      this.value.allRelatedPolicies(),\n      policyGauges:         this.value.policyGauges()\n    });\n\n    const assignIfNotEmpty = (prop, value) => {\n      if ( !isEmpty(value) ) {\n        this[prop] = value;\n      }\n    };\n\n    assignIfNotEmpty('relatedPolicies', hash.relatedPolicies);\n    assignIfNotEmpty('policyGauges', hash.policyGauges);\n  },\n\n  data() {\n    return {\n      RELATED_HEADERS,\n      policyGauges:         null,\n      relatedPolicies:      null,\n      reloadRequired:       false,\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster', 'currentProduct']),\n    ...mapGetters({ policyTraces: 'kubewarden/policyTraces' }),\n    _group: mapPref(GROUP_RESOURCES),\n\n    filteredTraces() {\n      if ( !isEmpty(this.policyTraces) ) {\n        return this.policyTraces.filter((policyTraceObj) => {\n          if ( this.currentCluster?.id === policyTraceObj.cluster ) {\n            return policyTraceObj;\n          }\n        });\n      }\n\n      return null;\n    },\n\n    emptyTraces() {\n      return isEmpty(this.filteredTraces);\n    },\n\n    groupPreference() {\n      const out = this._group === 'namespace' ? 'kind' : null;\n\n      return out;\n    },\n\n    relatedPoliciesTotal() {\n      if ( isEmpty(this.relatedPolicies) ) {\n        return 0;\n      }\n\n      return this.relatedPolicies.length;\n    },\n\n    tracesGauges() {\n      if ( !this.emptyTraces ) {\n        return this.value.tracesGauges(this.filteredTraces);\n      }\n\n      return null;\n    },\n\n    traceGaugeTotals() {\n      if ( !this.emptyTraces ) {\n        return this.filteredTraces?.flatMap(policyTraceObj => policyTraceObj.traces).length;\n      }\n\n      return 0;\n    }\n  },\n\n  methods: {\n    hasNamespaceSelector(row) {\n      return row.namespaceSelector;\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <template v-if=\"policyGauges\">\n      <div class=\"row\">\n        <template>\n          <div class=\"col span-6\">\n            <h3 data-testid=\"kw-ps-detail-status-title\">\n              {{ t('kubewarden.policyServer.policyGauge.byStatus') }}\n            </h3>\n            <div class=\"gauges mb-20\">\n              <CountGauge\n                v-for=\"(group, key) in policyGauges\"\n                :key=\"key\"\n                :total=\"relatedPoliciesTotal\"\n                :useful=\"group.count || 0\"\n                :graphical=\"false\"\n                :primary-color-var=\"`--sizzle-${group.color}`\"\n                :name=\"key\"\n              />\n            </div>\n          </div>\n        </template>\n        <template v-if=\"!emptyTraces\">\n          <div class=\"col span-6\">\n            <h3>\n              {{ t('kubewarden.policyServer.policyGauge.traces') }}\n            </h3>\n            <div class=\"gauges mb-20\">\n              <CountGauge\n                v-for=\"(group, key) in tracesGauges\"\n                :key=\"key\"\n                :useful=\"group.count || 0\"\n                :total=\"traceGaugeTotals\"\n                :graphical=\"false\"\n                :primary-color-var=\"`--sizzle-${group.color}`\"\n                :name=\"key\"\n              />\n            </div>\n          </div>\n        </template>\n      </div>\n    </template>\n\n    <ResourceTabs v-model=\"value\" :mode=\"mode\">\n      <Tab name=\"related-policies\" label=\"Policies\" :weight=\"99\">\n        <template #default>\n          <ResourceTable\n            :rows=\"relatedPolicies || []\"\n            :headers=\"RELATED_HEADERS\"\n            :groupable=\"true\"\n            :group-by=\"groupPreference\"\n            :table-actions=\"true\"\n            data-testid=\"kw-ps-detail-related-policies-list\"\n          >\n            <template #col:operation=\"{ row }\">\n              <td>\n                <BadgeState\n                  :data-testid=\"`kw-ps-detail-${ row.id }-state`\"\n                  :label=\"row.operation\"\n                  :color=\"color(row.operation)\"\n                />\n              </td>\n            </template>\n          </ResourceTable>\n        </template>\n      </Tab>\n\n      <Tab name=\"policy-tracing\" label=\"Tracing\" :weight=\"98\" class=\"relative\">\n        <TraceTable :resource=\"resource\" :related-policies=\"relatedPolicies\" />\n      </Tab>\n\n      <Tab #default=\"props\" name=\"policy-metrics\" label=\"Metrics\" :weight=\"97\" class=\"relative\">\n        <MetricsTab :resource=\"resource\" :active=\"props.active\" />\n      </Tab>\n    </ResourceTabs>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.relative {\n  position: relative;\n}\n\n.policy {\n  &__mode {\n    display: flex;\n    align-items: center;\n\n    i {\n      margin-left: 5px;\n      font-size: 22px;\n      color: var(--warning);\n    }\n  }\n}\n\n.gaugesContainer {\n  display: flex;\n}\n\n.gauges {\n  display: flex;\n  justify-content: space-around;\n\n  flex-wrap: wrap;\n  justify-content: left;\n\n  .count-gauge {\n    width: 46%;\n    margin-bottom: 10px;\n    flex: initial;\n  }\n\n  & > *{\n    flex: 1;\n    margin-right: $column-gutter;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./policies.kubewarden.io.policyserver.vue?vue&type=template&id=1fba0390&scoped=true&\"\nimport script from \"./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js&\"\nexport * from \"./policies.kubewarden.io.policyserver.vue?vue&type=script&lang=js&\"\nimport style0 from \"./policies.kubewarden.io.policyserver.vue?vue&type=style&index=0&id=1fba0390&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1fba0390\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.$fetchState.pending)?_c('Loading',{attrs:{\"mode\":\"relative\"}}):_c('div',[(_vm.showChecklist)?_c('MetricsChecklist',{attrs:{\"cattle-dashboard-ns\":_vm.cattleDashboardNs,\"controller-app\":_vm.controllerApp,\"controller-chart\":_vm.controllerChart,\"kubewarden-dashboards\":_vm.kubewardenGrafanaDashboards,\"monitoring-app\":_vm.monitoringApp,\"monitoring-chart\":_vm.monitoringChart,\"open-tel-svc\":_vm.openTelSvc}}):_vm._e(),(!_vm.showChecklist)?[(_vm.monitoringApp && !_vm.metricsProxy)?_c('Banner',{attrs:{\"color\":\"error\",\"label\":_vm.t('kubewarden.monitoring.warning.noProxy')}}):_vm._e(),(_vm.metricsProxy && _vm.active)?_c('DashboardMetrics',{attrs:{\"data-testid\":\"kw-ps-metrics-dashboard\",\"detail-url\":_vm.metricsProxy,\"summary-url\":_vm.metricsProxy,\"graph-height\":\"825px\"}}):_vm._e()]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import isEmpty from 'lodash/isEmpty';\n\nimport { CONFIG_MAP, SERVICE } from '@shell/config/types';\n\nimport {\n  CatalogApp,\n  KubewardenDashboards,\n  KubewardenDashboardLabels,\n  GrafanaDashboardLabels,\n  GrafanaDashboardAnnotations,\n  HelmAnnotations\n} from '../types';\nimport { handleGrowl, GrowlConfig } from '../utils/handle-growl';\n\ninterface MetricsConfig {\n  store: any,\n  type: string\n}\n\ninterface DashboardConfig {\n  store: any,\n  monitoringApp: CatalogApp,\n  controllerApp: CatalogApp\n}\n\nexport async function grafanaProxy(config: MetricsConfig): Promise<any> {\n  const { store, type } = config;\n\n  try {\n    const grafana = await grafanaService(store);\n\n    if ( !isEmpty(grafana) ) {\n      const base = `/api/v1/namespaces/${ grafana.metadata.namespace }/services`;\n      const proxy = `/http:${ grafana.metadata.name }:80/proxy`;\n      const path = `/d/${ type }?orgId=1&kiosk`;\n\n      return base + proxy + path;\n    }\n  } catch (e) {\n    handleGrowl({\n      error: e as GrowlConfig | any, store, type: 'warning'\n    });\n  }\n\n  return null;\n}\n\nexport async function grafanaService(store: any) {\n  try {\n    return await store.dispatch('cluster/find', {\n      type: SERVICE,\n      id:   'cattle-monitoring-system/rancher-monitoring-grafana'\n    }, { root: true });\n  } catch (e) {\n    handleGrowl({\n      error: e as GrowlConfig | any, store, type: 'warning'\n    });\n  }\n}\n\nexport async function findKubewardenDashboards(store: any) {\n  try {\n    return await store.dispatch('cluster/findMatching', {\n      type:     CONFIG_MAP,\n      selector: `kubewarden/part-of=cattle-kubewarden-system`\n    });\n  } catch (e) {\n    handleGrowl({\n      error: e as GrowlConfig | any, store, type: 'warning'\n    });\n  }\n}\n\n/**\n   * Creates a ConfigMap for the Grafana dashboard depending on the type supplied\n   * @param `store, type` | Type of resource ( PolicyServer || (Cluster)AdmissionPolicy )\n   */\nexport async function addKubewardenDashboards(config: DashboardConfig): Promise<void> {\n  const { store, monitoringApp, controllerApp } = config;\n\n  if ( monitoringApp && controllerApp ) {\n    /**\n     * There are 2 dashboards for Kubewarden:\n     * PolicyServer is the default one copied from https://grafana.com/grafana/dashboards/15314-kubewarden/\n     * Policies have a condensed version\n    */\n    const dashboardEnums = Object.values(KubewardenDashboards);\n\n    for ( const type of dashboardEnums ) {\n      const file = await import(/* webpackChunkName: \"policyDashboard\" */ `../assets/${ type }.json`);\n      const fileKey = `${ type }.json`;\n\n      /** Check for existing configmaps */\n      const existing = await findKubewardenDashboards(store);\n\n      if ( existing && existing?.metadata?.name === type ) {\n        return;\n      }\n\n      const labels: GrafanaDashboardLabels = {\n        [KubewardenDashboardLabels.DASHBOARD]:         type,\n        [KubewardenDashboardLabels.PART_OF]:           controllerApp.metadata.namespace,\n        [KubewardenDashboardLabels.APP]:               'rancher-monitoring-grafana',\n        [KubewardenDashboardLabels.GRAFANA_DASHBOARD]: '1',\n        'app.kubernetes.io/instance':                  monitoringApp.metadata.name\n      };\n\n      const annotations: GrafanaDashboardAnnotations = {\n        [HelmAnnotations.NAME]:      monitoringApp.metadata.name,\n        [HelmAnnotations.NAMESPACE]: monitoringApp.metadata.namespace\n      };\n\n      const configMapTemplate = await store.dispatch(\n        'cluster/create',\n        {\n          type:     CONFIG_MAP,\n          metadata: {\n            annotations,\n            labels,\n            name:        type,\n            namespace:   'cattle-dashboards',\n          },\n          data: { [fileKey]: JSON.stringify(file) },\n        }\n      );\n\n      try {\n        await configMapTemplate.save();\n      } catch (e) {\n        handleGrowl({ error: e as GrowlConfig | any, store });\n      }\n    }\n  }\n}","import isEmpty from 'lodash/isEmpty';\n\nimport { CatalogApp, Service, ServiceMonitorSpec } from '../types';\n\ntype ServiceMonitorConfigured = {\n  namespace: boolean,\n  selectors?: {[key: string]: boolean}[];\n}\n\ninterface MonitoringConfig {\n  serviceMonitorSpec: ServiceMonitorSpec[],\n  controllerApp: CatalogApp,\n  policyServerSvcs: Service[]\n}\n\n/**\n * Determines if the Monitoring App is configured correctly with the namespace and label selectors for\n * the Kubewarden controller and policy servers.\n * @param config `serviceMonitorSpec, controllerApp, policyServerSvcs` | Needs monitoring app service monitor spec,\n * kubewarden controller app, and the policy server services.\n * @returns `boolean` | `true` if configured correctly\n */\nexport function monitoringIsConfigured(config: MonitoringConfig): boolean {\n  const configured = serviceMonitorsConfigured(config);\n\n  if ( Array.isArray(configured) ) {\n    return configured?.some((c: ServiceMonitorConfigured) => {\n      const selectorsConfigured = !isEmpty(c?.selectors) && c?.selectors?.some((selector) => {\n        for (const key in selector) {\n          if ( selector[key] && selector[key] === true ) {\n            return true;\n          }\n        }\n\n        return false;\n      });\n\n      return c.namespace && selectorsConfigured;\n    });\n  }\n\n  return false;\n}\n\n/**\n * Searchs for matching `namespaceSelector` and `matchLabels` selector between `serviceMonitorSpec`, `controllerApp`, and `policyServerSvcs`\n * @param config `serviceMonitorSpec, controllerApp, policyServerSvcs` | Needs monitoring app service monitor spec,\n * kubewarden controller app, and the policy server services.\n * @returns `ServiceMonitorConfigured[] | boolean` | If `serviceMonitorSpec` is provided, will return a `ServiceMonitorConfigured` object\n * which contains a `namespace` boolean for a match and selectors[] for `matchLabels`\n */\nexport function serviceMonitorsConfigured(config: MonitoringConfig): ServiceMonitorConfigured[] | boolean {\n  const { serviceMonitorSpec, controllerApp, policyServerSvcs } = config;\n\n  if ( serviceMonitorSpec ) {\n    return serviceMonitorSpec?.map((sm) => {\n      const configured: ServiceMonitorConfigured = {\n        namespace: false,\n        selectors: []\n      };\n\n      /** Find a matching namespaceSelector to the controllerApp */\n      if ( !isEmpty(controllerApp) ) {\n        const hasNamespace: boolean = sm.namespaceSelector?.matchNames?.includes(controllerApp?.metadata?.namespace) || false;\n\n        configured.namespace = hasNamespace;\n      }\n\n      /** Find matching label selectors for policy server services */\n      if ( !isEmpty(policyServerSvcs) ) {\n        policyServerSvcs.forEach((svc) => {\n          if ( sm.selector?.matchLabels ) {\n            for ( const key of Object.keys(sm.selector.matchLabels) ) {\n              const hasLabel = svc?.metadata?.labels?.[key] && svc.metadata.labels[key] === sm.selector.matchLabels[key];\n\n              configured?.selectors?.push({ [key]: !!hasLabel });\n            }\n          }\n        });\n      }\n\n      return configured;\n    });\n  }\n\n  return false;\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"checklist__container\"},[_c('div',{staticClass:\"checklist__prereq mb-20\"},[_c('h2',[_vm._v(_vm._s(_vm.t('kubewarden.monitoring.prerequisites.label')))]),_c('p',[_vm._v(_vm._s(_vm.t('kubewarden.monitoring.prerequisites.description')))])]),_c('Banner',{attrs:{\"color\":\"warning\",\"label\":_vm.t('kubewarden.monitoring.prerequisites.warning')}}),_c('div',{staticClass:\"mt-20 mb-20\"},[_c('div',{staticClass:\"checklist__step mt-20 mb-20\",attrs:{\"data-testid\":\"kw-monitoring-checklist-step-open-tel\"}},[_c('i',{staticClass:\"icon mr-10\",class:{ 'icon-dot-open': !_vm.openTelSvc,'icon-checkmark': _vm.openTelSvc }}),_c('p',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.t('kubewarden.tracing.openTelemetry', {}, true)),expression:\"t('kubewarden.tracing.openTelemetry', {}, true)\"}]})]),_c('div',{staticClass:\"checklist__step mb-20\",attrs:{\"data-testid\":\"kw-monitoring-checklist-step-monitoring-app\"}},[_c('i',{staticClass:\"icon mr-10\",class:{ 'icon-dot-open': !_vm.monitoringApp || !_vm.monitoringIsConfigured,'icon-checkmark': _vm.monitoringApp && _vm.monitoringIsConfigured }}),_c('div',{staticClass:\"checklist__config\"},[_c('p',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.t('kubewarden.monitoring.prerequisites.monitoringApp.label', {}, true)),expression:\"t('kubewarden.monitoring.prerequisites.monitoringApp.label', {}, true)\"}],attrs:{\"p\":\"\"}}),(!_vm.monitoringApp || !_vm.monitoringIsConfigured)?_c('button',{directives:[{name:\"clean-tooltip\",rawName:\"v-clean-tooltip\",value:(_vm.monitoringLinkTooltip),expression:\"monitoringLinkTooltip\"}],staticClass:\"btn role-primary ml-10\",attrs:{\"data-testid\":\"kw-monitoring-checklist-step-config-button\",\"disabled\":!_vm.monitoringChart},on:{\"click\":function($event){return _vm.monitoringAppRoute()}}},[_vm._v(\" \"+_vm._s(_vm.monitoringChartLink)+\" \")]):_vm._e()])]),_c('div',{staticClass:\"checklist__step mb-20\",attrs:{\"data-testid\":\"kw-monitoring-checklist-step-config-map\"}},[_c('i',{staticClass:\"icon mr-10\",class:{ 'icon-dot-open': _vm.emptyKubewardenDashboards,'icon-checkmark': !_vm.emptyKubewardenDashboards }}),_c('div',{staticClass:\"checklist__config\"},[_c('p',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.t('kubewarden.monitoring.prerequisites.configMap.label', {}, true)),expression:\"t('kubewarden.monitoring.prerequisites.configMap.label', {}, true)\"}],attrs:{\"p\":\"\"}}),(_vm.emptyKubewardenDashboards)?_c('AsyncButton',{directives:[{name:\"clean-tooltip\",rawName:\"v-clean-tooltip\",value:(_vm.dashboardsTooltip),expression:\"dashboardsTooltip\"}],staticClass:\"ml-10\",attrs:{\"data-testid\":\"kw-monitoring-checklist-step-config-map-button\",\"mode\":\"grafanaDashboard\",\"disabled\":_vm.dashboardButtonDisabled},on:{\"click\":_vm.addDashboards}}):_vm._e()],1)]),_c('div',{staticClass:\"checklist__step mb-20\",attrs:{\"data-testid\":\"kw-monitoring-checklist-step-controller-config\"}},[_c('i',{staticClass:\"icon mr-10\",class:{ 'icon-dot-open': !_vm.metricsEnabled,'icon-checkmark': _vm.metricsEnabled }}),_c('div',{staticClass:\"checklist__config\"},[_c('p',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.t('kubewarden.monitoring.prerequisites.controllerConfig.label', {}, true)),expression:\"t('kubewarden.monitoring.prerequisites.controllerConfig.label', {}, true)\"}],attrs:{\"p\":\"\"}}),(!_vm.metricsEnabled)?_c('button',{directives:[{name:\"clean-tooltip\",rawName:\"v-clean-tooltip\",value:(_vm.controllerLinkTooltip),expression:\"controllerLinkTooltip\"}],staticClass:\"btn role-primary ml-10\",attrs:{\"data-testid\":\"kw-monitoring-checklist-step-config-button\",\"disabled\":_vm.controllerLinkDisabled},on:{\"click\":function($event){return _vm.controllerAppRoute()}}},[_vm._v(\" \"+_vm._s(_vm.t(\"kubewarden.monitoring.prerequisites.controllerConfig.button\"))+\" \")]):_vm._e()])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport isEmpty from 'lodash/isEmpty';\n\nimport { CATALOG } from '@shell/config/labels-annotations';\n\nimport {\n  REPO_TYPE, REPO, CHART, NAME, VERSION, NAMESPACE\n} from '@shell/config/query-params';\n\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { Banner } from '@components/Banner';\n\nimport { handleGrowl } from '../utils/handle-growl';\nimport { addKubewardenDashboards } from '../modules/grafana';\nimport { serviceMonitorsConfigured } from '../modules/metricsConfig';\n\nexport default {\n  props: {\n    cattleDashboardNs: {\n      type:    Object,\n      default: null\n    },\n    controllerApp: {\n      type:    Object,\n      default: null\n    },\n    controllerChart: {\n      type:    Object,\n      default: null\n    },\n    kubewardenDashboards: {\n      type:    Array,\n      default: null\n    },\n    monitoringApp: {\n      type:    Object,\n      default: null\n    },\n    monitoringChart: {\n      type:    Object,\n      default: null\n    },\n    openTelSvc: {\n      type:    Object,\n      default: null\n    }\n  },\n\n  components: { AsyncButton, Banner },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n    ...mapGetters({ t: 'i18n/t' }),\n\n    controllerMetricsConfig() {\n      if ( this.controllerApp ) {\n        return this.controllerApp.spec?.values?.telemetry?.metrics;\n      }\n\n      return null;\n    },\n\n    controllerLinkDisabled() {\n      return (!this.monitoringApp || !this.monitoringIsConfigured || this.emptyKubewardenDashboards || !this.controllerChart || !this.controllerApp);\n    },\n\n    controllerLinkTooltip() {\n      if ( this.controllerLinkDisabled ) {\n        return this.t('kubewarden.monitoring.prerequisites.controllerConfig.tooltip');\n      }\n\n      if ( !this.controllerChart ) {\n        return this.t('kubewarden.monitoring.prerequisites.controllerConfig.chartError');\n      }\n\n      return null;\n    },\n\n    dashboardsTooltip() {\n      if ( !this.monitoringApp ) {\n        return this.t('kubewarden.monitoring.prerequisites.configMap.tooltip.appNotInstalled');\n      }\n\n      if ( this.monitoringApp ) {\n        if ( isEmpty(this.cattleDashboardNs) ) {\n          return this.t('kubewarden.monitoring.prerequisites.configMap.tooltip.nsNotFound');\n        }\n\n        if ( !this.monitoringIsConfigured ) {\n          return this.t('kubewarden.monitoring.prerequisites.configMap.tooltip.appNotConfigured');\n        }\n      }\n\n      return null;\n    },\n\n    dashboardButtonDisabled() {\n      return (!this.monitoringApp || isEmpty(this.cattleDashboardNs) || !this.monitoringIsConfigured);\n    },\n\n    emptyKubewardenDashboards() {\n      return isEmpty(this.kubewardenDashboards);\n    },\n\n    metricsEnabled() {\n      if ( this.controllerMetricsConfig ) {\n        return this.controllerMetricsConfig.enabled;\n      }\n\n      return null;\n    },\n\n    monitoringChartLink() {\n      if ( !this.monitoringApp ) {\n        return this.t('kubewarden.monitoring.prerequisites.monitoringApp.install');\n      }\n\n      return this.t('kubewarden.monitoring.prerequisites.monitoringApp.edit');\n    },\n\n    monitoringLinkTooltip() {\n      if ( !this.monitoringChart ) {\n        return this.t('kubewarden.monitoring.prerequisites.monitoringApp.chartError');\n      }\n\n      return null;\n    },\n\n    monitoringServiceMonitorsSpec() {\n      if ( this.monitoringApp ) {\n        return this.monitoringApp.spec?.values?.prometheus?.additionalServiceMonitors;\n      }\n\n      return null;\n    },\n\n    monitoringIsConfigured() {\n      return serviceMonitorsConfigured({\n        serviceMonitorSpec: this.monitoringServiceMonitorsSpec,\n        controllerApp:      this.controllerApp,\n        policyServerSvcs:   this.policyServerSvcs\n      });\n    }\n  },\n\n  methods: {\n    async addDashboards(btnCb) {\n      try {\n        await addKubewardenDashboards({\n          store:         this.$store,\n          monitoringApp: this.monitoringApp,\n          controllerApp: this.controllerApp\n        });\n        btnCb(true);\n\n        this.reloadRequired = true;\n      } catch (e) {\n        handleGrowl({ error: e, store: this.$store });\n\n        btnCb(false);\n      }\n    },\n\n    monitoringAppRoute() {\n      if ( !this.monitoringApp && this.monitoringChart ) {\n        this.monitoringChart.goToInstall();\n      }\n\n      if ( this.monitoringApp ) {\n        const query = {\n          [NAMESPACE]: this.monitoringApp.metadata?.namespace,\n          [NAME]:      this.monitoringApp.metadata?.name,\n          [VERSION]:   this.monitoringApp.spec?.chart?.metadata?.version,\n          [REPO]:      this.monitoringApp.spec?.chart?.metadata?.annotations?.[CATALOG.SOURCE_REPO_NAME],\n          [REPO_TYPE]: this.monitoringApp.spec?.chart?.metadata?.annotations?.[CATALOG.SOURCE_REPO_TYPE],\n          [CHART]:     this.monitoringApp.spec?.chart?.metadata?.name\n        };\n\n        this.$router.push({\n          name:   'c-cluster-apps-charts-install',\n          params: { cluster: this.currentCluster?.id || '_' },\n          query,\n        });\n      }\n    },\n\n    controllerAppRoute() {\n      if ( this.controllerApp ) {\n        const metadata = this.controllerApp.spec?.chart?.metadata;\n\n        const query = {\n          [NAMESPACE]: metadata?.annotations?.[CATALOG.NAMESPACE],\n          [NAME]:      metadata?.annotations?.[CATALOG.RELEASE_NAME],\n          [VERSION]:   metadata?.annotations?.['catalog.cattle.io/upstream-version'],\n          [REPO]:      metadata?.annotations?.[CATALOG.SOURCE_REPO_NAME],\n          [REPO_TYPE]: metadata?.annotations?.[CATALOG.SOURCE_REPO_TYPE],\n          [CHART]:     metadata?.name\n        };\n\n        this.$router.push({\n          name:   'c-cluster-apps-charts-install',\n          params: { cluster: this.currentCluster?.id || '_' },\n          query,\n        });\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"checklist__container\">\n    <div class=\"checklist__prereq mb-20\">\n      <h2>{{ t('kubewarden.monitoring.prerequisites.label') }}</h2>\n      <p>{{ t('kubewarden.monitoring.prerequisites.description') }}</p>\n    </div>\n    <Banner\n      color=\"warning\"\n      :label=\"t('kubewarden.monitoring.prerequisites.warning')\"\n    />\n    <div class=\"mt-20 mb-20\">\n      <div class=\"checklist__step mt-20 mb-20\" data-testid=\"kw-monitoring-checklist-step-open-tel\">\n        <i class=\"icon mr-10\" :class=\"{ 'icon-dot-open': !openTelSvc,'icon-checkmark': openTelSvc }\" />\n        <p v-clean-html=\"t('kubewarden.tracing.openTelemetry', {}, true)\" />\n      </div>\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-monitoring-checklist-step-monitoring-app\">\n        <i\n          class=\"icon mr-10\"\n          :class=\"{ 'icon-dot-open': !monitoringApp || !monitoringIsConfigured,'icon-checkmark': monitoringApp && monitoringIsConfigured }\"\n        />\n        <div class=\"checklist__config\">\n          <p v-clean-html=\"t('kubewarden.monitoring.prerequisites.monitoringApp.label', {}, true)\" p />\n          <button\n            v-if=\"!monitoringApp || !monitoringIsConfigured\"\n            v-clean-tooltip=\"monitoringLinkTooltip\"\n            data-testid=\"kw-monitoring-checklist-step-config-button\"\n            class=\"btn role-primary ml-10\"\n            :disabled=\"!monitoringChart\"\n            @click=\"monitoringAppRoute()\"\n          >\n            {{ monitoringChartLink }}\n          </button>\n        </div>\n      </div>\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-monitoring-checklist-step-config-map\">\n        <i class=\"icon mr-10\" :class=\"{ 'icon-dot-open': emptyKubewardenDashboards,'icon-checkmark': !emptyKubewardenDashboards }\" />\n        <div class=\"checklist__config\">\n          <p v-clean-html=\"t('kubewarden.monitoring.prerequisites.configMap.label', {}, true)\" p />\n          <AsyncButton\n            v-if=\"emptyKubewardenDashboards\"\n            v-clean-tooltip=\"dashboardsTooltip\"\n            data-testid=\"kw-monitoring-checklist-step-config-map-button\"\n            mode=\"grafanaDashboard\"\n            class=\"ml-10\"\n            :disabled=\"dashboardButtonDisabled\"\n            @click=\"addDashboards\"\n          />\n        </div>\n      </div>\n      <div class=\"checklist__step mb-20\" data-testid=\"kw-monitoring-checklist-step-controller-config\">\n        <i class=\"icon mr-10\" :class=\"{ 'icon-dot-open': !metricsEnabled,'icon-checkmark': metricsEnabled }\" />\n        <div class=\"checklist__config\">\n          <p v-clean-html=\"t('kubewarden.monitoring.prerequisites.controllerConfig.label', {}, true)\" p />\n          <button\n            v-if=\"!metricsEnabled\"\n            v-clean-tooltip=\"controllerLinkTooltip\"\n            data-testid=\"kw-monitoring-checklist-step-config-button\"\n            class=\"btn role-primary ml-10\"\n            :disabled=\"controllerLinkDisabled\"\n            @click=\"controllerAppRoute()\"\n          >\n            {{ t(\"kubewarden.monitoring.prerequisites.controllerConfig.button\") }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.checklist {\n  &__container {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    border: 1px solid var(--border);\n    padding: 10px;\n  }\n\n  &__step, &__config {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n  }\n\n  &__step {\n    min-height: 40px;\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MetricsChecklist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MetricsChecklist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MetricsChecklist.vue?vue&type=template&id=0187006d&scoped=true&\"\nimport script from \"./MetricsChecklist.vue?vue&type=script&lang=js&\"\nexport * from \"./MetricsChecklist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MetricsChecklist.vue?vue&type=style&index=0&id=0187006d&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0187006d\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { mapGetters } from 'vuex';\nimport isEmpty from 'lodash/isEmpty';\n\nimport {\n  CATALOG, CONFIG_MAP, MONITORING, NAMESPACE, SERVICE\n} from '@shell/config/types';\nimport { KUBERNETES } from '@shell/config/labels-annotations';\nimport { dashboardExists } from '@shell/utils/grafana';\nimport { monitoringStatus } from '@shell/utils/monitoring';\nimport { allHash } from '@shell/utils/promise';\nimport ResourceFetch from '@shell/mixins/resource-fetch';\n\nimport DashboardMetrics from '@shell/components/DashboardMetrics';\nimport Loading from '@shell/components/Loading';\nimport { Banner } from '@components/Banner';\n\nimport { KUBEWARDEN, KUBEWARDEN_CHARTS, KubewardenDashboardLabels, KubewardenDashboards } from '../types';\nimport { handleGrowl } from '../utils/handle-growl';\nimport { refreshCharts } from '../utils/chart';\nimport { grafanaProxy } from '../modules/grafana';\nimport { monitoringIsConfigured } from '../modules/metricsConfig';\n\nimport MetricsChecklist from './MetricsChecklist';\n\nexport default {\n  props: {\n    active: {\n      type:    Boolean,\n      default: null\n    },\n    resource: {\n      type:    String,\n      default: null\n    }\n  },\n\n  components: {\n    Banner, DashboardMetrics, Loading, MetricsChecklist\n  },\n\n  mixins: [ResourceFetch],\n\n  async fetch() {\n    const resourceMap = [\n      {\n        name:     CATALOG.APP,\n        property: this.allApps\n      },\n      {\n        name:     CATALOG.CLUSTER_REPO,\n        property: this.allRepos\n      },\n      {\n        name:     CONFIG_MAP,\n        property: this.allConfigMaps\n      },\n      {\n        name:     KUBEWARDEN.POLICY_SERVER,\n        property: this.allPolicyServers\n      },\n      {\n        name:     MONITORING.SERVICEMONITOR,\n        property: this.allServiceMonitors\n      },\n      {\n        name:     NAMESPACE,\n        property: this.allNamespaces\n      },\n      {\n        name:     SERVICE,\n        property: this.allServices\n      },\n    ];\n    const hash = [];\n\n    // Check if the resources are already stored with their respective getters before fetching\n    for ( const resource of resourceMap ) {\n      if ( isEmpty(resource.property) && this.$store.getters['cluster/canList'](resource.name) ) {\n        hash.push(this.$fetchType(resource.name));\n      }\n    }\n\n    await allHash(hash);\n\n    if ( this.showChecklist ) {\n      await refreshCharts({ store: this.$store, init: true });\n    }\n\n    // If monitoring is installed look for the dashboard based on the METRICS_TYPE\n    if ( this.monitoringStatus.installed ) {\n      try {\n        this.metricsProxy = await grafanaProxy({ store: this.$store, type: this.METRICS_TYPE });\n\n        if ( this.metricsProxy ) {\n          this.metricsService = await dashboardExists('v2', this.$store, this.currentCluster?.id, this.metricsProxy);\n        }\n      } catch (e) {\n        const error = {\n          _statusText: 'Error',\n          message:     `Error fetching Grafana Service: ${ e }`\n        };\n\n        handleGrowl({ error, store: this.$store });\n      }\n    }\n  },\n\n  data() {\n    const METRICS_TYPE = this.resource === KUBEWARDEN.POLICY_SERVER ? KubewardenDashboards.POLICY_SERVER : KubewardenDashboards.POLICY;\n\n    return {\n      METRICS_TYPE,\n\n      [CATALOG.APP]:               null,\n      [CATALOG.CLUSTER_REPO]:      null,\n      [CONFIG_MAP]:                null,\n      [MONITORING.SERVICEMONITOR]: null,\n      [SERVICE]:                   null,\n      metricsProxy:                null,\n      metricsService:              null\n    };\n  },\n\n  watch: {\n    async grafanaService() {\n      if ( !this.metricsProxy ) {\n        this.metricsProxy = await grafanaProxy({ store: this.$store, type: this.METRICS_TYPE });\n\n        if ( this.metricsProxy ) {\n          this.metricsService = await dashboardExists('v2', this.$store, this.currentCluster?.id, this.metricsProxy);\n        }\n      }\n    }\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster', 'productId']),\n    ...mapGetters({ charts: 'catalog/charts' }),\n    ...monitoringStatus(),\n\n    allApps() {\n      return this.$store.getters['cluster/all'](CATALOG.APP);\n    },\n\n    allRepos() {\n      return this.$store.getters['cluster/all'](CATALOG.CLUSTER_REPO);\n    },\n\n    allConfigMaps() {\n      return this.$store.getters['cluster/all'](CONFIG_MAP);\n    },\n\n    allNamespaces() {\n      return this.$store.getters['cluster/all'](NAMESPACE);\n    },\n\n    allPolicyServers() {\n      return this.$store.getters['cluster/all'](KUBEWARDEN.POLICY_SERVER);\n    },\n\n    allServiceMonitors() {\n      return this.$store.getters['cluster/all'](MONITORING.SERVICEMONITOR);\n    },\n\n    allServices() {\n      return this.$store.getters['cluster/all'](SERVICE);\n    },\n\n    cattleDashboardNs() {\n      return this.allNamespaces.find(ns => ns?.metadata?.name === 'cattle-dashboards');\n    },\n\n    controllerApp() {\n      return this.allApps?.find(app => app?.spec?.chart?.metadata?.name === KUBEWARDEN_CHARTS.CONTROLLER);\n    },\n\n    controllerChart() {\n      return this.charts?.find(chart => chart.chartName === KUBEWARDEN_CHARTS.CONTROLLER);\n    },\n\n    grafanaService() {\n      const monitoringServices = this.allServices?.filter(svc => svc?.metadata?.labels?.['app.kubernetes.io/instance'] === 'rancher-monitoring');\n\n      return monitoringServices?.find(svc => svc?.metadata?.labels?.['app.kubernetes.io/name'] === 'grafana');\n    },\n\n    kubewardenGrafanaDashboards() {\n      return this.allConfigMaps.filter(configMap => configMap?.metadata?.labels?.[KubewardenDashboardLabels.DASHBOARD]);\n    },\n\n    monitoringApp() {\n      return this.allApps?.find(app => app?.spec?.chart?.metadata?.name === 'rancher-monitoring');\n    },\n\n    monitoringChart() {\n      return this.charts?.find(chart => chart.chartName === 'rancher-monitoring');\n    },\n\n    monitoringServiceMonitorsSpec() {\n      if ( this.monitoringApp ) {\n        return this.monitoringApp.spec?.values?.prometheus?.additionalServiceMonitors;\n      }\n\n      return null;\n    },\n\n    monitoringIsConfigured() {\n      return monitoringIsConfigured({\n        serviceMonitorSpec: this.monitoringServiceMonitorsSpec,\n        controllerApp:      this.controllerApp,\n        policyServerSvcs:   this.policyServerSvcs\n      });\n    },\n\n    openTelemetryServices() {\n      if ( this.allServices ) {\n        return this.allServices.filter(svc => svc?.metadata?.labels?.[KUBERNETES.MANAGED_NAME] === 'opentelemetry-operator');\n      }\n\n      return null;\n    },\n\n    openTelSvc() {\n      if ( !isEmpty(this.openTelemetryServices) ) {\n        return this.openTelemetryServices.find((svc) => {\n          const ports = svc?.spec?.ports;\n\n          if ( ports.length ) {\n            return ports.find(p => p.port === 8080);\n          }\n        });\n      }\n\n      return null;\n    },\n\n    policyServerSvcs() {\n      if ( !isEmpty(this.allPolicyServers) ) {\n        const policyServerNames = this.allPolicyServers.map(ps => ps?.metadata?.name);\n        const out = [];\n\n        for ( const ps of policyServerNames ) {\n          out.push(this.allServices?.find(svc => svc?.metadata?.labels?.app === `kubewarden-policy-server-${ ps }`));\n        }\n\n        return out;\n      }\n\n      return null;\n    },\n\n    showChecklist() {\n      const monitoringEnabled = this.controllerApp?.spec?.values?.telemetry?.metrics?.enabled;\n      const grafanaDashboardsInstalled = !isEmpty(this.kubewardenGrafanaDashboards);\n\n      return !this.openTelSvc || !this.monitoringApp || !monitoringEnabled || !this.monitoringIsConfigured || !grafanaDashboardsInstalled;\n    }\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" mode=\"relative\" />\n  <div v-else>\n    <MetricsChecklist\n      v-if=\"showChecklist\"\n      :cattle-dashboard-ns=\"cattleDashboardNs\"\n      :controller-app=\"controllerApp\"\n      :controller-chart=\"controllerChart\"\n      :kubewarden-dashboards=\"kubewardenGrafanaDashboards\"\n      :monitoring-app=\"monitoringApp\"\n      :monitoring-chart=\"monitoringChart\"\n      :open-tel-svc=\"openTelSvc\"\n    />\n\n    <template v-if=\"!showChecklist\">\n      <Banner\n        v-if=\"monitoringApp && !metricsProxy\"\n        color=\"error\"\n        :label=\"t('kubewarden.monitoring.warning.noProxy')\"\n      />\n      <DashboardMetrics\n        v-if=\"metricsProxy && active\"\n        data-testid=\"kw-ps-metrics-dashboard\"\n        :detail-url=\"metricsProxy\"\n        :summary-url=\"metricsProxy\"\n        graph-height=\"825px\"\n      />\n    </template>\n  </div>\n</template>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MetricsTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MetricsTab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MetricsTab.vue?vue&type=template&id=a5e59b18&\"\nimport script from \"./MetricsTab.vue?vue&type=script&lang=js&\"\nexport * from \"./MetricsTab.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".relative[data-v-1fba0390]{position:relative}.policy__mode[data-v-1fba0390]{display:flex;align-items:center}.policy__mode i[data-v-1fba0390]{margin-left:5px;font-size:22px;color:var(--warning)}.gauges[data-v-1fba0390],.gaugesContainer[data-v-1fba0390]{display:flex}.gauges[data-v-1fba0390]{justify-content:space-around;flex-wrap:wrap;justify-content:left}.gauges .count-gauge[data-v-1fba0390]{width:46%;margin-bottom:10px;flex:initial}.gauges>*[data-v-1fba0390]{flex:1;margin-right:1.75%}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".checklist__container[data-v-0187006d]{display:flex;justify-content:center;flex-direction:column;border:1px solid var(--border);padding:10px}.checklist__config[data-v-0187006d],.checklist__step[data-v-0187006d]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.checklist__step[data-v-0187006d]{min-height:40px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('PolicyDetail',{attrs:{\"value\":_vm.value,\"mode\":_vm.mode,\"resource\":_vm.resource}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { _CREATE } from '@shell/config/query-params';\n\nimport PolicyDetail from '../components/Policies/PolicyDetail';\n\nexport default {\n  name: 'AdmissionPolicy',\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE,\n    },\n\n    resource: {\n      type:    String,\n      default: null\n    },\n\n    value: {\n      type:     Object,\n      required: true,\n    },\n  },\n\n  components: { PolicyDetail }\n};\n</script>\n\n<template>\n  <PolicyDetail :value=\"value\" :mode=\"mode\" :resource=\"resource\" />\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=template&id=7e8e6b54&\"\nimport script from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js&\"\nexport * from \"./policies.kubewarden.io.admissionpolicy.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TraceChecklist.vue?vue&type=style&index=0&id=1d35b522&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"188f5f51\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"mb-20\"},[_c('h3',[_vm._v(_vm._s(_vm.t('namespace.resources')))])]),_c('ResourceTabs',{attrs:{\"data-testid\":\"kw-policy-detail-tabs\",\"mode\":_vm.mode,\"need-related\":_vm.hasRelationships},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[(_vm.hasRules)?_c('Tab',{attrs:{\"name\":\"policy-rules\",\"label\":\"Rules\",\"weight\":99}},[_c('RulesTable',{attrs:{\"data-testid\":\"kw-polity-detail-rules-table\",\"rows\":_vm.rulesRows}})],1):_vm._e(),_c('Tab',{attrs:{\"name\":\"policy-tracing\",\"label\":\"Tracing\",\"weight\":98}},[_c('TraceTable',{attrs:{\"resource\":_vm.resource,\"policy\":_vm.value,\"data-testid\":\"kw-policy-detail-trace-table\"}})],1),_c('Tab',{attrs:{\"name\":\"policy-metrics\",\"label\":\"Metrics\",\"weight\":97},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('MetricsTab',{attrs:{\"resource\":_vm.resource,\"active\":props.active}})]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.rows.length > 0)?_c('SortableTable',{attrs:{\"data-testid\":\"kw-policy-rules-sortable-table\",\"rows\":_vm.rows,\"headers\":_vm.RULE_HEADERS,\"table-actions\":false,\"row-actions\":false,\"key-field\":\"traceID\",\"default-sort-by\":\"startTime\"},scopedSlots:_vm._u([{key:\"col:apiGroup\",fn:function({row}){return [_c('td',[_c('span',[_vm._v(_vm._s(row.apiGroups || '-'))])])]}},{key:\"col:apiVersion\",fn:function({row}){return [_c('td',[_c('span',[_vm._v(_vm._s(row.apiVersions || '-'))])])]}},{key:\"col:operations\",fn:function({row}){return [_c('td',[_c('span',[_vm._v(_vm._s(_vm.joinColumn(row.operations)))])])]}},{key:\"col:resources\",fn:function({row}){return [_c('td',[_c('span',[_vm._v(_vm._s(_vm.joinColumn(row.resources)))])])]}}],null,false,1857136105)}):_c('div',[_c('Banner',{staticClass:\"type-banner mb-20 mt-0\",attrs:{\"color\":\"warning\",\"label\":_vm.t('kubewarden.policies.noRules')}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { Banner } from '@components/Banner';\nimport SortableTable from '@shell/components/SortableTable';\n\nimport { RULE_HEADERS } from '../config/table-headers';\n\nexport default {\n  props: {\n    rows: {\n      type:     Array,\n      default:  () => []\n    }\n  },\n\n  components: { Banner, SortableTable },\n\n  data() {\n    return { RULE_HEADERS };\n  },\n\n  methods: {\n    joinColumn(resource) {\n      return resource?.join(', ') || '';\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <SortableTable\n      v-if=\"rows.length > 0\"\n      data-testid=\"kw-policy-rules-sortable-table\"\n      :rows=\"rows\"\n      :headers=\"RULE_HEADERS\"\n      :table-actions=\"false\"\n      :row-actions=\"false\"\n      key-field=\"traceID\"\n      default-sort-by=\"startTime\"\n    >\n      <template #col:apiGroup=\"{row}\">\n        <td>\n          <span>{{ row.apiGroups || '-' }}</span>\n        </td>\n      </template>\n\n      <template #col:apiVersion=\"{row}\">\n        <td>\n          <span>{{ row.apiVersions || '-' }}</span>\n        </td>\n      </template>\n\n      <template #col:operations=\"{row}\">\n        <td>\n          <span>{{ joinColumn(row.operations) }}</span>\n        </td>\n      </template>\n\n      <template #col:resources=\"{row}\">\n        <td>\n          <span>{{ joinColumn(row.resources) }}</span>\n        </td>\n      </template>\n    </SortableTable>\n    <div v-else>\n      <Banner\n        class=\"type-banner mb-20 mt-0\"\n        color=\"warning\"\n        :label=\"t('kubewarden.policies.noRules')\"\n      />\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RulesTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RulesTable.vue?vue&type=template&id=43829b53&\"\nimport script from \"./RulesTable.vue?vue&type=script&lang=js&\"\nexport * from \"./RulesTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { mapGetters } from 'vuex';\nimport isEmpty from 'lodash/isEmpty';\n\nimport { _CREATE } from '@shell/config/query-params';\nimport { monitoringStatus } from '@shell/utils/monitoring';\nimport CreateEditView from '@shell/mixins/create-edit-view';\n\nimport ResourceTabs from '@shell/components/form/ResourceTabs';\nimport Tab from '@shell/components/Tabbed/Tab';\n\nimport MetricsTab from '../MetricsTab';\nimport RulesTable from '../RulesTable';\nimport TraceTable from '../TraceTable';\n\nexport default {\n  name: 'PolicyDetail',\n\n  components: {\n    MetricsTab, ResourceTabs, RulesTable, Tab, TraceTable\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE,\n    },\n\n    resource: {\n      type:    String,\n      default: null\n    },\n\n    value: {\n      type:     Object,\n      required: true,\n    },\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n    ...monitoringStatus(),\n\n    dashboardVars() {\n      return { policy_name: `clusterwide-${ this.value?.id }` };\n    },\n\n    hasRelationships() {\n      return !!this.value.metadata?.relationships;\n    },\n\n    hasRules() {\n      return !isEmpty(this.rulesRows[0]);\n    },\n\n    rulesRows() {\n      return this.value.spec?.rules;\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"mb-20\">\n      <h3>{{ t('namespace.resources') }}</h3>\n    </div>\n    <ResourceTabs v-model=\"value\" data-testid=\"kw-policy-detail-tabs\" :mode=\"mode\" :need-related=\"hasRelationships\">\n      <Tab v-if=\"hasRules\" name=\"policy-rules\" label=\"Rules\" :weight=\"99\">\n        <RulesTable data-testid=\"kw-polity-detail-rules-table\" :rows=\"rulesRows\" />\n      </Tab>\n\n      <Tab name=\"policy-tracing\" label=\"Tracing\" :weight=\"98\">\n        <TraceTable :resource=\"resource\" :policy=\"value\" data-testid=\"kw-policy-detail-trace-table\" />\n      </Tab>\n\n      <Tab #default=\"props\" name=\"policy-metrics\" label=\"Metrics\" :weight=\"97\">\n        <MetricsTab :resource=\"resource\" :active=\"props.active\" />\n      </Tab>\n    </ResourceTabs>\n  </div>\n</template>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PolicyDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PolicyDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PolicyDetail.vue?vue&type=template&id=7503283a&\"\nimport script from \"./PolicyDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./PolicyDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MetricsChecklist.vue?vue&type=style&index=0&id=0187006d&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"30a7f2a2\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('PolicyDetail',{attrs:{\"value\":_vm.value,\"mode\":_vm.mode,\"resource\":_vm.resource}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { _CREATE } from '@shell/config/query-params';\n\nimport PolicyDetail from '../components/Policies/PolicyDetail';\n\nexport default {\n  name: 'ClusterAdmissionPolicy',\n\n  props: {\n    mode: {\n      type:    String,\n      default: _CREATE,\n    },\n\n    resource: {\n      type:    String,\n      default: null\n    },\n\n    value: {\n      type:     Object,\n      required: true,\n    },\n  },\n\n  components: { PolicyDetail }\n};\n</script>\n\n<template>\n  <PolicyDetail :value=\"value\" :mode=\"mode\" :resource=\"resource\" />\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=template&id=58c4f9b2&\"\nimport script from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js&\"\nexport * from \"./policies.kubewarden.io.clusteradmissionpolicy.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TraceTable.vue?vue&type=style&index=0&id=7aeed565&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2bc3dc22\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var map = {\n\t\"./kubewarden-dashboard-policy.json\": [\n\t\t\"ec40\",\n\t\t8\n\t],\n\t\"./kubewarden-dashboard-policyserver.json\": [\n\t\t\"82e7\",\n\t\t9\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__.t(id, 3);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"cb8a\";\nmodule.exports = webpackAsyncContext;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".sub-row[data-v-7aeed565]{background-color:var(--body-bg);border-bottom:1px solid var(--sortable-table-top-divider);padding-left:1rem;padding-right:1rem}.details[data-v-7aeed565]{display:grid;grid-auto-flow:column;grid-auto-columns:minmax(0,1fr);gap:1em}.details .col[data-v-7aeed565]{display:flex;flex-direction:column}.details .col section[data-v-7aeed565]{margin-bottom:1.5rem}.details .col .title[data-v-7aeed565]{color:var(--muted);margin-bottom:.5rem}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".checklist__container[data-v-1d35b522]{display:flex;justify-content:center;flex-direction:column;border:1px solid var(--border);padding:10px}.checklist__config[data-v-1d35b522],.checklist__step[data-v-1d35b522]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.checklist__step[data-v-1d35b522]{min-height:40px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./MetricsChecklist.vue?vue&type=style&index=0&id=0187006d&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./TraceChecklist.vue?vue&type=style&index=0&id=1d35b522&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./policies.kubewarden.io.policyserver.vue?vue&type=style&index=0&id=1fba0390&prod&lang=scss&scoped=true&\""],"sourceRoot":""}