(("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_1_3_0"]=("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_1_3_0"]||[]).push([[13],{4303:function(e,t,s){"use strict";s("d6b3")},"5d9d":function(e,t,s){var r=s("5eaa");t=r(!1),t.push([e.i,".pr-tab__container .sizzle-warning-bg[data-v-52048920]{background-color:#614ea2;color:#fff}.pr-tab__container .text-warning[data-v-52048920]{color:var(--warning)!important}.pr-tab__container .text-darker[data-v-52048920]{color:var(--dark)!important}.pr-tab__container .sizzle-warning[data-v-52048920]{color:#614ea2}.pr-tab__sub-row[data-v-52048920]{background-color:var(--body-bg);border-bottom:1px solid var(--sortable-table-top-divider);padding-left:1rem;padding-right:1rem}.pr-tab__sub-row .message[data-v-52048920]{display:flex;flex-direction:column}.pr-tab__sub-row .details[data-v-52048920]{display:flex;flex-direction:row}.pr-tab__sub-row .details .col[data-v-52048920]{display:flex;flex-direction:column}.pr-tab__sub-row .details .col section[data-v-52048920]{margin-bottom:1.5rem}.pr-tab__sub-row .details .col .title[data-v-52048920]{color:var(--muted);margin-bottom:.5rem}",""]),e.exports=t},8564:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading",{attrs:{mode:"relative"}}):t("div",{staticClass:"pr-tab__container"},[e.reports?t("SortableTable",{attrs:{rows:e.reports,headers:e.headers,"table-actions":!1,"row-actions":!1,"key-field":"uid","sub-expandable":!0,"sub-expand-column":!0,"sub-rows":!0,paging:!0,"rows-per-page":25,"extra-search-fields":["result"],"default-sort-by":"status"},scopedSlots:e._u([e.isNamespaceResource?{key:"col:kind",fn:function({row:s}){return[t("td",[e._v(e._s(e.getResourceValue(s,"kind",!0)))])]}}:null,e.isNamespaceResource?{key:"col:name",fn:function({row:s}){return[t("td",[e.canGetResourceLink(s)?[t("n-link",{attrs:{to:e.getResourceLink(s)}},[t("span",[e._v(e._s(e.getResourceValue(s,"name",!0)))])])]:[t("span",[e._v(e._s(e.getResourceValue(s,"name",!0)))])]],2)]}}:null,{key:"col:policy",fn:function({row:s}){return[s.policy&&s.rule?t("td",{class:{"text-bold":e.isNamespaceResource}},[e.canGetKubewardenLinks?[t("n-link",{attrs:{to:e.getPolicyLink(s)}},[t("span",[e._v(e._s(s.rule))])])]:[t("span",[e._v(e._s(s.rule))])]],2):e._e()]}},{key:"col:severity",fn:function({row:s}){return[t("td",[t("BadgeState",{attrs:{label:e.getResourceValue(s,"severity"),color:e.severityColor(s)}})],1)]}},{key:"col:status",fn:function({row:s}){return[t("td",[t("BadgeState",{attrs:{label:e.getResourceValue(s,"result"),color:e.statusColor(s)}})],1)]}},{key:"sub-row",fn:function({row:s,fullColspan:r}){return[t("td",{staticClass:"pr-tab__sub-row",attrs:{colspan:r}},[s.message?t("Banner",{staticClass:"message",attrs:{color:"info"}},[t("span",{staticClass:"text-muted"},[e._v(e._s(e.t("kubewarden.policyReporter.headers.policyReportsTab.message.title"))+":")]),t("span",[e._v(e._s(s.message))])]):e._e(),t("div",{staticClass:"details"},[t("section",{staticClass:"col"},[t("div",{staticClass:"title"},[e._v(" "+e._s(e.t("kubewarden.policyReporter.headers.policyReportsTab.properties.mutating"))+" ")]),t("span",[e._v(" "+e._s(s.properties["mutating"]||"-")+" ")])]),t("section",{staticClass:"col"},[t("div",{staticClass:"title"},[e._v(" "+e._s(e.t("kubewarden.policyReporter.headers.policyReportsTab.properties.validating"))+" ")]),t("span",[e._v(" "+e._s(s.properties["validating"]||"-")+" ")])])])],1)]}}],null,!0)}):e._e()],1)},a=[],o=s("330a"),i=s.n(o),n=s("da25"),c=s("a8b9"),l=s("2359"),u=s("f17a"),d=s("6418"),p=s("15ca"),b=s("0fb1"),_=s("90cd"),f=s("5191"),v=s("ad2f"),g=s("ed89"),m=s("df4c"),h={props:{resource:{type:Object,required:!0}},components:{BadgeState:u["a"],Banner:d["a"],Loading:p["a"],SortableTable:b["b"]},mixins:[l["a"]],async fetch(){const e=await Object(v["c"])(this.$store,this.resource);if(this.isNamespaceResource?this.reports=(null===e||void 0===e?void 0:e.results)||[]:this.reports=e||[],!i()(this.reports)){const e=[this.$fetchType(_["e"].ADMISSION_POLICY),this.$fetchType(_["e"].CLUSTER_ADMISSION_POLICY)];await Object(c["a"])(e)}},data(){return{colorForResult:v["a"],headers:f["c"],reports:null}},created(){this.isNamespaceResource||(this.headers=this.headers.slice(2))},computed:{canGetKubewardenLinks(){const e=this.$store.getters["cluster/schemaFor"](_["e"].CLUSTER_ADMISSION_POLICY),t=this.$store.getters["cluster/schemaFor"](_["e"].ADMISSION_POLICY);return!(!e&&!t)},hasNamespace(){var e,t;return null===(e=this.resource)||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.namespace},isNamespaceResource(){var e;return(null===(e=this.resource)||void 0===e?void 0:e.type)===n["g"]}},methods:{canGetResourceLink(e){const t=null===e||void 0===e?void 0:e.resources[0];if(t){const e=Object.values(m).find(e=>t.kind===e.attributes.kind);var s;if(e)return this.$store.getters["cluster/schemaFor"](null===(s=t.kind)||void 0===s?void 0:s.toLowerCase());const r=Object(g["a"])(t);if(r)return this.$store.getters["cluster/schemaFor"](r)}return null},getResourceValue(e,t,s=!1){return this.isNamespaceResource&&s&&!i()(e.resources)?e.resources[0][t]||"-":i()(e)?"-":e[t]||"-"},getPolicyLink(e){return Object(v["e"])(this.$store,e)},getResourceLink(e){return Object(v["f"])(e)},severityColor(e){return e.result?Object(v["b"])(e.severity):"bg-muted"},statusColor(e){if(e.result){const t=Object(v["a"])(e.result),s=t.includes("sizzle")?t.concat("-bg"):t.replace(/text-/,"bg-");return s}return"bg-muted"}}},w=h,y=(s("4303"),s("d802")),k=Object(y["a"])(w,r,a,!1,null,"52048920",null);t["default"]=k.exports},d6b3:function(e,t,s){var r=s("5d9d");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=s("0ed3").default;a("1813f830",r,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=kubewarden-1.3.0.umd.min.13.js.map